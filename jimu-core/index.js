define(["jimu-core/react","jimu-core/react-dom"],(function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=144)}([function(t,r){t.exports=e},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},function(e,t,r){"use strict";r.r(t),r.d(t,"NODEJS_DEFAULT_REFERER_HEADER",(function(){return o.b})),r.d(t,"setDefaultRequestOptions",(function(){return o.e})),r.d(t,"ArcGISAuthError",(function(){return o.a})),r.d(t,"checkForErrors",(function(){return o.c})),r.d(t,"request",(function(){return o.d})),r.d(t,"appendCustomParams",(function(){return i.a})),r.d(t,"ArcGISRequestError",(function(){return a.a})),r.d(t,"cleanUrl",(function(){return s.a})),r.d(t,"encodeFormData",(function(){return u.a})),r.d(t,"encodeParam",(function(){return c.a})),r.d(t,"encodeQueryString",(function(){return c.b})),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"requiresFormData",(function(){return l.b})),r.d(t,"processParams",(function(){return l.a})),r.d(t,"warn",(function(){return f.a}));var n,o=r(103),i=r(105),a=r(31),s=r(104),u=r(62),c=r(38);!function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError"}(n||(n={}));var l=r(25),f=r(61)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(175),i=r(85),a=r(177);t.createAppStore=function(e){if(n)return n;var t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):i.compose)(i.applyMiddleware(a.default));return n=i.createStore(o.default,e,t),window._appStore=n,n},t.getAppStore=function(){return n},t.observeStore=function(e,t){var r;function o(){var o=n.getState();t?(o=o.getIn(t))!==r&&(e(r,o),r=o):o!==r&&(e(r,o),r=o)}var i=n.subscribe(o);return o(),i}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NotCreated="NOT_CREATED",e.Created="CREATED",e.CreateError="CREATE_ERROR",e.Unloaded="UNLOADED",e.Loading="LOADING",e.Loaded="LOADED",e.LoadError="LOAD_ERROR",e.Saving="SAVING",e.Saved="SAVED",e.SaveError="SAVE_ERROR",e.Closed="CLOSED",e.Connecting="CONNECTING",e.Connected="CONNECTED",e.Closing="CLOSING"}(t.DataSourceStatus||(t.DataSourceStatus={})),function(e){e.SimpleLocal="SIMPLE_LOCAL",e.CSV="CSV",e.FeatureLayer="FEATURE_LAYER",e.FeatureQuery="FEATURE_LAYER",e.FeatureSet="FEATURE_SET",e.GroupLayer="GROUP_LAYER",e.FeatureService="FEATURE_SERVICE",e.MapService="MAP_SERVICE"}(t.DataSourceTypes||(t.DataSourceTypes={})),function(e){e.FeatureLayer="Feature Layer",e.Table="Table",e.GroupLayer="Group Layer"}(t.SupportedLayerServiceTypes||(t.SupportedLayerServiceTypes={})),function(e){e.FeatureService="FeatureServer",e.MapService="MapServer"}(t.SupportedServiceTypes||(t.SupportedServiceTypes={})),function(e){e.FeatureLayer="feature",e.MapImageLayer="map-image",e.TileLayer="tile",e.GroupLayer="group"}(t.SupportedLayerTypes||(t.SupportedLayerTypes={})),function(e){e.InAllData="IN_ALL_DATA",e.InRemoteConfigView="IN_REMOTE_CONFIG_VIEW",e.InConfigView="IN_CONFIG_VIEW",e.InRuntimeView="IN_RUNTIME_VIEW"}(t.QueryScope||(t.QueryScope={}));var i=function(e){function t(t,r){var n=e.call(this,r)||this;return n.dataSourceId=t,n}return o(t,e),t}(Error);t.DataSourceError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Small="SMALL",e.Medium="MEDIUM",e.Large="LARGE"}(t.BrowserSizeMode||(t.BrowserSizeMode={})),function(e){e.String="STRING",e.Number="NUMBER",e.Date="DATE"}(t.JimuFieldType||(t.JimuFieldType={})),function(e){e.Blob="esriFieldTypeBlob",e.Date="esriFieldTypeDate",e.Double="esriFieldTypeDouble",e.Geometry="esriFieldTypeGeometry",e.GlobalID="esriFieldTypeGlobalID",e.GUID="esriFieldTypeGUID",e.Integer="esriFieldTypeInteger",e.OID="esriFieldTypeOID",e.Raster="esriFieldTypeRaster",e.Single="esriFieldTypeSingle",e.SmallInteger="esriFieldTypeSmallInteger",e.String="esriFieldTypeString",e.XML="esriFieldTypeXML"}(t.EsriFieldType||(t.EsriFieldType={})),function(e){e.Fetching="FETCHING",e.Success="SUCCESS",e.Error="ERROR"}(t.AjaxState||(t.AjaxState={})),function(e){e.Design="DESIGN",e.Run="RUN"}(t.AppMode||(t.AppMode={})),function(e){e.Opened="OPENED",e.Active="ACTIVE",e.Closed="CLOSED"}(t.WidgetState||(t.WidgetState={})),function(e){e.None="NONE",e.Page="PAGE",e.Dialog="DIALOG",e.View="VIEW",e.WebAddress="WEB_ADDRESS"}(t.LinkType||(t.LinkType={})),function(e){e.Normal="NORMAL",e.Layout="LAYOUT"}(t.WidgetType||(t.WidgetType={})),t.ESRI_DATE_FORMAT_ARRAY=["shortDate","shortDateLE","longMonthDayYear","dayShortMonthYear","longDate","shortDateShortTime","shortDateLEShortTime","shortDateShortTime24","shortDateLEShortTime24","shortDateLongTime","shortDateLELongTime","shortDateLongTime24","shortDateLELongTime24","longMonthYear","shortMonthYear","year"],function(e){e.Header="HEADER",e.Footer="FOOTER",e.Body="BODY"}(t.PagePart||(t.PagePart={})),function(e){e.Http="http:",e.Https="https:"}(t.UrlProtocol||(t.UrlProtocol={})),t.APP_FRAME_NAME_IN_BUILDER="_appWindow",function(e){e.Image="IMAGE",e.Config="CONFIG"}(t.ResourceType||(t.ResourceType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(12),i=r(19);function a(e){return window.SystemJS.get(u(e))}function s(e){return window.SystemJS.import(e).then((function(t){return n.getAppStore().dispatch(o.dynamicModuleLoaded(e)),t})).catch((function(e){i.checkUpdate().then((function(e){e&&n.getAppStore().dispatch(o.setHasNewVersion(!0))}))}))}function u(e){return window.SystemJS.resolveSync(e)}t.getModuleSync=a,t.loadModule=s,t.loadModules=function(e){return Promise.all(e.map((function(e){return s(e)})))},t.resolveModuleFullUrl=u,t.resolveModuleFullPath=function(e){var t=u(e);return/^file:/.test(t)?t:t.substring((window.location.protocol+"//"+window.location.host).length,t.length)},t.getJimuForBuilderModules=function(){return a("jimu-for-builder")}},function(e,t,r){"use strict";function n(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}r.d(t,"a",(function(){return n}))},function(e,t,r){e.exports=r(145)()},function(e,t,r){var n;!function(){"use strict";var o=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}function s(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")))}function u(e,t){return e===t||e!=e&&t!=t}function c(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var l=["setPrototypeOf"],f=(l.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function d(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function p(e,t){return a(e,"__immutable_invariants_hold",!0),e}function h(e,t){var r=e[t];a(e,t,(function(){return B(r.apply(e,arguments))}))}function g(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&c(t)&&c(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var o=O.call(this);return o[e]=B(t),y(o)}l.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),d.prototype=new Error,d.prototype.constructor=Error;var m=B([]);function v(e,t,r){var n=e[0];if(1===e.length)return g.call(this,n,t,r);var o,i=e.slice(1),a=this[n];if("object"==typeof a&&null!==a)o=B.setIn(a,i,t);else{var s=i[0];o=""!==s&&isFinite(s)?v.call(m,i,t):j.call(D,i,t)}if(n in this&&a===o)return this;var u=O.call(this);return u[n]=o,y(u)}function y(e){for(var t in f){if(f.hasOwnProperty(t))h(e,f[t])}o.use_static||(a(e,"flatMap",w),a(e,"asObject",I),a(e,"asMutable",O),a(e,"set",g),a(e,"setIn",v),a(e,"update",R),a(e,"updateIn",N),a(e,"getIn",L));for(var r=0,n=e.length;r<n;r++)e[r]=B(e[r]);return p(e)}function b(){return new Date(this.getTime())}function w(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return y(r)}function S(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=i(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return V(r)}function O(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(_(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function I(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this),i=o[0],a=o[1];r[i]=a}return V(r)}function _(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")||e instanceof Date?e:B.asMutable(e,{deep:!0})}function E(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function T(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,o=Array.isArray(e),a=t&&t.deep,s=t&&t.mode||"merge",l=t&&t.merger;function f(e,n,o){var s,f=B(n[o]),d=l&&l(e[o],f,t),p=e[o];void 0===r&&void 0===d&&e.hasOwnProperty(o)&&u(f,p)||(u(p,s=void 0!==d?d:a&&c(p)&&c(f)?B.merge(p,f,t):f)&&e.hasOwnProperty(o)||(void 0===r&&(r=E(e,i(e))),r[o]=s))}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=E(e,i(e))),delete r[n])}if(o)for(var p=0,h=e.length;p<h;p++){var g=e[p];for(n in g)g.hasOwnProperty(n)&&f(void 0!==r?r:this,g,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&f(this,e,n);"replace"===s&&d(this,e)}return void 0===r?this:V(r)}function C(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return B.merge(this,e,{deep:r,mode:"replace"})}var A,P,x,D=B({});function j(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return k.call(this,n,t,r);var o,a=e.slice(1),s=this[n];if(o=this.hasOwnProperty(n)&&"object"==typeof s&&null!==s?B.setIn(s,a,t):j.call(D,a,t),this.hasOwnProperty(n)&&s===o)return this;var u=E(this,i(this));return u[n]=o,V(u)}function k(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&c(t)&&c(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var o=E(this,i(this));return o[e]=B(t),V(o)}function R(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return B.set(this,e,t.apply(n,[n].concat(r)))}function M(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function N(e,t){var r=Array.prototype.slice.call(arguments,2),n=M(this,e);return B.setIn(this,e,t.apply(n,[n].concat(r)))}function L(e,t){var r=M(this,e);return void 0===r?t:r}function F(e){var t,r=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=_(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function U(){return{}}function V(e){return o.use_static||(a(e,"merge",T),a(e,"replace",C),a(e,"without",S),a(e,"asMutable",F),a(e,"set",k),a(e,"setIn",j),a(e,"update",R),a(e,"updateIn",N),a(e,"getIn",L)),p(e)}function B(e,t,r){if(s(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(B);if(Array.isArray(e))return y(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),o.use_static||a(i,"asMutable",b),p(i);var i,u=t&&t.prototype,c=(u&&u!==Object.prototype?function(){return Object.create(u)}:U)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(c[l]=B(e[l],void 0,r));return V(c)}function W(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function q(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return B.from=B,B.isImmutable=s,B.ImmutableError=d,B.merge=W(T),B.replace=W(C),B.without=W(S),B.asMutable=(A=F,P=O,x=b,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?P.apply(t,e):t instanceof Date?x.apply(t,e):A.apply(t,e)}),B.set=q(k,g),B.setIn=q(j,v),B.update=W(R),B.updateIn=W(N),B.getIn=W(L),B.flatMap=W(w),B.asObject=W(I),o.use_static||(B.static=e({use_static:!0})),Object.freeze(B),B}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.r(t),r.d(t,"apply",(function(){return Te})),r.d(t,"config",(function(){return U})),r.d(t,"update",(function(){return M})),r.d(t,"animated",(function(){return Pe})),r.d(t,"a",(function(){return Pe})),r.d(t,"interpolate",(function(){return F})),r.d(t,"Globals",(function(){return D})),r.d(t,"useSpring",(function(){return z})),r.d(t,"useTrail",(function(){return $})),r.d(t,"useTransition",(function(){return X})),r.d(t,"useChain",(function(){return V})),r.d(t,"useSprings",(function(){return H}));var i=r(0),a=r.n(i);const s={arr:Array.isArray,obj:e=>"[object Object]"===Object.prototype.toString.call(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,nul:e=>null===e,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(s.str(e)||s.num(e))return e===t;if(s.obj(e)&&s.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let r;for(r in e)if(!(r in t))return!1;for(r in t)if(e[r]!==t[r])return!1;return!s.und(r)||e===t}};function u(){const e=Object(i.useState)(!1)[1];return Object(i.useCallback)(()=>e(e=>!e),[])}function c(e,t){return s.und(e)||s.nul(e)?t:e}function l(e){return s.und(e)?[]:s.arr(e)?e:[e]}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s.fun(e)?e(...r):e}function d(e){const t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,o(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(s.und(t))return n({to:t},e);const r=Object.keys(e).reduce((r,o)=>s.und(t[o])?n({},r,{[o]:e[o]}):r,{});return n({to:t},r)}class p{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){0===this.children.length&&this.attach(),this.children.push(e)}removeChild(e){const t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}class h extends p{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof p&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof p&&e.removeChild(this))}}class g extends p{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof p&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof p&&e.removeChild(this))}getValue(e){void 0===e&&(e=!1);const t={};for(const r in this.payload){const n=this.payload[r];(!e||n instanceof p)&&(t[r]=n instanceof p?n[e?"getAnimatedValue":"getValue"]():n)}return t}getAnimatedValue(){return this.getValue(!0)}}let m,v;function y(e,t){m={fn:e,transform:t}}function b(e){v=e}let w,S=e=>"undefined"!=typeof window?window.requestAnimationFrame(e):-1,O=e=>{"undefined"!=typeof window&&window.cancelAnimationFrame(e)};function I(e){w=e}let _,E=()=>Date.now();function T(e){_=e}let C,A,P=e=>e.current;function x(e){C=e}var D=Object.freeze({get applyAnimatedValues(){return m},injectApplyAnimatedValues:y,get colorNames(){return v},injectColorNames:b,get requestFrame(){return S},get cancelFrame(){return O},injectFrame:function(e,t){S=e,O=t},get interpolation(){return w},injectStringInterpolator:I,get now(){return E},injectNow:function(e){E=e},get defaultElement(){return _},injectDefaultElement:T,get animatedApi(){return P},injectAnimatedApi:function(e){P=e},get createAnimatedStyle(){return C},injectCreateAnimatedStyle:x,get manualFrameloop(){return A},injectManualFrameloop:function(e){A=e}});class j extends g{constructor(e,t){super(),this.update=void 0,this.payload=e.style?n({},e,{style:C(e.style)}):e,this.update=t,this.attach()}}let k=!1;const R=new Set,M=()=>{if(!k)return!1;let e=E();for(let t of R){let r=!1;for(let n=0;n<t.configs.length;n++){let o,i,a=t.configs[n];for(let t=0;t<a.animatedValues.length;t++){let n=a.animatedValues[t];if(n.done)continue;let s=a.fromValues[t],u=a.toValues[t],c=n.lastPosition,l=u instanceof p,f=Array.isArray(a.initialVelocity)?a.initialVelocity[t]:a.initialVelocity;if(l&&(u=u.getValue()),a.immediate)n.setValue(u),n.done=!0;else if("string"!=typeof s&&"string"!=typeof u){if(void 0!==a.duration)c=s+a.easing((e-n.startTime)/a.duration)*(u-s),o=e>=n.startTime+a.duration;else if(a.decay)c=s+f/(1-.998)*(1-Math.exp(-(1-.998)*(e-n.startTime))),o=Math.abs(n.lastPosition-c)<.1,o&&(u=c);else{i=void 0!==n.lastTime?n.lastTime:e,f=void 0!==n.lastVelocity?n.lastVelocity:a.initialVelocity,e>i+64&&(i=e);let t=Math.floor(e-i);for(let e=0;e<t;++e){f+=1*((-a.tension*(c-u)+-a.friction*f)/a.mass)/1e3,c+=1*f/1e3}let r=!(!a.clamp||0===a.tension)&&(s<u?c>u:c<u),l=Math.abs(f)<=a.precision,d=0===a.tension||Math.abs(u-c)<=a.precision;o=r||l&&d,n.lastVelocity=f,n.lastTime=e}l&&!a.toValues[t].done&&(o=!1),o?(n.value!==u&&(c=u),n.done=!0):r=!0,n.setValue(c),n.lastPosition=c}else n.setValue(u),n.done=!0}t.props.onFrame&&(t.values[a.name]=a.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),r||(R.delete(t),t.stop(!0))}return R.size?A?A():S(M):k=!1,k};function N(e,t,r){if("function"==typeof e)return e;if(Array.isArray(e))return N({range:e,output:t,extrapolate:r});if(w&&"string"==typeof e.output[0])return w(e);const n=e,o=n.output,i=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",u=n.easing||(e=>e);return e=>{const t=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(e,i);return function(e,t,r,n,o,i,a,s,u){let c=u?u(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>r){if("identity"===s)return c;"clamp"===s&&(c=r)}if(n===o)return n;if(t===r)return e<=t?n:o;t===-1/0?c=-c:r===1/0?c-=t:c=(c-t)/(r-t);c=i(c),n===-1/0?c=-c:o===1/0?c+=n:c=c*(o-n)+n;return c}(e,i[t],i[t+1],o[t],o[t+1],u,a,s,n.map)}}class L extends h{constructor(e,t,r,n){super(),this.calc=void 0,this.payload=e instanceof h&&!(e instanceof L)?e.getPayload():Array.isArray(e)?e:[e],this.calc=N(t,r,n)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,t,r){this.calc=N(e,t,r)}interpolate(e,t,r){return new L(this,e,t,r)}}const F=(e,t,r)=>e&&new L(e,t,r),U={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function V(e,t,r){void 0===r&&(r=1e3);const o=Object(i.useRef)();Object(i.useEffect)(()=>{s.equ(e,o.current)?e.forEach(e=>{let t=e.current;return t&&t.start()}):t?e.forEach((e,o)=>{let i=e.current;if(i){const e=i.controllers;if(e.length){const i=r*t[o];e.forEach(e=>{e.queue=e.queue.map(e=>n({},e,{delay:e.delay+i})),e.start()})}}}):e.reduce((e,t,r)=>{let n=t.current;return e.then(()=>n.start())},Promise.resolve()),o.current=e})}class B extends p{constructor(e){var t;super(),t=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(e,r){void 0===r&&(r=!0),t.value=e,r&&t.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){0===this.animatedStyles.size&&function e(t,r){"update"in t?r.add(t):t.getChildren().forEach(t=>e(t,r))}(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,t,r){return new L(this,e,t,r)}}class W extends h{constructor(e){super(),this.payload=e.map(e=>new B(e))}setValue(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((e,r)=>this.payload[r].setValue(e,t)):this.payload.forEach(r=>r.setValue(e,t))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,t){return new L(this,e,t)}}let q=0;class G{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=q++}update(e){if(!e)return this;const t=d(e),r=t.delay,i=void 0===r?0:r,a=t.to,u=o(t,["delay","to"]);if(s.arr(a)||s.fun(a))this.queue.push(n({},u,{delay:i,to:a}));else if(a){let e={};Object.entries(a).forEach(t=>{let r=t[0];const o=n({to:{[r]:t[1]},delay:f(i,r)},u),a=e[o.delay]&&e[o.delay].to;e[o.delay]=n({},e[o.delay],o,{to:n({},a,o.to)})}),this.queue=Object.values(e)}return this.queue=this.queue.sort((e,t)=>e.delay-t.delay),this.diff(u),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(e=>{let t=e.from,r=void 0===t?{}:t,o=e.to,i=void 0===o?{}:o;s.obj(r)&&(this.merged=n({},r,this.merged)),s.obj(i)&&(this.merged=n({},this.merged,i))});const t=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((n,i)=>{let a=n.delay,u=o(n,["delay"]);const c=n=>{i===r.length-1&&t===this.guid&&n&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let l=s.arr(u.to)||s.fun(u.to);a?setTimeout(()=>{t===this.guid&&(l?this.runAsync(u,c):this.diff(u).start(c))},a):l?this.runAsync(u,c):this.diff(u).start(c)})}else s.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,R.has(t)||R.add(t),k||(k=!0,S(A||M));var t;return this}stop(e){return this.listeners.forEach(t=>t(e)),this.listeners=[],this}pause(e){var t;return this.stop(!0),e&&(t=this,R.has(t)&&R.delete(t)),this}runAsync(e,t){var r=this;e.delay;let i=o(e,["delay"]);const a=this.local;let u=Promise.resolve(void 0);if(s.arr(i.to))for(let e=0;e<i.to.length;e++){const t=e,r=n({},i,d(i.to[t]));s.arr(r.config)&&(r.config=r.config[t]),u=u.then(()=>{if(a===this.guid)return new Promise(e=>this.diff(r).start(e))})}else if(s.fun(i.to)){let e,t=0;u=u.then(()=>i.to(r=>{const o=n({},i,d(r));if(s.arr(o.config)&&(o.config=o.config[t]),t++,a===this.guid)return e=new Promise(e=>this.diff(o).start(e))},(function(e){return void 0===e&&(e=!0),r.stop(e)})).then(()=>e))}u.then(t)}diff(e){this.props=n({},this.props,e);let t=this.props,r=t.from,o=void 0===r?{}:r,i=t.to,a=void 0===i?{}:i,u=t.config,d=void 0===u?{}:u,p=t.reverse,h=t.attach,g=t.reset,m=t.immediate;if(p){var y=[a,o];o=y[0],a=y[1]}this.merged=n({},o,this.merged,a),this.hasChanged=!1;let b=h&&h(this);if(this.animations=Object.entries(this.merged).reduce((e,t)=>{let r=t[0],i=t[1],a=e[r]||{};const u=s.num(i),p=s.str(i)&&!i.startsWith("#")&&!/\d/.test(i)&&!v[i],h=s.arr(i),y=!u&&!h&&!p;let S=s.und(o[r])?i:o[r],O=u||h||p?i:1,I=f(d,r);b&&(O=b.animations[r].parent);let _,T=a.parent,C=a.interpolation,A=l(b?O.getPayload():O),P=i;y&&(P=w({range:[0,1],output:[i,i]})(1));let x=C&&C.getValue();const D=!s.und(T)&&a.animatedValues.some(e=>!e.done),j=!s.equ(P,x),k=!s.equ(P,a.previous),R=!s.equ(I,a.config);if(g||k&&j||R){if(u||p)T=C=a.parent||new B(S);else if(h)T=C=a.parent||new W(S);else if(y){let e=a.interpolation&&a.interpolation.calc(a.parent.value);e=void 0===e||g?S:e,a.parent?(T=a.parent,T.setValue(0,!1)):T=new B(0);const t={output:[e,i]};a.interpolation?(C=a.interpolation,a.interpolation.updateConfig(t)):C=T.interpolate(t)}return A=l(b?O.getPayload():O),_=l(T.getPayload()),g&&!y&&T.setValue(S,!1),this.hasChanged=!0,_.forEach(e=>{e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=D?e.lastVelocity:void 0,e.lastTime=D?e.lastTime:void 0,e.startTime=E(),e.done=!1,e.animatedStyles.clear()}),f(m,r)&&T.setValue(y?O:i,!1),n({},e,{[r]:n({},a,{name:r,parent:T,interpolation:C,animatedValues:_,toValues:A,previous:P,config:I,fromValues:l(T.getValue()),immediate:f(m,r),initialVelocity:c(I.velocity,0),clamp:c(I.clamp,!1),precision:c(I.precision,.01),tension:c(I.tension,170),friction:c(I.friction,26),mass:c(I.mass,1),duration:I.duration,easing:c(I.easing,e=>e),decay:I.decay})})}return j?e:(y&&(T.setValue(1,!1),C.updateConfig({output:[P,P]})),T.done=!0,this.hasChanged=!0,n({},e,{[r]:n({},e[r],{previous:P})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let e in this.animations)this.interpolations[e]=this.animations[e].interpolation,this.values[e]=this.animations[e].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}const H=(e,t)=>{const r=Object(i.useRef)(!1),n=Object(i.useRef)(),o=s.fun(t),a=Object(i.useMemo)(()=>{let r;return(n.current&&(n.current.map(e=>e.destroy()),n.current=void 0),[new Array(e).fill().map((e,n)=>{const i=new G,a=o?f(t,n,i):t[n];return 0===n&&(r=a.ref),i.update(a),r||i.start(),i}),r])},[e]),u=a[0],c=a[1];n.current=u;Object(i.useImperativeHandle)(c,()=>({start:()=>Promise.all(n.current.map(e=>new Promise(t=>e.start(t)))),stop:e=>n.current.forEach(t=>t.stop(e)),get controllers(){return n.current}}));const l=Object(i.useMemo)(()=>e=>n.current.map((t,r)=>{t.update(o?f(e,r,t):e[r]),c||t.start()}),[e]);Object(i.useEffect)(()=>{r.current?o||l(t):c||n.current.forEach(e=>e.start())}),Object(i.useEffect)(()=>(r.current=!0,()=>n.current.forEach(e=>e.destroy())),[]);const d=n.current.map(e=>e.getValues());return o?[d,l,e=>n.current.forEach(t=>t.pause(e))]:d},z=e=>{const t=s.fun(e),r=H(1,t?e:[e]),n=r[0],o=r[1],i=r[2];return t?[n[0],o,i]:n},$=(e,t)=>{const r=Object(i.useRef)(!1),o=s.fun(t),a=f(t),u=Object(i.useRef)(),c=H(e,(e,t)=>(0===e&&(u.current=[]),u.current.push(t),n({},a,{config:f(a.config,e),attach:e>0&&(()=>u.current[e-1])}))),l=c[0],d=c[1],p=c[2],h=Object(i.useMemo)(()=>e=>d((t,r)=>{e.reverse;const o=e.reverse?t+1:t-1,i=u.current[o];return n({},e,{config:f(e.config||a.config,t),attach:i&&(()=>i)})}),[e,a.reverse]);return Object(i.useEffect)(()=>{r.current&&!o&&h(t)}),Object(i.useEffect)(()=>{r.current=!0},[]),o?[l,h,p]:l};let K=0;const Y=(e,t)=>("function"==typeof t?e.map(t):l(t)).map(String),J=e=>{let t=e.items,r=e.keys,i=void 0===r?e=>e:r,a=o(e,["items","keys"]);return t=l(void 0!==t?t:null),n({items:t,keys:Y(t,i)},a)};function X(e,t,r){const a=n({items:e,keys:t||(e=>e)},r),s=J(a),c=s.lazy,l=void 0!==c&&c,d=(s.unique,s.reset),p=void 0!==d&&d,h=(s.enter,s.leave,s.update,s.onDestroyed),g=(s.keys,s.items,s.onFrame),m=s.onRest,v=s.onStart,y=s.ref,b=o(s,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),w=u(),S=Object(i.useRef)(!1),O=Object(i.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!a.ref,instances:!S.current&&new Map,forceUpdate:w});return Object(i.useImperativeHandle)(a.ref,()=>({start:()=>Promise.all(Array.from(O.current.instances).map(e=>{let t=e[1];return new Promise(e=>t.start(e))})),stop:e=>Array.from(O.current.instances).forEach(t=>t[1].stop(e)),get controllers(){return Array.from(O.current.instances).map(e=>e[1])}})),O.current=function(e,t){let r=e.first,i=e.prevProps,a=o(e,["first","prevProps"]),s=J(t),u=s.items,c=s.keys,l=s.initial,d=s.from,p=s.enter,h=s.leave,g=s.update,m=s.trail,v=void 0===m?0:m,y=s.unique,b=s.config,w=s.order,S=void 0===w?["enter","leave","update"]:w,O=J(i),I=O.keys,_=O.items,E=n({},a.current),T=[...a.deleted],C=Object.keys(E),A=new Set(C),P=new Set(c),x=c.filter(e=>!A.has(e)),D=a.transitions.filter(e=>!e.destroyed&&!P.has(e.originalKey)).map(e=>e.originalKey),j=c.filter(e=>A.has(e)),k=-v;for(;S.length;){switch(S.shift()){case"enter":x.forEach((e,t)=>{y&&T.find(t=>t.originalKey===e)&&(T=T.filter(t=>t.originalKey!==e));const n=c.indexOf(e),o=u[n],i=r&&void 0!==l?"initial":"enter";E[e]={slot:i,originalKey:e,key:y?String(e):K++,item:o,trail:k+=v,config:f(b,o,i),from:f(r&&void 0!==l?l||{}:d,o),to:f(p,o)}});break;case"leave":D.forEach(e=>{const t=I.indexOf(e),r=_[t];T.unshift(n({},E[e],{slot:"leave",destroyed:!0,left:I[Math.max(0,t-1)],right:I[Math.min(I.length,t+1)],trail:k+=v,config:f(b,r,"leave"),to:f(h,r)})),delete E[e]});break;case"update":j.forEach(e=>{const t=c.indexOf(e),r=u[t];E[e]=n({},E[e],{item:r,slot:"update",trail:k+=v,config:f(b,r,"update"),to:f(g,r)})})}}let R=c.map(e=>E[e]);return T.forEach(e=>{let t,r=e.left,n=(e.right,o(e,["left","right"]));-1!==(t=R.findIndex(e=>e.originalKey===r))&&(t+=1),t=Math.max(0,t),R=[...R.slice(0,t),n,...R.slice(t)]}),n({},a,{changed:x.length||D.length||j.length,first:r&&0===x.length,transitions:R,current:E,deleted:T,prevProps:t})}(O.current,a),O.current.changed&&O.current.transitions.forEach(e=>{const t=e.slot,r=e.from,o=e.to,i=e.config,a=e.trail,s=e.key,u=e.item;O.current.instances.has(s)||O.current.instances.set(s,new G);const c=O.current.instances.get(s),f=n({},b,{to:o,from:r,config:i,ref:y,onRest:r=>{if(O.current.mounted){e.destroyed&&(y||l||Q(O,s),h&&h(u)),!Array.from(O.current.instances).some(e=>!e[1].idle)&&(y||l)&&O.current.deleted.length>0&&Q(O),m&&m(u,t,r)}},onStart:v&&(()=>v(u,t)),onFrame:g&&(e=>g(u,t,e)),delay:a,reset:p&&"enter"===t});c.update(f),O.current.paused||c.start()}),Object(i.useEffect)(()=>(O.current.mounted=S.current=!0,()=>{O.current.mounted=S.current=!1,Array.from(O.current.instances).map(e=>e[1].destroy()),O.current.instances.clear()}),[]),O.current.transitions.map(e=>{let t=e.item,r=e.slot,n=e.key;return{item:t,key:n,state:r,props:O.current.instances.get(n).getValues()}})}function Q(e,t){const r=e.current.deleted;for(let n of r){let r=n.key;const o=e=>e.key!==r;(s.und(t)||t===r)&&(e.current.instances.delete(r),e.current.transitions=e.current.transitions.filter(o),e.current.deleted=e.current.deleted.filter(o))}e.current.forceUpdate()}class Z extends g{constructor(e){void 0===e&&(e={}),super(),!e.transform||e.transform instanceof p||(e=m.transform(e)),this.payload=e}}const ee={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},te="[-+]?\\d*\\.?\\d+",re=te+"%";function ne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const oe=new RegExp("rgb"+ne(te,te,te)),ie=new RegExp("rgba"+ne(te,te,te,te)),ae=new RegExp("hsl"+ne(te,re,re)),se=new RegExp("hsla"+ne(te,re,re,te)),ue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le=/^#([0-9a-fA-F]{6})$/,fe=/^#([0-9a-fA-F]{8})$/;function de(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pe(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,o=2*r-n,i=de(o,n,e+1/3),a=de(o,n,e),s=de(o,n,e-1/3);return Math.round(255*i)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function he(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ge(e){return(parseFloat(e)%360+360)%360/360}function me(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ve(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ye(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=le.exec(e))?parseInt(t[1]+"ff",16)>>>0:ee.hasOwnProperty(e)?ee[e]:(t=oe.exec(e))?(he(t[1])<<24|he(t[2])<<16|he(t[3])<<8|255)>>>0:(t=ie.exec(e))?(he(t[1])<<24|he(t[2])<<16|he(t[3])<<8|me(t[4]))>>>0:(t=ue.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=fe.exec(e))?parseInt(t[1],16)>>>0:(t=ce.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ae.exec(e))?(255|pe(ge(t[1]),ve(t[2]),ve(t[3])))>>>0:(t=se.exec(e))?(pe(ge(t[1]),ve(t[2]),ve(t[3]))|me(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const be=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,we=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Se=new RegExp(`(${Object.keys(ee).join("|")})`,"g");let Oe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Ie=["Webkit","Ms","Moz","O"];function _e(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}Oe=Object.keys(Oe).reduce((e,t)=>(Ie.forEach(r=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(r,t)]=e[t]),e),Oe);const Ee={};x(e=>new Z(e)),T("div"),I(e=>{const t=e.output.map(e=>e.replace(we,ye)).map(e=>e.replace(Se,ye)),r=t[0].match(be).map(()=>[]);t.forEach(e=>{e.match(be).forEach((e,t)=>r[t].push(+e))});const o=t[0].match(be).map((t,o)=>N(n({},e,{output:r[o]})));return e=>{let r=0;return t[0].replace(be,()=>o[r++](e)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(e,t,r,n,o)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${o})`)}}),b(ee),y((e,t)=>{if(!e.nodeType||void 0===e.setAttribute)return!1;{const i=t.style,a=t.children,s=t.scrollTop,u=t.scrollLeft,c=o(t,["style","children","scrollTop","scrollLeft"]),l="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;void 0!==s&&(e.scrollTop=s),void 0!==u&&(e.scrollLeft=u),void 0!==a&&(e.textContent=a);for(let t in i)if(i.hasOwnProperty(t)){var r=0===t.indexOf("--"),n=_e(t,i[t],r);"float"===t&&(t="cssFloat"),r?e.style.setProperty(t,n):e.style[t]=n}for(let t in c){const r=l?t:Ee[t]||(Ee[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase()));void 0!==e.getAttribute(r)&&e.setAttribute(r,c[t])}}},e=>e);const Te=(Ce=e=>Object(i.forwardRef)((t,r)=>{const c=u(),l=Object(i.useRef)(!0),f=Object(i.useRef)(null),d=Object(i.useRef)(null),p=Object(i.useCallback)(e=>{const t=f.current;f.current=new j(e,()=>{let e=!1;d.current&&(e=m.fn(d.current,f.current.getAnimatedValue())),d.current&&!1!==e||c()}),t&&t.detach()},[]);Object(i.useEffect)(()=>()=>{l.current=!1,f.current&&f.current.detach()},[]),Object(i.useImperativeHandle)(r,()=>P(d,l,c)),p(t);const h=f.current.getValue(),g=(h.scrollTop,h.scrollLeft,o(h,["scrollTop","scrollLeft"])),v=(y=e,!s.fun(y)||y.prototype instanceof a.a.Component?e=>d.current=function(e,t){return t&&(s.fun(t)?t(e):s.obj(t)&&(t.current=e)),e}(e,r):void 0);var y;return a.a.createElement(e,n({},g,{ref:v}))}),void 0===(Ae=!1)&&(Ae=!0),e=>(s.arr(e)?e:Object.keys(e)).reduce((e,t)=>{const r=Ae?t[0].toLowerCase()+t.substring(1):t;return e[r]=Ce(r),e},Ce));var Ce,Ae;const Pe=Te(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])},function(e,t,r){"use strict";r.r(t),r.d(t,"css",(function(){return l})),r.d(t,"CacheProvider",(function(){return p})),r.d(t,"ClassNames",(function(){return E})),r.d(t,"Global",(function(){return w})),r.d(t,"ThemeContext",(function(){return d})),r.d(t,"jsx",(function(){return b})),r.d(t,"keyframes",(function(){return O})),r.d(t,"withEmotionCache",(function(){return h}));var n=r(139),o=r.n(n),i=r(0),a=r(63),s=r(27),u=r(26),c=r(64);var l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(u.a)(t)},f=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(a.default)():null),d=Object(i.createContext)({}),p=f.Provider,h=function(e){return Object(i.forwardRef)((function(t,r){return Object(i.createElement)(f.Consumer,null,(function(n){return e(t,n,r)}))}))},g="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=Object.prototype.hasOwnProperty,v=function(e,t,r,n){var o=null===r?t.css:t.css(r);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[g],c=[o],l="";"string"==typeof t.className?l=Object(s.a)(e.registered,c,t.className):null!=t.className&&(l=t.className+" ");var f=Object(u.a)(c);Object(s.b)(e,f,"string"==typeof a);l+=e.key+"-"+f.name;var d={};for(var p in t)m.call(t,p)&&"css"!==p&&p!==g&&(d[p]=t[p]);return d.ref=n,d.className=l,Object(i.createElement)(a,d)},y=h((function(e,t,r){return"function"==typeof e.css?Object(i.createElement)(d.Consumer,null,(function(n){return v(t,e,n,r)})):v(t,e,null,r)}));var b=function(e,t){var r=arguments;if(null==t||!m.call(t,"css"))return i.createElement.apply(void 0,r);var n=r.length,o=new Array(n);o[0]=y;var a={};for(var s in t)m.call(t,s)&&(a[s]=t[s]);a[g]=e,o[1]=a;for(var u=2;u<n;u++)o[u]=r[u];return i.createElement.apply(null,o)},w=h((function(e,t){var r=e.styles;if("function"==typeof r)return Object(i.createElement)(d.Consumer,null,(function(e){var n=Object(u.a)([r(e)]);return Object(i.createElement)(S,{serialized:n,cache:t})}));var n=Object(u.a)([r]);return Object(i.createElement)(S,{serialized:n,cache:t})})),S=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}o()(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new c.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&Object(s.b)(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(i.Component),O=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},I=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function _(e,t,r){var n=[],o=Object(s.a)(e,n,r);return n.length<2?r:o+t(n)}var E=h((function(e,t){return Object(i.createElement)(d.Consumer,null,(function(r){var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=Object(u.a)(r,t.registered);return Object(s.b)(t,o,!1),t.key+"-"+o.name},o={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return _(t.registered,n,I(r))},theme:r},i=e.children(o);return!0,i}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(5);!function(e){e.InitStoreExtensionState="INIT_STORE_EXTENSION_STATE",e.AppConfigLoaded="APPCONFIG_LOADED",e.AppConfigChanged="APPCONFIG_CHANGED",e.ThemeVariablesChanged="THEME_VARIABLES_CHANGED",e.SetPortalUrl="SET_PORTAL_URL",e.SetPortalInfo="SET_PORTAL_INFO",e.SetPortalSelf="SET_PORTAL_SELF",e.WidgetClassLoaded="WIDGET_CLASS_LOADED",e.WidgetConfigLoaded="WIDGET_CONFIG_LOADED",e.WidgetConfigUpgraded="WIDGET_CONFIG_UPGRADED",e.OpenWidget="OPEN_WIDGET",e.OpenWidgets="OPEN_WIDGETS",e.CloseWidget="CLOSE_WIDGET",e.CloseWidgets="CLOSE_WIDGETS",e.SetWidgetIsInlineEditingState="SET_WIDGET_IS_INLINE_EDITING_STATE",e.SetWidgetPreloadProps="SET_WIDGET_PRELOAD_PROPS",e.SetWidgetReadyInjectDataSource="SET_WIDGET_READY_INJECT_DATA_SOURCE",e.ActivateWidget="ACTIVATE_WIDGET",e.SetAppInBuilder="SET_APP_IN_BUILDER",e.LayoutClassLoaded="LAYOUT_CLASS_LOADED",e.AppContextInit="APP_CONTEXT_INIT",e.I18nMessagesLoaded="I18N_MESSAGES_LOADED",e.QueryObjectChanged="QUERY_OBJECT_CHANGED",e.AppModeChanged="APP_MODE_CHANGED",e.CurrentViewChanged="CURRENT_VIEW_CHANGED",e.SelectionChanged="SELECTION_CHANGED",e.AppRuntimeInfoInit="APP_RUNTIME_INFO_INIT",e.CurrentPageChanged="CURRENT_PAGE_CHANGED",e.CurrentDialogChanged="CURRENT_DIALOG_CHANGED",e.ClosedDialogIdsChanged="CLOSED_DIALOG_IDS_CHANGED",e.ClipboardChanged="CLIPBOARD_CHANGED",e.AppPathChanged="APP_PATH_CHANGED",e.AppIdChanged="APP_ID_CHANGED",e.AppInfoChanged="APP_INFO_CHANGED",e.NetworkStatusChanged="NETWORK_STATUS_CHANGED",e.DataSourceStatusChanged="DATA_SOURCE_STATUS_CHANGED",e.DataSourceCountStatusChanged="DATA_SOURCE_COUNT_STATUS_CHANGED",e.DataSourceInstanceStatusChanged="DATA_SOURCE_INSTANCE_STATUS_CHANGED",e.DataSourceSaveStatusChanged="DATA_SOURCE_SAVE_STATUS_CHANGED",e.DataSourceVersionAdded="DATA_SOURCE_VERSION_ADDED",e.DataSourceSelectedIndexesChanged="DATA_SOURCE_SELECTED_INDEXES_CHANGED",e.DataSourceSelectedIdsChanged="DATA_SOURCE_SELECTED_IDS_CHANGED",e.SetDataSourcePreloadData="SET_DATA_SOURCE_PRELOAD_DATA",e.SetDataNeedRefresh="SET_DATA_NEED_REFRESH",e.UpdateWidgetQuery="UPDATE_WIDGET_QUERY",e.ChangeDataSourceGDBVersion="CHANGE_DATA_SOURCE_GDB_VERSION",e.JimuMapViewAdded="JIMU_MAPVIEW_ADDED",e.JimuMapViewRemoved="JIMU_MAPVIEW_REMOVED",e.JimuMapViewUpdated="JIMU_MAPVIEW_UPDATED",e.WidgetStatePropChange="WIDGET_STATE_PROP_CHANGE",e.WidgetMutableStatePropChange="WIDGET_MUTABLE_STATE_PROP_CHANGE",e.SessionStart="SESSION_START",e.UserSignIn="USER_SIGN_IN",e.UserSignOut="USER_SIGN_OUT",e.BrowserSizeModeChanged="BROWSER_SIZE_MODE_CHANGED",e.DynamicModuleLoaded="DYNAMIC_MODULE_LOADED",e.UpdateStoreState="UPDATE_STORE_STATE",e.ActivePagePartChanged="ACTIVE_PAGE_PART_CHANGED",e.OpenOverlay="OPEN_OVERLAY",e.CloseOverlay="CLOSE_OVERLAY",e.ActiveOverlay="ACTIVE_OVERLAY",e.SetIsBusy="SET_IS_BUSY",e.ZoomScaleChanged="ZOOM_SCALE_CHANGED",e.LayoutChanged="LAYOUT_CHANGED",e.SectionNavInfoChanged="SECTION_NAV_INFO_CHANGED",e.SetupAnimationPreview="SETUP_ANIMATION_PREVIEW",e.ClearAnimationPreview="CLEAR_ANIMATION_PREVIEW",e.SetHasNewVersion="SET_HAS_NEW_VERSION"}(n=t.ActionKeys||(t.ActionKeys={})),t.appConfigLoaded=function(e){return{type:n.AppConfigLoaded,appConfig:e}},t.appConfigChanged=function(e){return{type:n.AppConfigChanged,appConfig:e}},t.appPathChanged=function(e){return{type:n.AppPathChanged,path:e}},t.appInfoChanged=function(e){return{type:n.AppInfoChanged,appInfo:e}},t.appIdChanged=function(e){return{type:n.AppIdChanged,appId:e}},t.widgetClassLoaded=function(e){return{type:n.WidgetClassLoaded,widgetId:e}},t.widgetConfigUpgraded=function(e,t){return{type:n.WidgetConfigUpgraded,widgetId:e,config:t}},t.widgetConfigLoaded=function(e,t){return{type:n.WidgetConfigLoaded,widgetId:e,config:t}},t.openWidget=function(e){return{type:n.OpenWidget,widgetId:e}},t.openWidgets=function(e){return{type:n.OpenWidgets,widgetIds:e}},t.closeWidget=function(e){return{type:n.CloseWidget,widgetId:e}},t.closeWidgets=function(e){return{type:n.CloseWidgets,widgetIds:e}},t.activateWidget=function(e){return{type:n.ActivateWidget,widgetId:e}},t.initAppContext=function(e){return{type:n.AppContextInit,appContext:e}},t.i18nMessagesLoaded=function(e,t){return{type:n.I18nMessagesLoaded,key:e,messages:t}},t.queryObjectChanged=function(e){return{type:n.QueryObjectChanged,query:e}},t.setAppInBuilder=function(){return{type:n.SetAppInBuilder}},t.appModeChanged=function(e){return{type:n.AppModeChanged,mode:e}},t.layoutClassLoaded=function(e){return{type:n.LayoutClassLoaded,layoutName:e}},t.dataSourceStatusChanged=function(e,t){return{type:n.DataSourceStatusChanged,dataSourceId:e,status:t}},t.dataSourceCountStatusChanged=function(e,t){return{type:n.DataSourceCountStatusChanged,dataSourceId:e,countStatus:t}},t.dataSourceInstanceStatusChanged=function(e,t){return{type:n.DataSourceInstanceStatusChanged,dataSourceId:e,status:t}},t.dataSourceSaveStatusChanged=function(e,t){return{type:n.DataSourceSaveStatusChanged,dataSourceId:e,saveStatus:t}},t.dataSourceVersionAdded=function(e){return{type:n.DataSourceVersionAdded,dataSourceId:e}},t.changeDataSourceGDBVersion=function(e,t){return{type:n.ChangeDataSourceGDBVersion,dataSourceId:e,gdbVersion:t}},t.setDataNeedRefresh=function(e,t){return{type:n.SetDataNeedRefresh,dataSourceId:e,refresh:t}},t.updateWidgetQuery=function(e,t,r){return{type:n.UpdateWidgetQuery,dataSourceId:e,widgetId:t,query:r}},t.jimuMapViewAdded=function(e,t){return{type:n.JimuMapViewAdded,jimuMapViewId:e,jimuMapViewInfo:t}},t.jimuMapViewUpdated=function(e,t){return{type:n.JimuMapViewUpdated,jimuMapViewId:e,jimuMapViewInfo:t}},t.jimuMapViewRemoved=function(e){return{type:n.JimuMapViewRemoved,jimuMapViewId:e}},t.initStoreExtensionState=function(e){return{type:n.InitStoreExtensionState,extensionId:e}},t.widgetStatePropChange=function(e,t,r){return{type:n.WidgetStatePropChange,widgetId:e,propKey:t,value:r}},t.widgetMutableStatePropChange=function(e,t,r){return{type:n.WidgetMutableStatePropChange,widgetId:e,propKey:t,value:r}},t.setPortalUrl=function(e){return{type:n.SetPortalUrl,portalUrl:e}},t.setPortalInfo=function(e,t){return{type:n.SetPortalInfo,portalUrl:e,clientId:t}},t.dataSourceSelectedIndexesChanged=function(e,t){return{type:n.DataSourceSelectedIndexesChanged,dataSourceId:e,selectedIndexes:t}},t.dataSourceSelectedIdsChanged=function(e,t){return{type:n.DataSourceSelectedIdsChanged,dataSourceId:e,selectedIds:t}},t.sessionStart=function(e){return{type:n.SessionStart,token:e}},t.userSignIn=function(e){return{type:n.UserSignIn,user:e}},t.userSignOut=function(){return{type:n.UserSignOut}},t.browserSizeModeChanged=function(e){var t=window.document&&window.document.documentElement;return t&&(t.classList.remove("size-mode-"+o.BrowserSizeMode.Large),t.classList.remove("size-mode-"+o.BrowserSizeMode.Medium),t.classList.remove("size-mode-"+o.BrowserSizeMode.Small),t.classList.add("size-mode-"+e)),{type:n.BrowserSizeModeChanged,browserSizeMode:e}},t.setWidgetIsInlineEditingState=function(e,t){return{type:n.SetWidgetIsInlineEditingState,widgetId:e,isInlineEditing:t}},t.setWidgetPreloadProps=function(e,t){return{type:n.SetWidgetPreloadProps,widgetId:e,props:t}},t.setDataSourcePreloadData=function(e,t){return{type:n.SetDataSourcePreloadData,dataSourceId:e,data:t}},t.networkStatusChanged=function(e){return{type:n.NetworkStatusChanged,isOffLine:e}},t.dynamicModuleLoaded=function(e){return{type:n.DynamicModuleLoaded,moduleId:e}},t.currentViewChanged=function(e){return{type:n.CurrentViewChanged,viewId:e}},t.currentPageChanged=function(e){return{type:n.CurrentPageChanged,pageId:e}},t.currentDialogChanged=function(e){return{type:n.CurrentDialogChanged,dialogId:e}},t.closedDialogIdsChanged=function(e){return{type:n.ClosedDialogIdsChanged,dialogs:e}},t.selectionChanged=function(e){return{type:n.SelectionChanged,selection:e}},t.clipboardChanged=function(e){return{type:n.ClipboardChanged,item:e}},t.updateStoreState=function(e){return{type:n.UpdateStoreState,state:e}},t.appRuntimeInfoInit=function(e){return{type:n.AppRuntimeInfoInit,info:e}},t.setWidgetReadyInjectDataSource=function(e){return{type:n.SetWidgetReadyInjectDataSource,widgetId:e}},t.themeVariablesChanged=function(e){return{type:n.ThemeVariablesChanged,theme:e}},t.setPortalSelf=function(e){return{type:n.SetPortalSelf,portalSelf:e}},t.activePagePartChanged=function(e){return{part:e,type:n.ActivePagePartChanged}},t.openOverlay=function(e){return{type:n.OpenOverlay,id:e}},t.closeOverlay=function(e){return{type:n.CloseOverlay,id:e}},t.activeOverlay=function(e){return{type:n.ActiveOverlay,id:e}},t.zoomScaleChange=function(e){return{type:n.ZoomScaleChanged,zoomScale:e}},t.setIsBusy=function(e){return{type:n.SetIsBusy,isBusy:e}},t.layoutChanged=function(e,t){return{type:n.LayoutChanged,appConfig:e,selection:t}},t.sectionNavInfoChanged=function(e,t){return{type:n.SectionNavInfoChanged,sectionId:e,navInfo:t}},t.setupAnimationPreview=function(e){return{type:n.SetupAnimationPreview,data:e}},t.clearAnimationPreview=function(){return{type:n.ClearAnimationPreview}},t.setHasNewVersion=function(e){return{type:n.SetHasNewVersion,hasNew:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ScrollIntoView="SCROLL_IN",e.Manual="MANUAL"}(t.AnimationTriggerType||(t.AnimationTriggerType={})),function(e){e.None="NONE",e.Pulse="PULSE",e.RubberBand="RUBBER_BAND",e.FadeIn="FADE_IN",e.FadeOut="FADE_OUT",e.FlyIn="FLY_IN",e.ZoomIn="ZOOM_IN",e.WipeIn="WIPE_IN",e.SpinIn="SPIN_IN",e.FloatIn="FLOAT_IN"}(t.AnimationType||(t.AnimationType={})),function(e){e.Default="DEFAULT",e.Gentle="GENTLE",e.Wobbly="WOBBLY",e.Stiff="STIFF",e.Slow="SLOW",e.Molasses="MOLASSES"}(t.AnimationEffectType||(t.AnimationEffectType={})),function(e){e.Top="TOP",e.Bottom="BOTTOM",e.Left="LEFT",e.Right="RIGHT"}(t.AnimationDirection||(t.AnimationDirection={})),function(e){e.AsOne="AS_ONE",e.OneByOne="ONE_BY_ONE"}(t.AnimationPlayMode||(t.AnimationPlayMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);t.BREAK_POINTS=[576,992],t.DEFAULT_VIEWPORT_SIZE={DESKTOP:{width:1280,height:800},PAD:{width:768,height:1024},PHONE:{width:414,height:896}},t.DEFAULT_PAGE_WIDTH=960;var o={};o[n.BrowserSizeMode.Large]=[{width:1024,height:768},{width:1280,height:800},{width:1280,height:1024},{width:1366,height:768},{width:1440,height:900},{width:1536,height:864},{width:1600,height:900},{width:1920,height:1080}],o[n.BrowserSizeMode.Medium]=[{width:601,height:962},{width:600,height:1024},{width:768,height:1024},{width:800,height:1280},{width:834,height:1112}],o[n.BrowserSizeMode.Small]=[{width:360,height:640},{width:360,height:720},{width:360,height:740},{width:375,height:667},{width:414,height:736}],t.SCREEN_RESOLUTIONS=o,t.SHARED_THEME="themes/shared-theme/",t.SELECTION_DATA_VIEW_ID="selection",t.DATA_VIEW_ID_FOR_NO_SELECTION="no_selection",t.REPEAT_CONTEXT_DATA_VIEW_ID="repeat_context",t.PROVIDE_REPEATED_DATA_SOURCE_CONTEXT_WIDGET_URI=["widgets/common/list/"],t.CURRENT_PAGE="current_page",t.DEFAULT_QUERY_PAGE_SIZE=100},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47),o=r(5),i=r(19),a=r(3),s=r(40),u=r(50),c=r(14);function l(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function f(e){return/(^http:)|(^https:)|(^\/\/)/.test(e)}function d(e){if(e||(e=window.location),window.jimuConfig.useStructuralUrl)return p(e.pathname);var t=n.parse(e.search);return{appId:t.id,pageId:t.page}}function p(e){void 0===e&&(e=window.location.pathname);var t=e.substr(window.jimuConfig.rootPath.length),r={pageId:null,appId:null},n=t.split("/").filter((function(e){return e}));return""===t?r:1===n.length?(t.indexOf(".")>-1||"page"===n[0]||(r.appId=n[0]),r):2===n.length?/^page\/page\//.test(t)?(r.pageId="page",r):/^page/.test(t)?(r.pageId=n[1],r):(r.appId=n[0],r):n.length>=3?(r.appId=n[0],r.pageId=n[2],r):(console.log("URL pattern is not correct.",e),r)}function h(e){if(window.jimuConfig.useStructuralUrl){var t=p();return{path:t.appId?""+window.jimuConfig.rootPath+t.appId+"/page/"+e+"/":window.jimuConfig.rootPath+"page/"+e+"/",qo:null}}return{path:window.jimuConfig.rootPath,qo:{page:e}}}function g(e,t){e===c.CURRENT_PAGE&&(e=a.getAppStore().getState().appRuntimeInfo.currentPageId);var r,o=h(e);return(r=t&&o.qo?Object.assign({},t,o.qo):t||o.qo)&&!i.isDeepEqual(r,{})?o.path+"?"+n.stringify(r):o.path}function m(){var e;return e=window.jimuConfig.packagesInAppFolder||window.jimuConfig.rootPath===window.jimuConfig.mountPath?window.jimuConfig.rootPath:window.jimuConfig.rootPath+"../",window.jimuConfig.buildNumber?e+window.jimuConfig.buildNumber+"/":e}function v(e,t){var r=l(t);return"/"===r.pathname.charAt(0)?r:""===r.pathname?(r.pathname=e.pathname,r):"."===r.pathname.charAt(0)?(r.pathname=e.pathname+"/"+r.pathname.substr(2),r):(r.pathname=e.pathname+"/"+r.pathname,r)}function y(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function b(e){var t;return 0===(e=e.toLowerCase()).indexOf("https://")?t="https:":0===e.indexOf("http://")&&(t="http:"),t}function w(e,t){return b(e)?e.replace(/^https?:\/\//,t+"//"):t+"//"+e}t.parsePath=l,t.isAbsoluteUrl=f,t.getDataSourceInfosFromQueryObject=function(e){var t={};if(e.data_id)e.data_id.split(",").forEach((function(e){var r=e.split(":"),n=r[0],o=r[1],i={selectionType:"id",selection:[]};o?(o.split("+").forEach((function(e){i.selection.push(e)})),t[n]=i):t[n]=i}));else if(e.data_index){e.data_index.split(",").forEach((function(r){var n=r.split(":"),o=n[0],i=n[1],a={selectionType:"index",selection:[]};i?(i.split("+").forEach((function(t){var r=t.split("-");if(1===r.length)a.selection.push(parseInt(r[0]));else if(2===r.length)for(var n=parseInt(r[0]),o=parseInt(r[1]),i=n;i<=o;i++)a.selection.push(i);else console.error("Bad URL format:",e.data_index)})),t[o]=a):t[o]=a}))}return t},t.getSectionNavInfoFromQueryObject=function(e,t){if(!e.views)return{};var r=e.views.split(","),n={};return Object.keys(t.sections||{}).forEach((function(e){var o,i=null===(o=t.sections[e].views)||void 0===o?void 0:o.find((function(e){return r.indexOf(e)>-1}));i&&(n[e]={currentViewId:i})})),n},t.getAppIdPageIdFromUrl=d,t.parseAppPath=p,t.getPageLink=h,t.getPageLinkUrl=g,t.getFolder=function(e){if(/\/$/.test(e))return e;if(!([".js",".css",".scss",".html"].filter((function(t){return new RegExp(t+"$").test(e)})).length>0))return e;var t=e.split("/");return t.pop(),t.join("/")},t.getFixedRootPath=m,t.getAbsoluteRootUrl=function(){return window.location.protocol+"//"+window.location.host+m()},t.createLocation=v,t.createHref=y,t.getHrefFromLinkTo=function(e,t,r,i){var c;if(void 0===r&&(r=window.location),void 0===i&&(i=!1),"string"==typeof e)return f(e)?e:/^www./.test(e)?"//"+e:y(v(r,e));if(!e.linkType)return y(e);var l,d=e.linkType,p=e,h=t,m=a.getAppStore().getState().appConfig;switch(d){case o.LinkType.Page:return t=i?t:null==t?void 0:t.without("dlg"),g(p.value,t);case o.LinkType.Dialog:(null===(c=m.dialogs[p.value])||void 0===c?void 0:c.mode)===u.DialogMode.Fixed&&(h=h?h.set("dlg",p.value):{dlg:p.value}),l=v(r,"?"+n.stringify(h));break;case o.LinkType.View:var b=p.value.split(",")[0],w=p.value.split(",").slice(1);if(null==h?void 0:h.views){var S=h.views.split(",");w.forEach((function(e){(S=S.filter((function(t){return!s.isTwoViewsInSaveSection(m,e,t)}))).push(e)})),h=h.set("views",S.join(","))}else h=h?h.set("views",w.join(",")):{views:w.join(",")};return g(b,h);case o.LinkType.WebAddress:var O=p.value;if(f(O))return O;if(/^www./.test(O))return"//"+O;case o.LinkType.None:return null;default:console.error("Unknown type:",d)}return l?y(l):void 0},t.getLinkResultFromHref=function(e){if(!e)return{linkType:o.LinkType.None};if(/^http/.test(e))return{linkType:o.LinkType.WebAddress,value:e};var t=l(e),r=d(t).pageId,i=n.parse(t.search);return i.views?{linkType:o.LinkType.View,value:r+","+i.views}:i.dlg?{linkType:o.LinkType.Dialog,value:i.dlg}:{linkType:o.LinkType.Page,value:r}},t.updateQueryStringParameter=function(e,t,r){if(!r)return e;var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+r+"$2"):e+o+t+"="+r},t.getProtocol=b,t.setProtocol=w,t.setLocationProtocal=function(e){return w(e,window.location.protocol)},t.getUrlHost=function(e){return 0===(e=(e=(e||"").trim()).replace(/^(http(s?):?)\/\//gi,"")).indexOf("//")&&(e=e.slice(2)),e.split("/")[0]},t.removeSearchFromUrl=function(e){return(e=(e||"").trim()).split("?")[0]},t.appendQueryParam=function(e,t,r){var n=(e=(e||"").trim()).indexOf("#"),o="";return n>-1&&(o=e.substring(n),e=e.substring(0,n)),e=e.indexOf("?")>-1?e+"&"+t+"="+r+o:e+"?"+t+"="+r+o},t.normalize=function(e){return new URL(e).href},t.getAppUrl=function(e,t,r,n,o){void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===o&&(o=null);var i,a="";n&&(a=window.jimuConfig.useStructuralUrl?"?draft=true":"&draft=true");var s=t?"template":"experience";return i=window.jimuConfig.useStructuralUrl?""+window.jimuConfig.mountPath+s+"/"+e+"/"+a:""+window.jimuConfig.mountPath+s+"/?id="+e+a,r&&(i="https://experience.arcgis.com/template/"+e+"/"),o&&(i=window.jimuConfig.mountPath+"template/?config="+m()+"templates/"+o+".json"),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(4),i=r(32),a=r(29),s=r(6),u=r(12),c=r(73),l=r(14),f=function(){function e(){if(this.dataSources={},this.dataSourcesCreatePromise={},this.dataSourceFactories={},window.jimuConfig.isBuilder)console.error("DataSourceManager should not be created in builder");else{n.observeStore(this.onStoreChange.bind(this),["appConfig","dataSources"])}}return e.getInstance=function(){return window.jimuConfig.isBuilder?window._appWindow&&window._appWindow._dataSourceManager:(e.instance||(e.instance=new e,window._dataSourceManager=e.instance),e.instance)},e.prototype.getDataSource=function(e){return this.dataSources[e]},e.prototype.getDataViewDataSource=function(e,t){return this.dataSources[this.getDataViewDataSourceId(e,t)]},e.prototype.getDataSources=function(){return this.dataSources},e.prototype.getDataSourcesAsArray=function(){var e=this;return Object.keys(this.dataSources).map((function(t){return e.dataSources[t]}))},e.prototype.setDataSource=function(e,t){this.dataSources[e]=t},e.prototype.destroyAllDataSources=function(){var e=this;Object.keys(this.dataSources).forEach((function(t){return e.destroyDataSource(t)})),this.dataSourcesCreatePromise={}},e.prototype.destroyDataSource=function(e){var t=this;this.dataSources[e]?(this.dataSources[e].getDataViews().forEach((function(e){return t.destroyDataSource(e.id)})),this.dataSources[e].getLocalDataSources().forEach((function(e){return t.destroyDataSource(e.id)})),this.getDataSourcesAsArray().forEach((function(r){r.getOriginDataSources().find((function(r){return r===t.dataSources[e]}))&&t.destroyDataSource(r.id)})),this.dataSources[e].destroy(),delete this.dataSources[e],delete this.dataSourcesCreatePromise[e]):this.dataSourcesCreatePromise[e]&&delete this.dataSourcesCreatePromise[e],n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(e,o.DataSourceStatus.NotCreated))},e.prototype.getConfiguredDataSources=function(){var e=this;return Object.keys(this.dataSources).filter((function(t){return!e.dataSources[t].getDataSourceJson().isOutputFromWidget})).map((function(t){return e.getDataSource(t)}))},e.prototype.getWidgetGeneratedDataSources=function(){var e=this,t={},r=this.getAppConfig();return Object.keys(r.widgets).filter((function(e){return r.widgets[e].outputDataSources})).map((function(n){t[n]=r.widgets[n].outputDataSources.asMutable().map((function(t){return e.getDataSource(t)}))})),t},e.prototype.createAllDataSources=function(){var e=this,t=this.getAppConfig()&&this.getAppConfig().dataSources,r=[];return t&&Object.keys(t).forEach((function(t){e.dataSources[t]||r.push(e.createDataSource(t).then((function(t){return e.createDataViews(t).then((function(){return t}))})).catch((function(e){console.error("Create data source failed",t,e),Promise.resolve(null)})))})),Promise.all(r)},e.prototype.createDataViews=function(e){var t=this;return Promise.all(e.getDataSourceJson().dataViews&&Object.keys(e.getDataSourceJson().dataViews).map((function(r){return t.createDataSource(e.id,r)}))||[])},e.prototype.createDataSource=function(e,t,r){var i,a,s=this;if("string"==typeof e){if(!(c=this.getAppConfig().dataSources[e]))throw Error("Can not create data source."+e);i={dataSourceJson:c,dataSourceManager:this,id:a=e}}else if(e.dataSourceJson||e.belongToDataSource)a=(i=e).dataSourceJson?i.dataSourceJson.id:i.belongToDataSource.getMainDataSource().id,i.dataViewId&&(t=i.dataViewId,delete i.dataViewId),i.localId&&(r=i.localId,delete i.localId),i.dataSourceManager=this,i.id=a;else{var c;a=(c=e).id,i={dataSourceJson:c,dataSourceManager:this,id:a}}var f=function(e){return s.dataSourcesCreatePromise[e]?s.dataSourcesCreatePromise[e]:s.createDataSource(e)},d=function(e,t){var r=s.getDataViewDataSourceId(e,t);return s.getDataSource(r)?Promise.resolve(s.getDataSource(r)):(s.dataSourcesCreatePromise[e]=f(a),s.dataSourcesCreatePromise[e].then((function(e){return s.createDataView(e,t)})))};if(t&&r){var p=this.getDataViewDataSourceId(a,t);this.getLocalDataSourceId(p,r);return d(a,t).then((function(e){return s.createLocalDataSource(e,r)}))}return t?d(a,t):r?(this.dataSourcesCreatePromise[a]=f(a),this.dataSourcesCreatePromise[a].then((function(e){return s.createLocalDataSource(e,r)}))):this.dataSourcesCreatePromise[a]?this.dataSourcesCreatePromise[a]:(n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(a,o.DataSourceStatus.NotCreated)),this.dataSourcesCreatePromise[a]=this.createOriginDataSources(i.dataSourceJson).then((function(){return s.createDataSourceObj(i)})).then((function(e){var t=n.getAppStore().getState().dataSourcesPreloadData[a];return t&&e.setJsonData(t.asMutable()),e.ready().then((function(){return e.fetchSchema()})).then((function(t){return s.initSchema(e,t),s.afterCreate(e),s.createDataViewObj(e,l.SELECTION_DATA_VIEW_ID),e}))})).catch((function(t){return console.error("Create datasource error.",e,t),n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(a,o.DataSourceStatus.CreateError)),Promise.reject(new o.DataSourceError(a,t))})),this.dataSourcesCreatePromise[i.dataSourceJson.id])},e.prototype.createDataView=function(e,t){var r=this.getDataViewDataSourceId(e.id,t);return this.getDataSource(r)?this.getDataSource(r):this.createDataViewObj(e,t)},e.prototype.createLocalDataSource=function(e,t){var r=this.getLocalDataSourceId(e.id,t);return this.getDataSource(r)?this.getDataSource(r):this.createLocalDataSourceObj(e,t)},e.prototype.afterCreate=function(e){this.dataSources[e.id]=e,n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(e.id,o.DataSourceStatus.Created));var t=e.getMainDataSource().id;if(e.id!==t){var r=n.getAppStore().getState().dataSourcesInfo[t].selectedIds;r&&r.length>0&&n.getAppStore().dispatch(u.dataSourceSelectedIdsChanged(e.id,r.asMutable()))}},e.prototype.getDataViewDataSourceId=function(e,t){return e+"-"+t},e.prototype.getLocalDataSourceId=function(e,t){return e+"-"+t},e.prototype.createDataSourceByUseDataSource=function(e,t){var r=this,n=this.getAppConfig().dataSources;return n[e.mainDataSourceId]?e.dataViewId?e.dataViewId===l.SELECTION_DATA_VIEW_ID||n[e.mainDataSourceId].dataViews[e.dataViewId]?this.createDataSource(e.mainDataSourceId,e.dataViewId,t):(console.error("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId),Promise.reject("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId)):this.createDataSource(e.mainDataSourceId,null,t):n[e.rootDataSourceId]?this.createDataSource(e.rootDataSourceId).then((function(n){var o=r.getDataSource(e.mainDataSourceId);return e.dataViewId?e.dataViewId===l.SELECTION_DATA_VIEW_ID||o.getDataSourceJson().dataViews[e.dataViewId]?r.createDataSource(o.getDataSourceJson(),e.dataViewId,t):(console.error("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId),Promise.reject("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId)):t?r.createDataSource(o.getDataSourceJson(),null,t):o})):(console.error("Can not find data source:",e.mainDataSourceId),Promise.reject("Can not find data source:"+e.mainDataSourceId))},e.prototype.createOriginDataSources=function(e){var t=this;return e.isOutputFromWidget&&e.originDataSources&&e.originDataSources.length>0?Promise.all(e.originDataSources.asMutable().map((function(e){return t.createDataSourceByUseDataSource(e)}))).then((function(){return Promise.resolve()})):Promise.resolve()},e.prototype.initSchema=function(e,t){e.setFetchedSchema(t);var r=e.getDataSourceJson().schema;if(e.getDataSourceJson().isOutputFromWidget)if(e.getDataSourceJson().schema)e.setSchema(e.getDataSourceJson().schema);else if(e.getDataSourceJson().originDataSources&&e.getDataSourceJson().originDataSources.length>0)if(1===e.getDataSourceJson().originDataSources.length){var n=this.getDataSource(e.getDataSourceJson().originDataSources[0].dataSourceId);e.setSchema(n&&n.getSchema())}else console.error("Datasource created from more than one data source must save the schema in app config.");else console.error("Datasource without origin data source must save the schema in app config.");else{var o=this.mergeSchema(e,r,t);e.setSchema(o)}},e.prototype.mergeSchema=function(e,t,r){if(e.isDataSourceSet){if(!t)return r;var n=t;return Object.keys(r.childSchemas).forEach((function(o){if(e.getReversedConfigSchema().childSchemas[o])e.getReversedConfigSchema().childSchemas[o].forEach((function(t){n=n.setIn(["childSchemas",t.jimuChildId],e.getChildDataSource(t.jimuChildId).getSchema())}));else{if(t.childSchemas[o])return void console.warn("Layer existed, please re-map the data source.",e.id,o);n=n.setIn(["childSchemas",o],r.childSchemas[o])}})),Object.keys(t.childSchemas).forEach((function(e){var n=t.childSchemas[e].childId;r.childSchemas[n]||console.error("Used data is not found.",n)})),n}return this.mergeOneSchema(e,t,r)},e.prototype.mergeOneSchema=function(e,t,r){if(!t)return r;var n=t;return Object.keys(r.fields).forEach((function(o){if(e.getReversedConfigSchema().fields[o])e.getReversedConfigSchema().fields[o].forEach((function(e){n.fields[e.jimuName].alias||(n=n.setIn(["fields",e.jimuName,"alias"],r.fields[o].alias))}));else{if(t.fields[o])return void console.warn("Field name existed, please re-map the data source.",e.id,o);var i=r.fields[o];n=n.setIn(["fields",o],i)}})),Object.keys(t.fields).forEach((function(e){var n=t.fields[e].name;r.fields[n]||console.error("Used field is not found.",n)})),n},e.prototype.getDataSourceFactory=function(e){var t=this,r=this.getDataSourceFactorySync(e);if(r)return Promise.resolve(r);var n=this.getDataSourceFactoryUri(e);return s.loadModule(n).then((function(o){try{r=new o.default,t.dataSourceFactories[n]=r}catch(t){throw console.error("Load data source factory error.",e,t),t}return r}))},e.prototype.getDataSourceFactoryUri=function(e){var t=i.default.getInstance().getExtensions(a.ExtensionPoints.DataSourceFactoryUri).filter((function(t){return t.getFactoryUri(e)}))[0];if(!t)throw console.error("Unknown data source type:"+e),Error("Unknown data source type:"+e);return t.getFactoryUri(e)},e.prototype.getDataSourceFactorySync=function(e){var t=this.getDataSourceFactoryUri(e),r=this.dataSourceFactories[t];if(r)return r},e.prototype.createDataSourceObj=function(e){return this.getDataSourceFactory(e.dataSourceJson.type).then((function(t){var r;try{r=t.createDataSource(e)}catch(t){return console.error("Create data source error.",e.dataSourceJson,t),Promise.reject(t)}return Promise.resolve(r)}))},e.prototype.createDataViewObj=function(e,t){var r=this.getDataSourceFactoryUri(e.type),i=this.dataSourceFactories[r];if(!i)throw Error("Data source is not created");var a=null;try{a=i.createDataSource({id:this.getDataViewDataSourceId(e.id,t),dataViewId:t,belongToDataSource:e,dataSourceManager:this}),this.afterCreate(a)}catch(r){console.error("Create data view error.",e.id,t,r),n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(this.getDataViewDataSourceId(e.id,t),o.DataSourceStatus.CreateError))}return a},e.prototype.createLocalDataSourceObj=function(e,t){var r=this.getDataSourceFactoryUri(e.type),i=this.dataSourceFactories[r];if(!i)throw Error("Data source is not created");var a=null;try{a=i.createDataSource({id:this.getLocalDataSourceId(e.id,t),dataViewId:e.isDataView?e.dataViewId:null,localId:t,belongToDataSource:e,dataSourceManager:this}),this.afterCreate(a)}catch(r){console.error("Create local data source error.",e.id,t,r),n.getAppStore().dispatch(u.dataSourceInstanceStatusChanged(this.getLocalDataSourceId(e.id,t),o.DataSourceStatus.CreateError))}return a},e.prototype.getAppConfig=function(){return n.getAppStore().getState().appConfig},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(n){if(t[n]){if(t[n]&&e[n]){var o=t[n],i=r.getDataSource(n);i&&r.updateDataSourceByDataSourceJson(i,o)}}else c((function(){r.destroyDataSource(n)}))})),window.jimuConfig.isInBuilder&&e&&t&&Object.keys(t).forEach((function(t){var o,i=n.getAppStore().getState();e[t]||(null===(o=i.dataSourcesInfo[t])||void 0===o?void 0:o.instanceStatus)||r.createDataSource(t).then((function(e){r.createDataViews(e)}))}))},e.prototype.updateDataSourceByDataSourceJson=function(e,t){var r=this;if(e.getDataSourceJson()!==t){if(e.getDataSourceJson().query!==(null==t?void 0:t.query)&&c((function(){e.clearData()})),e.getDataSourceJson().dataViews!==(null==t?void 0:t.dataViews)){var n=e.getDataSourceJson().dataViews,o=t.dataViews;n&&o&&Object.keys(n).forEach((function(i){if(o[i]){if(o[i]&&n[i]){var a=r.getDataViewDataSourceId(e.id,i),s=r.getDataSource(a);s&&s.getDataSourceJson().dataViews[i]!==t.dataViews[i]&&c((function(){s.clearData()}))}}else c((function(){r.destroyDataSource(r.getDataViewDataSourceId(e.id,i))}))}))}e.getDataSourceJson().childDataSourceJsons!==(null==t?void 0:t.childDataSourceJsons)&&e.getChildDataSources().forEach((function(e){r.updateDataSourceByDataSourceJson(e,t.childDataSourceJsons[e.jimuChildId])})),e.setDataSourceJson(t),c((function(){e.addVersion()}))}},e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.String="STRING",e.Number="NUMBER",e.Field="FIELD",e.Function="FUNCTION",e.Operator="OPERATOR",e.Unknown="UNKNOWN"}(t.ExpressionPartType||(t.ExpressionPartType={})),function(e){e.Average="AVERAGE",e.Count="COUNT",e.Sum="SUM",e.Max="MAX",e.Min="MIN"}(t.ExpressionFunctions||(t.ExpressionFunctions={}))},function(e,t,r){"use strict";function n(e){var t="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(e,t,r){return(i=o()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&a(o,r.prototype),o}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.__esModule=!0,t.default=void 0;var u=function(e){var t,r;function n(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(n(Error));t.default=u,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48);t.isDeepEqual=n;var o=r(5),i=r(49);t.getValue=i;var a=r(14),s=r(9),u=r(3);function c(e,t){switch(e){case"opened":switch(t){case"opened":return null;case"closed":return"onOpen";case"active":return"onDeActive"}case"closed":switch(t){case"opened":return"onClose";case"closed":return null;case"active":return["onDeActive","onClose"]}case"active":switch(t){case"opened":return"onDeActive";case"closed":return["onOpen","onActive"];case"active":return null}}}t.getWidgetCallbackNamesFromWidgetState=function(e,t){return c(e,t)},t.getPanelCallbackNamesFromPanelState=function(e,t){return c(e,t)},t.isTouchDevice=function(){return"undefined"!=typeof window&&Boolean("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0||window.navigator&&window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch)},t.getBrowserSizeMode=function(e){return e.width<=a.BREAK_POINTS[0]?o.BrowserSizeMode.Small:e.width<=a.BREAK_POINTS[1]?o.BrowserSizeMode.Medium:o.BrowserSizeMode.Large},t.findViewportSize=function(e,t){var r=i(e,"forBuilderAttributes.viewPortSize."+t);return r||(r=i(a.SCREEN_RESOLUTIONS[t],"[1]")),r||{width:0,height:0}},t.getSizeModeWidth=function(e){return e===o.BrowserSizeMode.Small?a.BREAK_POINTS[0]:e===o.BrowserSizeMode.Medium?a.BREAK_POINTS[1]:1e5},t.loadstyle=function(e,t){return new Promise((function(r){var n;n=t?document.getElementById(t):document.getElementsByTagName("head")[0];var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),o.onload=function(){r()},n.appendChild(o)}))},t.applyMixins=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(r){e.prototype[r]=t.prototype[r]}))}))},t.isArrayContainSameItems=function(e,t){return e.length===t.length&&(e=e.sort((function(e,t){return e>t?-1:1})),t=t.sort((function(e,t){return e>t?-1:1})),n(e,t))};var l=/([A-Z])/g,f=/^ms-/;function d(e){return e.replace(l,"-$1").toLowerCase().replace(f,"-ms-")}t.hyphenateStyleName=d,t.styleObjectToString=function(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];null!=n&&(t?t+=";"+d(r)+":"+n:t=d(r)+":"+n)}return t||""},t.isWidgetSupportSSR=function(e,t,r){var n=e.widgets[t];return(!n.manifest.dependency||!("jimu-arcgis"===n.manifest.dependency||n.manifest.dependency.indexOf("jimu-arcgis")>-1))&&!(n.useDataSourcesEnabled&&n.useDataSources&&n.useDataSources.filter((function(t){var o=e.dataSources&&e.dataSources[t.dataSourceId];return o||(o=e.dataSources&&e.dataSources[t.rootDataSourceId]),o&&r.indexOf(o.type)>-1&&n.manifest.properties.autoBindDataSource})).length>0)},t.tryGet=function(e,t,r){void 0===t&&(t=1e3),void 0===r&&(r=100);var n=(new Date).getDate();return new Promise((function(o,i){!function o(i){var a=(new Date).getDate(),s=e();if(s)i(null,s);else{if(n+t>=a)return void i("Timeout",null);setTimeout((function(){o(i)}),r)}}((function(e,t){e?i(e):o(t)}))}))},t.getLocalStorageAppKey=function(){return"exb-"+(u.getAppStore().getState().appId||u.getAppStore().getState().appPath)},t.getUID=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t.getUUID=function(){return t.getUID()+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+t.getUID()+t.getUID()},t.calculateDigits=function(e){return e.toString().indexOf(".")<0?0:e.toString().split(".")[1].length},t.getOverlayUniqueId=function(e,t){void 0===t&&(t=s([]));var r=new RegExp("^"+e+"\\_(\\d+)$"),n=-1;return t.forEach((function(e){var t=e.match(r);t&&(n=Math.max(n,parseInt(t[1],10)))})),e+"_"+(n+1)},t.replaceI18nPlaceholdersInObject=function e(t,r,n){var o=/\$\{\w*\}/g,i=function(i){if("string"==typeof t[i]){var a=t[i].match(o);if(a&&a.length>0){var s=t[i];a.forEach((function(e){var t=e.substring(2,e.length-1);if("appResourceUrl"!==t){var o=r.formatMessage({id:t,defaultMessage:n&&n[t]});s=s.replace(e,o)}})),t[i]=s}}else"object"==typeof t[i]&&e(t[i],r,n)};for(var a in t)i(a);return t},t.checkUpdate=function(){return window.jimuConfig.buildNumber?function e(t,r){void 0===r&&(r=0);if(r>=10)return Promise.resolve(!1);return window.fetch(""+window.jimuConfig.mountPath+t+"/builder/setting.json").then((function(n){return 404!==n.status||e(t+1,r+1)}))}(parseInt(window.jimuConfig.buildNumber)+1):Promise.resolve(!1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(5);function i(e){return n.getUrlHost(e).toLowerCase().indexOf(".arcgis.com")>=0}function a(e){var t=n.getUrlHost(e).toLowerCase();return"www.arcgis.com"===t||"arcgis.com"===t}function s(e){var t=n.getUrlHost(e);return""===t?"":i(t)?(a(t)&&(t="www.arcgis.com"),n.setLocationProtocal(t)):(e=(e||"").trim().replace(/sharing(.*)/gi,"").replace(/\/*$/g,""),n.setLocationProtocal(e))}function u(e){var t="",r=s(e);return r&&(t=r+"/sharing/rest/content/items"),t}function c(e){var t="",r=s(e);return r&&(t=r+"/sharing/rest/community/users"),t}function l(e){var t="";return e&&(t=(e=s(e))+"/sharing/rest/content"),t}function f(e,t,r){var n="",o="";return e&&t&&(n=l(e),o=r?n+"/users/"+t+"/"+r:n+"/users/"+t),o}function d(e,t,r){var n="";return e&&t&&(n=f(e,t,r)+"/items"),n}t.getPortalSelfInfoUrl=function(e){var t="",r=e||"";return(r=s(r))&&(t=r+"/sharing/rest/portals/self"),t},t.getPortalUrlFromLocation=function(){var e=window.location.protocol+"//"+window.location.host+function(){var e=window.location.href.split("?")[0],t=e.indexOf("/home/");t<0&&(t=e.indexOf("/apps/"));var r=e.substring(e.indexOf(window.location.host)+window.location.host.length+1,t);"/"!==r&&(r="/"+r+"/");return r}();return e.substr(0,e.length-1)},t.getPortalRestUrl=function(e){return/\/$/.test(e)?e+"sharing/rest/":e+"/sharing/rest/"},t.getPortalUrlFromRestUrl=function(e){var t=/\/$/.test(e)?"/sharing/rest/":"/sharing/rest";return e.substr(0,e.length-t.length)},t.isSamePortalUrl=function(e,t){var r=/^http(s?):\/\//gi,n=/^\/\//gi;return(e=s(e).toLowerCase().replace(r,"").replace(n,""))===(t=s(t).toLowerCase().replace(r,"").replace(n,""))},t.getRootDomain=function(e){var t,r,o="";return(t=n.getUrlHost(e))&&null!==(r=(t=t.replace(/:\d+$/,"")).match(/[^.]\w+\.\w+$/))&&(o=r[0],/^\d+\.\d+$/.test(o)&&(o="")),o},t.isAGOLDomain=i,t.isAGOLProduction=a,t.getStandardPortalUrl=s,t.getBaseItemUrl=u,t.getItemUrl=function(e,t){var r="",n=u(e);return n&&t&&(r=n+"/"+t),r},t.getBaseUserUrl=c,t.getUserUrl=function(e,t){var r="",n=c(e);return e&&t&&(r=n+"/"+t),r},t.getContentUrl=l,t.getUserContentUrl=f,t.getUserItemsUrl=d,t.shareItemUrl=function(e,t,r,n){var o="";return e&&t&&(o=d(e,t,n)+"/"+r+"/share"),o},t.getHomeIndexUrl=function(e){var t="",r=s(e);return r&&(t=r+"/home/index.html"),t},t.getHomeMapViewerUrl=function(e,t){var r="",n=s(e);return n&&(r=n+"/home/webmap/viewer.html",r+=t?"?webmap="+t:"?useExisting=1"),r},t.fixPortalUrlProtocol=function(e){var t=window.location.protocol,r=n.getProtocol(e);return n.getProtocol(e)?t!==r&&t===o.UrlProtocol.Https?n.setProtocol(e,o.UrlProtocol.Https):e:n.setProtocol(e,t)},t.getPortalProxyUrl=function(e){return e+"/sharing/proxy"},t.getHostUrlByOrgUrl=function(e){if(!e)return e;if(e.indexOf("arcgis.com")>-1){var t=e.toLowerCase(),r=n.getUrlHost(t),o=n.getProtocol(e),i=r.split("."),a=i[0];i.splice(0,1);var s=i.join("."),u=void 0;return"devext"===a||"mapsdevext.arcgis.com"===s?u="devext.arcgis.com":"qaext"===a||"mapsqa.arcgis.com"===s?u="qaext.arcgis.com":"www"!==a&&"maps.arcgis.com"!==s||(u="www.arcgis.com"),u=u&&(o?o+"//":"")+u}return e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(136),s=r(2),u=r(12),c=r(182),l=r(3),f=r(6),d=r(15),p=r(20),h=r(5),g=r(111);!function(e){e.ArcGISJSSync="ARCGIS_JS",e.OtherWindowSync="OTHER_WINDOW",e.AddOrUpdate="ADD_OR_UPDATE",e.Remove="REMOVE"}(i=t.SessionChangedReasonType||(t.SessionChangedReasonType={}));var m=function(){function e(){var e=this;this._initSignInCookie=function(){var t,r,n;if(e._canReadEsriAuthCookie()&&!window.jimuConfig.isDevEdition||window.jimuConfig.isInPortal){var o=null===(t=e.readCookie("esri_auth"))||void 0===t?void 0:t[0];if(!o)return;if(n=e._getSessionFromCookieString(o),e._checkMainSession(n)){window.jimuConfig.isInPortal||e.writeCookieForSession("exb_auth",n);var i=e._getKeyFromUrl(n.portal);return void e._setSession(i,n)}}if(!window.jimuConfig.isInPortal){var a=null===(r=e.readCookie("exb_auth"))||void 0===r?void 0:r[0];if(a)if(n=e._getSessionFromCookieString(a),e._checkMainSession(n)){i=e._getKeyFromUrl(n.portal);e._setSession(i,n)}else e._processInvalidSignInSession()}},this._checkMainSession=function(t){var r,n;if(!t)return!1;if(!e._checkSession(t))return!1;var o=e._getKeyFromUrl(t.portal);return!(null===(r=e._mainPortalInfo)||void 0===r||!r.portalUrl||o!==e._getKeyFromUrl(null===(n=e._mainPortalInfo)||void 0===n?void 0:n.portalUrl))},this._processInvalidSignInSession=function(){e.removeSelfCookie(),e.clearSessions()},this.gotoLoginInPage=function(){var t;if(window.jimuConfig.isDevEdition)t=location.protocol+"//"+location.host+"/page/set-portalurl";else{if(window.jimuConfig.isInPortal)return void e.signIn(""+window.location.pathname+window.location.search,!1);t=location.protocol+"//"+location.host+"/page/landing"}0!==window.location.href.indexOf(t)&&(window.location.href=t)},this.handleAuthError=function(t,r){void 0===r&&(r=!0);var n=t.options;if(t instanceof s.ArcGISAuthError&&n&&(!n.authentication||498===t.code||"AUTHENTICATION_ERROR_CODE"===t.code)){var o=e._getKeyFromUrl(t.url);return e._sessions&&e._sessions[o]&&delete e._sessions[o],e.signIn(window.location&&window.location.href,r,t.url)}throw t}}return e.prototype.getMainSession=function(){var e;if(!this._sessions||!this._mainPortalInfo)return null;var t=this._sessions[this._getKeyFromUrl(null===(e=this._mainPortalInfo)||void 0===e?void 0:e.portalUrl)];return this._checkSession(t)?t:null},e.prototype.getSessions=function(){var e=this;if(!this._sessions)return[];var t={};return Object.keys(this._sessions).forEach((function(r){var n=e._sessions[r];e._checkSession(n)&&(t[r]=n)})),this._sessions=t,Object.keys(this._sessions).map((function(t){return e._sessions[t]}))},e.prototype.clearSessions=function(){delete this._sessions},e.prototype.syncSessionsFromOtherWindow=function(e){var t=this;this.clearSessions(),e.forEach((function(e){t._addOrReplaceSession(e)})),this._onSessionChanged(i.OtherWindowSync)},e.prototype._onSessionChanged=function(e){if(this._onSessionChangedCallbacks){var t=this.getSessions();this._onSessionChangedCallbacks.forEach((function(r){r(t,e)}))}},e.getInstance=function(){return e.instance||(e.instance=new e,window._sessionManager=e.instance,this.instance._isSigning=!1,this.instance._signInQueue=[],this.instance._onSessionChangedCallbacks=[]),e.instance},e.prototype.initFromCookie=function(e){void 0===e&&(e=this._mainPortalInfo),this._mainPortalInfo=e,this.updateFromCookie()},e.prototype.updateFromCookie=function(){this._initSignInCookie()},e.prototype.getUserInfo=function(e){return e.getUser()},e.prototype.setSessionPortalUrl=function(e,t){if(!e||!t)return!1;var r=this._getKeyFromUrl(t),n=e.toJSON();return n.portal=p.getPortalRestUrl(t),this.removeSession(e),this._setSession(r,new a.UserSession(n)),!0},e.prototype.setClientId=function(e){var t;if(this._mainPortalInfo.clientId=e,this.getMainSession()){var r=this.getMainSession().toJSON();r.clientId=e,this._setSession(this._getKeyFromUrl(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl),new a.UserSession(r))}},e.prototype.setMainPortalUrl=function(e){this._mainPortalInfo.portalUrl=e},e.prototype.setMainPortal=function(e){this._mainPortalInfo=e},e.prototype.getMainPortal=function(){return this._mainPortalInfo},e.prototype.getTrustedServers=function(){var e,t=l.getAppStore().getState(),r=null===(e=null==t?void 0:t.portalSelf)||void 0===e?void 0:e.authorizedCrossOriginDomains;return!this._trustedServers&&r&&(this._trustedServers=r.map((function(e){return d.setProtocol(d.getUrlHost(e),h.UrlProtocol.Https)}))),this._trustedServers||[]},e.prototype.isTrustedServer=function(e){return this.getTrustedServers().some((function(t){return e.indexOf(t)>-1}))},e.prototype.removeSession=function(e){if(!e)return!1;var t=this._getKeyFromUrl(e.portal);return!!this._removeSessionByKey(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(i.Remove),!0)},e.prototype._syncToOtherWindowSessionManager=function(){if(window.jimuConfig.isBuilder)f.getModuleSync("jimu-for-builder").builderAppSync.publishChangeSessionToApp();else if(window.jimuConfig.isInBuilder){f.getModuleSync("jimu-for-builder").appBuilderSync.publishAppSessionChangeToBuilder()}},e.prototype._removeSessionByKey=function(e){return!!e&&(this._sessions&&this._sessions[e]&&delete this._sessions[e],!0)},e.prototype.addOrReplaceSession=function(e){return!!e&&(!!this._addOrReplaceSession(e)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(i.AddOrUpdate),!0))},e.prototype._canReadEsriAuthCookie=function(){var e;if(window.jimuConfig.isInPortal)return!0;var t=null===(e=this._mainPortalInfo)||void 0===e?void 0:e.clientId;return this._isArcgisUrl(window.location.host,!0)&&"experienceBuilder"===t},e.prototype._addOrReplaceSession=function(e){if(!e)return!1;var t=this._getKeyFromUrl(e.portal);return!!t&&(this._setSession(t,e),!0)},e.prototype._setSession=function(e,t){var r;this._checkSession(t)&&(this._sessions||(this._sessions={}),this._sessions[e]=t,e===this._getKeyFromUrl(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl)&&(l.getAppStore().dispatch(u.sessionStart(t.token)),window.jimuConfig.isInPortal||this.writeCookieForSession("exb_auth",t)))},e.prototype.getSessionByUrl=function(e){if(this._sessions){var t=this._getKeyFromUrl(e),r=this._sessions[t];if(!r&&this._isArcgisUrl(e)&&!this._getStandardArcgisKey(e)){var n=void 0,o=void 0,i=this._getHostname(e).split(".");n=i[0],i.splice(0,1),o=i.join(".");var a="www.arcgis.com";n.indexOf("dev")>-1||o.indexOf("dev")>-1?a="devext.arcgis.com":(n.indexOf("qa")>-1||o.indexOf("qa")>-1)&&(a="qaext.arcgis.com"),r=this._sessions[a]}return r}},e.prototype._getKeyFromUrl=function(e){var t,r;if(!e)return null;if(this._isArcgisUrl(e))return this._getArcgisKey(e);var n=this._getPortalUrlInfo(e),o=n.customBaseUrl,i=n.urlKey;if(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl){var a=this._getPortalUrlInfo(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl);if(i===a.urlKey&&0===o.indexOf(a.customBaseUrl))return a.urlKey+"."+a.customBaseUrl}return i+"."+o},e.prototype._getPortalUrlInfo=function(e){if(!e)return null;var t=e.toLowerCase(),r="",n=t.indexOf("https://");0===n?r="https://":0===(n=t.indexOf("http://"))&&(r="http://"),n=r.length;var o,i=t.indexOf("/sharing/rest",n);i=i<0?t.length:i;var a=(t=t.substring(n,i)).split(".");return o=a[0],a.splice(0,1),{urlKey:o,customBaseUrl:a.join("."),schema:r}},e.prototype._getSessionFromCookieJson=function(e){var t;if(!this._checkCookie(e))return null;var r=this.getPortalFromCookie(e);return new a.UserSession({clientId:null===(t=this._mainPortalInfo)||void 0===t?void 0:t.clientId,token:e.token,tokenExpires:new Date(e.expires),portal:r,username:e.email})},e.prototype._getSessionFromCookieString=function(e){var t=JSON.parse(e);return this._getSessionFromCookieJson(t)},e.prototype.getPortalFromCookie=function(e){var t;if(window.jimuConfig.isInPortal)return(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl)+"/sharing/rest/";var r=e.urlKey?e.urlKey+".":"",n=e.schema,o=""+(n=n||"https://")+r+e.customBaseUrl+"/sharing/rest/";return"maps.arcgis.com"===e.customBaseUrl?o=n+"www.arcgis.com/sharing/rest/":"mapsdevext.arcgis.com"===e.customBaseUrl?o=n+"devext.arcgis.com/sharing/rest/":"mapsqa.arcgis.com"===e.customBaseUrl&&(o=n+"qaext.arcgis.com/sharing/rest/"),o},e.prototype._checkCookie=function(e){return!!e&&!(new Date(e.expires)<new Date)},e.prototype._checkSession=function(e){return!!e&&!(new Date(e.tokenExpires)<new Date)},e.prototype.readCookie=function(e){return(document&&document.cookie?document.cookie.split("; "):[]).filter((function(t){return t.split("=")[0]===e})).map((function(e){return decodeURIComponent(e.split("=")[1])}))||[]},e.prototype.writeCookieForSession=function(e,t){c.set(e,JSON.stringify(this._getCookieFromSession(t)))},e.prototype._getCookieFromSession=function(e){var t=this._getPortalUrlInfo(e.portal),r=t.urlKey,n=t.customBaseUrl,o=t.schema;return{portalApp:!1,email:e.username,token:e.token,expires:e.tokenExpires,urlKey:r,customBaseUrl:n,schema:o}},e.prototype.removeSelfCookie=function(){var e;c.remove("exb_auth");var t=null===(e=this._mainPortalInfo)||void 0===e?void 0:e.clientId;this._isArcgisUrl(window.location.host,!0)&&"experienceBuilder"===t&&c.remove("esri_auth_backup")},e.prototype.addFromArcGisJSCredential=function(e){var t=a.UserSession.fromCredential(e);return!!this._addOrReplaceSession(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(i.ArcGISJSSync),!0)},e.prototype._getHostname=function(e){if(!e)return null;var t=e.toLowerCase();return d.getUrlHost(t)},e.prototype._getArcgisKey=function(e){var t=this._getHostname(e);return this._getStandardArcgisKey(e)||t},e.prototype._getStandardArcgisKey=function(e){var t,r,n,o=this._getHostname(e).split(".");return t=o[0],o.splice(0,1),r=o.join("."),"devext"===t||"mapsdevext.arcgis.com"===r?n="devext.arcgis.com":"qaext"===t||"mapsqa.arcgis.com"===r?n="qaext.arcgis.com":"www"!==t&&"maps.arcgis.com"!==r||(n="www.arcgis.com"),n},e.prototype._getHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?s.request(t+"/rest/info",{httpMethod:"GET"}).then((function(e){return e.owningSystemUrl?(/https?:\/\/(www|services)\.arcgis\.com/.test(e.owningSystemUrl)?t="www.arcgis.com":/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsdevext\.arcgis\.com\/?$/.test(l.getAppStore().getState().portalUrl)?t="devext.arcgis.com":/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsqa\.arcgis\.com\/?$/.test(l.getAppStore().getState().portalUrl)&&(t="qaext.arcgis.com"),Promise.resolve(t)):Promise.resolve(null);var t})):Promise.resolve(null)},e.prototype._getHostedServiceArcgisKey=function(e){var t,r=this._getHostname(e).split("."),n=r[0];return r.splice(0,1),n.indexOf("servicesdev")>-1?t="devext.arcgis.com":n.indexOf("servicesqa")>-1?t="qaext.arcgis.com":n.indexOf("services")>-1&&(t="www.arcgis.com"),t?Promise.resolve(t):this._getHostedService(e)},e.prototype._isArcgisUrl=function(e,t){if(!e)return!1;var r=e;return!(!t&&!(r=this._getHostname(e)))&&((r=r.toLowerCase()).indexOf(".arcgis.com")>-1||"arcgis.com"===r)},e.prototype._getLoginDomain=function(e){var t,r,i;return n(this,void 0,void 0,(function(){var n,a,s,u,c,l;return o(this,(function(o){switch(o.label){case 0:return e?(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl)&&this._getKeyFromUrl(e)===this._getKeyFromUrl(null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl)?[2,null===(i=this._mainPortalInfo)||void 0===i?void 0:i.portalUrl]:(n=e.indexOf("/sharing/rest"))>-1?[2,e.substring(0,n)]:(a=this._getPortalUrlInfo(e),s=a.customBaseUrl,u=a.urlKey,c=a.schema,this._isArcgisUrl(e)?(l=this._getStandardArcgisKey(e))?[3,2]:[4,this._getHostedServiceArcgisKey(e)]:[3,3]):[2,null];case 1:l=(l=o.sent())||this._getHostname(e),o.label=2;case 2:return[2,"https://"+l];case 3:return[2,""+(c||"https://")+u+"."+s]}}))}))},e.prototype.signIn=function(e,t,r){var i,s;return void 0===e&&(e="/"),void 0===t&&(t=!0),void 0===r&&(r=null===(i=this._mainPortalInfo)||void 0===i?void 0:i.portalUrl),n(this,void 0,void 0,(function(){var n,i,u,c,h,m,v,y,b,w,S,O=this;return o(this,(function(o){switch(o.label){case 0:return"/"==e&&window.jimuConfig.isInPortal&&(e=window.location.pathname),(n=this.getSessionByUrl(r))?(this._executSignIn(),t||(i=0===e.indexOf("/"),window.location.href=location.protocol+"//"+location.host+(i?"":"/")+e),[2,Promise.resolve(n)]):(u=l.getAppStore().getState(),(c=u.queryObject)&&c.host_auth?(g.postMessage({signIn:!0}),this._waitingForHostAuth=!0,[2,g.listenForMessageOnce(g.ListenMessageType.HostAuth).then((function(e){O._waitingForHostAuth=!1;var t=a.UserSession.deserialize(e.serializedSession);return O._setSession(O._getKeyFromUrl(t.portal),t),O._executSignIn(),Promise.resolve(t)}))]):this._isSigning?(h=this.defer(),this._signInQueue.push({desUrl:r,fromUrl:e,popup:t,sessionDefer:h}),[2,h.promise]):(m=u.clientId,[4,this._getLoginDomain(r)]));case 1:return v=o.sent(),y=p.getPortalRestUrl(v),b=d.getFolder(f.resolveModuleFullPath("jimu-core")),w=""+window.location.origin+b+"/oauth-callback.html?clientId="+m+"&portal="+y+"&popup="+t+"&isInPortal="+window.jimuConfig.isInPortal+"&fromUrl="+e,w=new URL(w).toString(),S={portal:y,clientId:m,redirectUri:w,popup:t,params:{showSignupOption:!0,signupType:"esri"}},this._isSigning=!0,[2,null===(s=a.UserSession.beginOAuth2(S))||void 0===s?void 0:s.then((function(e){return O.addOrReplaceSession(e),O._isSigning=!1,O._executSignIn(),Promise.resolve(e)}))]}}))}))},e.prototype.addSessionChangeListener=function(e){if("function"!=typeof e)throw new Error("callback must be a function");this._onSessionChangedCallbacks.indexOf(e)<0&&this._onSessionChangedCallbacks.push(e)},e.prototype._executSignIn=function(){if(!this._isSigning&&this._signInQueue){var e=this._signInQueue.pop();e&&this.signIn(e.fromUrl,e.popup,e.desUrl).then((function(t){e.sessionDefer.resolve(t)}))}},e.prototype.signOut=function(){var e,t,r=this.getMainSession(),n=null==r?void 0:r.portal;n||(n=(n=null===(e=this._mainPortalInfo)||void 0===e?void 0:e.portalUrl)&&p.getPortalRestUrl(n));var o=(null==r?void 0:r.clientId)||(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.clientId);this.clearSessions(),l.getAppStore().dispatch(u.userSignOut());var i,a=window&&window.location;i=window.jimuConfig.isDevEdition?a.protocol+"//"+a.host+"/page/set-portalurl":window.jimuConfig.isInPortal?window.location.href:a.protocol+"//"+a.host+"/page/landing";var s=l.getAppStore().getState().queryObject;if((null==s?void 0:s.host_auth)&&g.postMessage({signOut:!0}),this.removeSelfCookie(),this._arcgisJSIM&&this._arcgisJSIM.destroyCredentials(),n&&o){var c=n+"/oauth2/signout?client_id="+o+"&redirect_uri="+(i=encodeURIComponent(i));a.href=c}else a.href=encodeURIComponent("")},e.prototype.syncHostAuth=function(e){if(e.serializedSession){if(!this._waitingForHostAuth){var t=a.UserSession.deserialize(e.serializedSession);this._addOrReplaceSession(t)}}else this.clearSessions()},e.prototype.defer=function(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e},e.prototype._generateToken=function(e,t){var r=d.setProtocol(p.getPortalRestUrl(e)+"generateToken?f=json",h.UrlProtocol.Https);return fetch(r+"&"+(t||""),{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return null}))},e.prototype._getPortalSelfInfo=function(e){var t=d.setProtocol(p.getPortalRestUrl(e)+"portals/self?f=json",h.UrlProtocol.Https);return fetch(t,{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()}))},e.prototype.getSessionFromWebTierPortal=function(e,t){var r,n=this;return this._getPortalSelfInfo(e).then((function(o){return r=o,n._generateToken(e,t)})).then((function(t){if(t&&t.token){var n={token:t.token,expires:t.expires,userId:r.user?r.user.username:"",ssl:t.ssl,server:p.getPortalRestUrl(e)};return a.UserSession.fromCredential(n)}return null})).catch((function(){return null}))},e.prototype.getSessionFromTrustedServer=function(e){var t=this,r=(e||"").trim().replace(/rest(.*)/gi,"").replace(/\/*$/g,""),n=this.getSessionByUrl(r);if(n)return Promise.resolve(n);var o=d.setProtocol(d.getUrlHost(window.location.href),h.UrlProtocol.Https);return fetch(r+"/rest/info?f=json",{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()})).then((function(e){var n=e.owningSystemUrl;if(n){var i="request=getToken&serverUrl="+r+"&referer="+o;return t.getSessionFromWebTierPortal(n,i).then((function(e){var n=e,o=e.toJSON();o.portal=r;var i=new a.UserSession(o);return t.addOrReplaceSession(n),t.addOrReplaceSession(i),e}))}return null})).catch((function(e){return console.warn("Failed to get session from trusted server."),null}))},e}();t.SessionManager=m,g.listenForMessage(g.ListenMessageType.HostAuth,m.getInstance().syncHostAuth.bind(m.getInstance())),t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=r(44);t.DEFAULT_ANIMATION_PROPS={offsetX:0,offsetY:0,rotateX:0,rotateY:0,rotateZ:0,clipLeft:0,clipRight:0,clipTop:0,clipBottom:0,scaleX:1,scaleY:1,opacity:1};var i=function(){function e(e,t){this.type=e,this.option=t}return e.prototype.generateProps=function(e){return Object.assign({},t.DEFAULT_ANIMATION_PROPS,e)},e.prototype.getConfigType=function(){var e,t;return(null!==(t=null===(e=this.option)||void 0===e?void 0:e.configType)&&void 0!==t?t:n.AnimationEffectType.Default).toLowerCase()},e.prototype.transform=function(e,t,r){return o.interpolateTransform(e,t,r)},e.prototype.clippath=function(e){return o.interpolateClippath(e)},e.prototype.propsOnXY=function(e,t){return null},e.prototype.hasMoveEffect=function(){return!1},e}();t.BaseEffect=i},,,function(e,t,r){"use strict";function n(e){return Object.keys(e).some((function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function o(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n&&n.toParam&&(n=n.toParam()),n||0===n||"boolean"==typeof n||"string"==typeof n){var o;switch(n.constructor.name){case"Array":o=n[0]&&n[0].constructor&&"Object"===n[0].constructor.name?JSON.stringify(n):n.join(",");break;case"Object":o=JSON.stringify(n);break;case"Date":o=n.valueOf();break;case"Function":o=null;break;case"Boolean":o=n+"";break;default:o=n}(o||0===o||"string"==typeof o)&&(t[r]=o)}})),t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},o={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=r(66),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},l=Object(i.a)((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,r){return p={name:t,styles:r,next:p},t}))}return 1===o[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)p={name:o.name,styles:o.styles,next:p},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":c(a)&&(n+=l(i)+":"+f(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a,!1);switch(i){case"animation":case"animationName":n+=l(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(n+=l(i)+":"+f(i,a[u])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=p,a=r(e);return p=i,d(e,t,a,n)}break;case"string":}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var p,h=/label:\s*([^\s;\n{]+)\s*;/g;var g=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";p=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=d(r,t,a,!1)):i+=a[0];for(var s=1;s<e.length;s++)i+=d(r,t,e[s],46===i.charCodeAt(i.length-1)),o&&(i+=a[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(i));)c+="-"+u[1];return{name:n(i)+c,styles:i,next:p}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var o=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0);o=o.next}while(void 0!==o)}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AppConfigProcessor="APP_CONFIG_PROCESSOR",e.WidgetClassWrapper="WIDGET_CLASS_WRAPPER",e.AppConfigService="APP_CONFIG_SERVICE",e.ReduxStore="REDUX_STORE",e.DependencyDefine="DEPENDENCY_DEFINE",e.DataSourceFactoryUri="DATA_SOURCE_FACTORY_URI",e.ContextTool="CONTEXT_TOOL",e.LayoutTransformer="LAYOUT_TRANSFORMER"}(n=t.ExtensionPoints||(t.ExtensionPoints={})),t.EP_SUPPORT_MULTIPLE_EXTENTIONS=[n.ReduxStore,n.DataSourceFactoryUri,n.DependencyDefine,n.ContextTool,n.LayoutTransformer];var o=function(){};t.DummyExtension=o},function(e,t,r){"use strict";var n=r(84),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),g=u(r),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||n&&n[v]||g&&g[v]||s&&s[v])){var y=d(r,v);try{c(t,v,y)}catch(e){}}}}return t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o};n.prototype=Object.create(Error.prototype),n.prototype.constructor=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(29),i=r(3),a=r(12),s=function(){function e(){this.extensions={},this.extensionClasses={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._extensionManager=e.instance),e.instance},e.prototype.getExtensions=function(e){return this.extensions[e]||[]},e.prototype.getAllExtensions=function(){var e=this,t=[];return Object.keys(this.extensions).forEach((function(r){e.extensions[r].forEach((function(e){t.push(e)}))})),t},e.prototype.registerExtension=function(e){if(this.getExtensionById(e.extension.id))console.log("Extension "+e.extension.id+" has been registered.");else{if(this.extensions[e.epName]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(e.epName)>-1))return;this.extensions[e.epName].push(e.extension),this.extensions[e.epName]=this.extensions[e.epName].sort((function(e,t){return e.index-t.index}))}else this.extensions[e.epName]=[e.extension];e.epName===o.ExtensionPoints.ReduxStore&&i.getAppStore().dispatch(a.initStoreExtensionState(e.extension.id))}},e.prototype.destryAllExtensions=function(){var e=this;Object.keys(this.extensions).forEach((function(t){e.extensions[t].forEach((function(t){delete e.extensionClasses[t.name],t.destroy&&t.destroy()}))})),this.extensions={}},e.prototype.destryWidgetExtensions=function(e){var t=this;Object.keys(this.extensions).forEach((function(r){t.extensions[r].forEach((function(r){r.widgetId===e&&(delete t.extensionClasses[r.name],r.destroy&&r.destroy())})),t.extensions[r]=t.extensions[r].filter((function(t){return t.widgetId!==e}))}))},e.prototype.registerWidgetExtensions=function(e){var t=this,r=[];return e.manifest.extensions&&e.manifest.extensions.forEach((function(n){(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder||n.point!==o.ExtensionPoints.ContextTool)&&r.push(t.registerWidgetExtension(e,n))})),Promise.all(r)},e.prototype.registerWidgetExtension=function(e,t){var r=this;if(this.extensions[t.point]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(t.point)>-1))return Promise.resolve();if(this.extensions[t.point].filter((function(r){return r.name===e.manifest.name+"-"+t.name&&r.widgetId===e.id})).length>0)return Promise.resolve()}return this.loadWidgetExtensionClass(e,t).then((function(n){var o=new n;o.name=e.manifest.name+"-"+t.name,o.widgetId=e.id,o.id=o.widgetId+"-"+t.name,o.label=e.manifest.i18nMessages["_ext_"+t.name+"_label"]||t.label,r.registerExtension({epName:t.point,extension:o})})).catch((function(t){return console.error("Register widget extension error.",e.label),Promise.resolve()}))},e.prototype.loadWidgetExtensionClass=function(e,t){var r=e.manifest.name+"-"+t.name;if(this.extensionClasses[r])return this.extensionClasses[r];var o=e.uri+"dist/"+t.uri;return this.extensionClasses[r]=n.loadModule(o).then((function(e){return e.default})),this.extensionClasses[r]},e.prototype.getExtensionById=function(e){var t=this.getAllExtensions();for(var r in t)if(t[r].id===e)return t[r]},e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={loading:"Loading",apply:"Apply",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",open:"Open",close:"Close",widgetLoadError:"Fail to load",notPublishError:"This item is not published. Please open this item in Experience Builder, then click <b>&nbsp;Publish&nbsp;</b> to publish it.",versionUpdateMsg:"New updates are available. Click Reload button to get the latest updates.",doUpdate:"Reload",search:"Search",delete:"Delete",about:"About",message_StringSelectionChange:"String Selection Changes",message_ExtentChange:"Extent Changes",message_DataRecordsSelectionChange:"Record Selection Changes",message_DataRecordSetCreate:"Record Set Created",message_DataRecordSetUpdate:"Record Set Updated",message_SelectDataRecord:"Select Data Record",dataAction_ExportJson:"Export JSON",messageAction_SelectDataRecord:"Select Data Records",messageAction_FilterDataRecord:"Filter Data Records",icon:"Icon",small:"Small",medium:"Medium",large:"Large",experience:"Experience",template:"Template",widget:"Widget",section:"Section",view:"View",page:"Page",dialog:"Window",layout:"Layout",theme:"Theme",dataSource:"Datasource",block:"Block",dialogConfirmationDefaultText:"I agree to the above terms and conditions",noEditPrivilegesError:"Your account does not have permission to create or modify data.",noEditContentPrivilegesError:"Your account does not have permission to create or modify content.",essentialAppsLicenseErrorForApp:"Your account is not licensed to use an app that is not public. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",essentialAppsLicenseErrorForBuilder:"Your account is not licensed for Experience Builder. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",roleError:"Experience Builder Developer Edition requires a level 2 ArcGIS account to work. Please login with an account that has level 2 privileges.",roleError2:"Experience Builder Developer Edition requires an ArcGIS organization account with a user type that includes privileges to create content.",invalidResourceExperience:"This is not a supported item.",invalidResourceItem:"Item does not exist or is inaccessible.",invalidResourcePermission:"You do not have permissions to access this resource.",upgradedFrom:"Upgraded from previous config"}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(17),a=r(5),s=r(4),u=r(16),c=r(116),l=r(54),f=r(117),d=r(192),p=r(193),h=r(194),g=r(195),m=r(196),v=r(14);function y(e,r){if(!e||0===e.length)return Promise.reject(o.ParamNumber);var n=e.filter((function(e){return e.type!==i.ExpressionPartType.Operator&&e.type!==i.ExpressionPartType.Unknown}));if(n.length>0&&S(n)){var a=function(e){if(!e)return{};var t={};return e.forEach((function(e){t[e.dataSourceId]?t[e.dataSourceId].push(e):t[e.dataSourceId]=[e]})),t}(n);return Promise.all(Object.keys(a).map((function(e){return function(e,r){if(!e||0===e.length)return Promise.resolve(0);var n=u.default.getInstance().getDataSource(e[0].dataSourceId),o=function(e,r){var n=t.EXPRESSION_LOAD_PREFIX+"-"+r;return e&&e.forEach((function(e){n=n+"-"+e.jimuFieldName})),n}(e,r),a=u.default.getInstance().createLocalDataSource(n,o);if(n&&n.load){var s=function(e,t){if(!e)return null;var r=[];return e.forEach((function(e,n){var o=u.default.getInstance().getDataSource(e.dataSourceId),i=o&&o.getSchema(),a=i&&i.fields&&i.fields[e.jimuFieldName],s=function(e,t,r){return(t||"")+"_"+(b(r)?r:"")+"_"+e}(t,a&&a.jimuName,n);r.push({onStatisticField:a&&a.name,outStatisticFieldName:s,statisticType:w(t)})})),{returnGeometry:!0,where:"1=1",outStatistics:r}}(e,r);return a.load(s,{widgetId:o}).then((function(e){var t,o,a,s,u,c=e&&e[0]&&e[0].getData()||{},l=Object.keys(c).map((function(e,t){return c[e]}));if(r===i.ExpressionFunctions.Count){var f=n.isDataView?(null===(o=null===(t=n.getMainDataSource())||void 0===t?void 0:t.getDataSourceJson())||void 0===o?void 0:o.dataViews)&&(null===(a=n.getMainDataSource().getDataSourceJson().dataViews[n.dataViewId])||void 0===a?void 0:a.maximum):null===(u=null===(s=n.getDataSourceJson())||void 0===s?void 0:s.query)||void 0===u?void 0:u.maximum;"number"==typeof f&&(l[0]=Math.min(l[0],f))}return I(l,r,!0)}))}}(a[e],r)}))).then((function(e){var t=e.length>0?I(e,r,!0):null;if(null!==t)return t;throw new Error(o.ParamType)}))}if(!(n.length>0&&O(n))){if(n.length>0&&n.every((function(e){return O([e])||S([e])}))){var s=n.filter((function(e){return O([e])}));return y(n.filter((function(e){return S([e])})),r).then((function(e){return y(s.concat({type:i.ExpressionPartType.Number,exp:""+e}),r)}))}return Promise.reject(o.ParamType)}switch(r){case i.ExpressionFunctions.Average:return Promise.resolve(_(n)/n.length);case i.ExpressionFunctions.Sum:return Promise.resolve(_(n));case i.ExpressionFunctions.Count:return Promise.resolve(n.length);case i.ExpressionFunctions.Max:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return b(e)}))?Math.max.apply(null,t):0}(n));case i.ExpressionFunctions.Min:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return b(e)}))?Math.min.apply(null,t):0}(n));default:return Promise.reject(o.FuncType)}}function b(e){return!isNaN(parseFloat(e))&&isFinite(e)&&"[object Number]"===Object.prototype.toString.call(e)}function w(e){switch(e){case i.ExpressionFunctions.Average:return f.StatisticType.Avg;case i.ExpressionFunctions.Count:return f.StatisticType.Count;case i.ExpressionFunctions.Sum:return f.StatisticType.Sum;case i.ExpressionFunctions.Max:return f.StatisticType.Max;case i.ExpressionFunctions.Min:return f.StatisticType.Min;default:return null}}function S(e){return!!e&&e.every((function(e){if(e.type===i.ExpressionPartType.Field&&e.jimuFieldName&&e.dataSourceId){var t=u.default.getInstance().getDataSource(e.dataSourceId),r=t&&t.getSchema(),n=r&&r.fields&&r.fields[e.jimuFieldName];return n&&n.type===a.JimuFieldType.Number}return!1}))}function O(e){return!!e&&e.every((function(e){return e.type===i.ExpressionPartType.Number}))}function I(e,t,r){if(!e||0===e.length||e.some((function(e){return!b(e)})))return 0;switch(t){case i.ExpressionFunctions.Average:return e.reduce((function(e,t){return e+t}),0)/e.length;case i.ExpressionFunctions.Sum:return e.reduce((function(e,t){return e+t}),0);case i.ExpressionFunctions.Count:return r?e[0]:e.length;case i.ExpressionFunctions.Max:return Math.max.apply(null,e);case i.ExpressionFunctions.Min:return Math.min.apply(null,e);default:return 0}}function _(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return b(e)}))?t.reduce((function(e,t){return e+t}),0):0}function E(e){var t=[],r=[];return e&&e.forEach((function(o,a){if(o&&!r.some((function(e){return e===a})))if(o.type!==i.ExpressionPartType.Function)t=t.concat(o);else if(r.push(a),e[a+1]&&e[a+1].type===i.ExpressionPartType.Operator&&"("===e[a+1].exp){for(var s=e.slice(a+2),u=0,c=0,l=0;l<s.length;l++){if(0===c&&s[l].type===i.ExpressionPartType.Operator&&")"===s[l].exp){u=l;break}c>0&&s[l].type===i.ExpressionPartType.Operator&&")"===s[l].exp?c--:s[l].type===i.ExpressionPartType.Operator&&"("===s[l].exp&&c++}var f=u+a+2;if(f>=a+2){var d=e.slice(a+2,f);for(l=a+1;l<=f;l++)r.push(l);t=t.concat(n(n({},o),{parts:E(d)}))}else console.warn("Can not martch parentheses")}else t=t.concat(o)})),t}function T(e,t){var r,n,o,i=e.dataSourceId.split("-").reverse()[0]===v.SELECTION_DATA_VIEW_ID;if(e.isFromRepeatedDataSourceContext)o=Array.isArray(t)?null===(r=t[0])||void 0===r?void 0:r.record:null===(n=t)||void 0===n?void 0:n.record;else if(i){if(!(o=null==(s=u.default.getInstance().getDataSource(e.dataSourceId))?void 0:s.getRecords()[0])){var a=null==s?void 0:s.getMainDataSource().getDataView(v.DATA_VIEW_ID_FOR_NO_SELECTION);o=null==a?void 0:a.getRecords()[0]}}else{var s;o=null==(s=u.default.getInstance().getDataSource(e.dataSourceId))?void 0:s.getRecords()[0]}return o}function C(e,t,r){if(c.getWhetherFunctionIncludeChildExpression(e&&e.parts)){var o=c.getChildExpression(e.parts);return Promise.all(Object.keys(o).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(e){return l.resolveExpression(o[e],t,r)}))).then((function(e){return e.map((function(e){return x((t=e,!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(e):e),!1);var t}))})).then((function(t){return A(n(n({},e),{parts:t}),r)}))}return A(e,r)}function A(e,t){return e.exp===i.ExpressionFunctions.Average?d.average(e.parts,t):e.exp===i.ExpressionFunctions.Count?p.count(e.parts,e.dataSourceId,t):e.exp===i.ExpressionFunctions.Sum?h.sum(e.parts,t):e.exp===i.ExpressionFunctions.Max?g.max(e.parts,t):e.exp===i.ExpressionFunctions.Min?m.min(e.parts,t):(console.warn("Unknown function: ",e),Promise.resolve(""))}function P(e,t,r){switch(r){case"*":return b(e)&&b(t)?parseFloat(e)*parseFloat(t):"";case"/":return b(e)&&b(t)?parseFloat(e)/parseFloat(t):"";case"-":return b(e)&&b(t)?parseFloat(e)-parseFloat(t):"";default:return b(e)&&b(t)?parseFloat(e)+parseFloat(t):""+e+t}}function x(e,t,r){return b(e)?{exp:t&&r?r.formatNumber(e):e,type:i.ExpressionPartType.Number}:{exp:'"'+e.replace(/^"/,"").replace(/"$/,"")+'"',type:i.ExpressionPartType.String}}function D(e,t,r,n){var o,i="";if(!(o=t)||!o.getData||"function"!=typeof o.getData)return i;var a=r&&n?t.getFormattedData(n):t.getData();return a&&null!==a[e]&&void 0!==a[e]&&(i=a[e]),i}t.localDataSourceTypes=[s.DataSourceTypes.FeatureSet],t.EXPRESSION_LOAD_PREFIX="EXPRESSION_RESOLVER",function(e){e.ParamType="INVALID_PARAM_TYPE",e.ParamNumber="INVALID_NUMBER_OF_PARAMS",e.FuncType="INVALID_FUNCTION_TYPE",e.NeedRecord="NEED_RECORD",e.NeedDataSource="NEED_DATA_SOURCE"}(o=t.errorCode||(t.errorCode={})),t.getFunctionResult=function(e,r,s){if(!e||0===e.length)return Promise.reject(o.ParamNumber);var l=e.filter((function(e){return e.type!==i.ExpressionPartType.Operator&&e.type!==i.ExpressionPartType.Unknown}));if(0===l.length)return Promise.reject(o.ParamNumber);if(1===l.length&&c.getWhetherFunctionIncludeFieldParam(l)){var f=function(e){return!!(e&&e.length>0&&e.some((function(e){return e.type===i.ExpressionPartType.Field&&function(e){if(!e)return!0;var r=e.dataSourceId,n=u.default.getInstance().getDataSource(r);return n&&n.type&&t.localDataSourceTypes.some((function(e){return e===n.type}))}(e)})))}(l),d=function(e){return!!(e&&e.length>0&&e.some((function(e){return e.isFromRepeatedDataSourceContext})))}(l);return f?function(e,r){var s;if(!e||e.type!==i.ExpressionPartType.Field)return Promise.reject(o.ParamType);var c=u.default.getInstance().getDataSource(e.dataSourceId);(null==c?void 0:c.isDataView)&&c.dataViewId===v.SELECTION_DATA_VIEW_ID&&0===(null===(s=c.getRecords())||void 0===s?void 0:s.length)&&(c=c.getMainDataSource().getDataView(v.DATA_VIEW_ID_FOR_NO_SELECTION)||c);if(!c)return Promise.reject(o.NeedDataSource);if(!t.localDataSourceTypes.some((function(e){return e===c.type}))){return y([n(n({},e),{dataSourceId:c.id})],r)}var l=c&&c.getSchema(),f=e.jimuFieldName,d=l&&l.fields&&l.fields[f];if(!d||d.type!==a.JimuFieldType.Number)return Promise.reject(o.ParamType);var p=(c.getRecords()||[]).map((function(e){return e.getData()[f]||0}));return Promise.resolve(I(p,r,!1))}(l[0],r):d?function(e,t,r){if(!e||e.type!==i.ExpressionPartType.Field)return Promise.reject(o.ParamType);if(t===i.ExpressionFunctions.Count)return Promise.resolve(1);var n=T(e,r);if(!n)return Promise.reject(o.NeedRecord);var a=D(e.jimuFieldName,n,!1);return"number"==typeof a?Promise.resolve(a):Promise.reject(o.ParamType)}(l[0],r,s):y(l,r)}return Promise.reject(o.ParamNumber)},t.groupPartsByFunction=E,t.getWhetherExpUseRecord=function e(t){if(!t)return!1;for(var r,n=!1,o=!1,a=0;a<t.length;a++){if(o=c.getWhetherFunctionIncludeChildExpression(t[a].parts),(r=t[a])&&r.type===i.ExpressionPartType.Field)n=!0;else if(o){n=e(E(t[a].parts))}if(n)break}return n},t.resolveFieldAndFunctionParts=function(e,t,r,n,a){return void 0===e&&(e=[]),e.map((function(e,s){if(e.type===i.ExpressionPartType.Field){var u=T(e,r);if(!u)return Promise.reject(o.NeedRecord);var c=D(e.jimuFieldName,u,n,a);return Promise.resolve(x(c,n,a))}return e.type===i.ExpressionPartType.Function?C(e,t,r).then((function(e){return x(e,n,a)})):Promise.resolve(e)}))},t.resolveFunctions=C,t.resolveOneFunction=A,t.calculatePostfixExpression=function(e,t){var r=[];return e.forEach((function(e){if(e.type===i.ExpressionPartType.Number)r.push(t?e.exp:parseFloat(e.exp));else if(e.type===i.ExpressionPartType.String)r.push(e.exp.replace(/^"/,"").replace(/"$/,""));else if(e.type===i.ExpressionPartType.Operator){var n=r.pop(),o=P(r.pop(),n,e.exp);r.push(o)}})),r.pop()},t.calculate=P,t.getPostfixParts=function(e){var t=[],r=[];for(e.forEach((function(e,n){if(e.type===i.ExpressionPartType.Number||e.type===i.ExpressionPartType.String)t.push(e);else if(e.type===i.ExpressionPartType.Operator)if("("===e.exp)r.push(e);else if(")"===e.exp)for(var o=r.pop();"("!=o.exp;)t.push(o),o=r.pop();else if("+"===e.exp||"-"===e.exp){for(;r.length>0&&("+"===r[r.length-1].exp||"-"===r[r.length-1].exp||"*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}else if("*"===e.exp||"/"===e.exp){for(;r.length>0&&("*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}}));r.length>0;)t.push(r.pop());return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Horizontal="H",e.Vertical="V"}(t.TransitionDirection||(t.TransitionDirection={})),function(e){e.Cube="CUBE",e.Cover="COVER",e.Fade="FADE",e.Push="PUSH",e.Box="BOX",e.None="None"}(t.TransitionType||(t.TransitionType={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"defineMessages",(function(){return rt})),r.d(t,"injectIntl",(function(){return ie})),r.d(t,"RawIntlProvider",(function(){return ne})),r.d(t,"IntlContext",(function(){return oe})),r.d(t,"useIntl",(function(){return de})),r.d(t,"IntlProvider",(function(){return Be})),r.d(t,"createIntl",(function(){return Ve})),r.d(t,"FormattedDate",(function(){return nt})),r.d(t,"FormattedTime",(function(){return ot})),r.d(t,"FormattedNumber",(function(){return it})),r.d(t,"FormattedList",(function(){return at})),r.d(t,"FormattedDisplayName",(function(){return st})),r.d(t,"FormattedDateParts",(function(){return ut})),r.d(t,"FormattedTimeParts",(function(){return ct})),r.d(t,"FormattedNumberParts",(function(){return ce})),r.d(t,"FormattedRelativeTime",(function(){return Ke})),r.d(t,"FormattedPlural",(function(){return Je})),r.d(t,"FormattedMessage",(function(){return tt})),r.d(t,"createIntlCache",(function(){return Y})),r.d(t,"ReactIntlError",(function(){return H}));var n,o=r(0);function i(e){return e.type===n.literal}function a(e){return e.type===n.argument}function s(e){return e.type===n.number}function u(e){return e.type===n.date}function c(e){return e.type===n.time}function l(e){return e.type===n.select}function f(e){return e.type===n.plural}function d(e){return e.type===n.pound}function p(e){return e.type===n.tag}function h(e){return!(!e||"object"!=typeof e||0!==e.type)}function g(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(n||(n={}));var m,v=(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e){function t(r,n,o,i){var a=e.call(this)||this;return a.message=r,a.expected=n,a.found=o,a.location=i,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return v(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(i);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+((a=t)?'"'+n(a)+'"':"end of input")+" found.";var a},t}(Error);var w=function(e,t){t=void 0!==t?t:{};var r,o={},i={start:Pe},a=Pe,s=Oe("#",!1),u=_e("tagElement"),c=Oe("<",!1),l=Oe("/>",!1),f=Oe(">",!1),d=function(e){return Xe.pop(),!0},p=Oe("</",!1),h=_e("argumentElement"),g=Oe("{",!1),m=Oe("}",!1),v=_e("numberSkeletonId"),w=/^['\/{}]/,S=Ie(["'","/","{","}"],!1,!1),O={type:"any"},I=_e("numberSkeletonTokenOption"),_=Oe("/",!1),E=_e("numberSkeletonToken"),T=Oe("::",!1),C=function(e){return Xe.pop(),e.replace(/\s*$/,"")},A=Oe(",",!1),P=Oe("number",!1),x=function(e,t,r){return y({type:"number"===t?n.number:"date"===t?n.date:n.time,style:r&&r[2],value:e},et())},D=Oe("'",!1),j=/^[^']/,k=Ie(["'"],!0,!1),R=/^[^a-zA-Z'{}]/,M=Ie([["a","z"],["A","Z"],"'","{","}"],!0,!1),N=/^[a-zA-Z]/,L=Ie([["a","z"],["A","Z"]],!1,!1),F=Oe("date",!1),U=Oe("time",!1),V=Oe("plural",!1),B=Oe("selectordinal",!1),W=Oe("offset:",!1),q=Oe("select",!1),G=Oe("=",!1),H=_e("whitespace"),z=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,$=Ie([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),K=_e("syntax pattern"),Y=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,J=Ie([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),X=_e("optional whitespace"),Q=_e("number"),Z=Oe("-",!1),ee=(_e("apostrophe"),_e("double apostrophes")),te=Oe("''",!1),re=Oe("\n",!1),ne=_e("argNameOrNumber"),oe=_e("validTag"),ie=_e("argNumber"),ae=Oe("0",!1),se=/^[1-9]/,ue=Ie([["1","9"]],!1,!1),ce=/^[0-9]/,le=Ie([["0","9"]],!1,!1),fe=_e("argName"),de=_e("tagName"),pe=0,he=0,ge=[{line:1,column:1}],me=0,ve=[],ye=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function be(){return e.substring(he,pe)}function we(){return Te(he,pe)}function Se(e,t){throw function(e,t){return new b(e,[],"",t)}(e,t=void 0!==t?t:Te(he,pe))}function Oe(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ie(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function _e(e){return{type:"other",description:e}}function Ee(t){var r,n=ge[t];if(n)return n;for(r=t-1;!ge[r];)r--;for(n={line:(n=ge[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ge[t]=n,n}function Te(e,t){var r=Ee(e),n=Ee(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Ce(e){pe<me||(pe>me&&(me=pe,ve=[]),ve.push(e))}function Ae(e,t,r){return new b(b.buildMessage(e,t),e,t,r)}function Pe(){return xe()}function xe(){var e,t;for(e=[],t=De();t!==o;)e.push(t),t=De();return e}function De(){var t;return(t=function(){var e,t;e=pe,(t=je())!==o&&(he=e,r=t,t=y({type:n.literal,value:r},et()));var r;return e=t}())===o&&(t=function(){var t,r,i,a;ye++,t=pe,123===e.charCodeAt(pe)?(r="{",pe++):(r=o,0===ye&&Ce(g));r!==o&&We()!==o&&(i=$e())!==o&&We()!==o?(125===e.charCodeAt(pe)?(a="}",pe++):(a=o,0===ye&&Ce(m)),a!==o?(he=t,s=i,r=y({type:n.argument,value:s},et()),t=r):(pe=t,t=o)):(pe=t,t=o);var s;ye--,t===o&&(r=o,0===ye&&Ce(h));return t}())===o&&(t=function(){var t;(t=function(){var t,r,n,i,a,s,u,c,l;t=pe,123===e.charCodeAt(pe)?(r="{",pe++):(r=o,0===ye&&Ce(g));r!==o&&We()!==o&&(n=$e())!==o&&We()!==o?(44===e.charCodeAt(pe)?(i=",",pe++):(i=o,0===ye&&Ce(A)),i!==o&&We()!==o?("number"===e.substr(pe,6)?(a="number",pe+=6):(a=o,0===ye&&Ce(P)),a!==o&&We()!==o?(s=pe,44===e.charCodeAt(pe)?(u=",",pe++):(u=o,0===ye&&Ce(A)),u!==o&&(c=We())!==o&&(l=function(){var t,r,n;t=pe,"::"===e.substr(pe,2)?(r="::",pe+=2):(r=o,0===ye&&Ce(T));r!==o&&(n=function(){var e,t,r;if(e=pe,t=[],(r=Me())!==o)for(;r!==o;)t.push(r),r=Me();else t=o;t!==o&&(he=e,t=y({type:0,tokens:t},et()));return e=t}())!==o?(he=t,t=r=n):(pe=t,t=o);t===o&&(t=pe,he=pe,Xe.push("numberArgStyle"),(r=(r=!0)?void 0:o)!==o&&(n=je())!==o?(he=t,r=C(n),t=r):(pe=t,t=o));return t}())!==o?s=u=[u,c,l]:(pe=s,s=o),s===o&&(s=null),s!==o&&(u=We())!==o?(125===e.charCodeAt(pe)?(c="}",pe++):(c=o,0===ye&&Ce(m)),c!==o?(he=t,r=x(n,a,s),t=r):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o);return t}())===o&&(t=function(){var t,r,n,i,a,s,u,c,l;t=pe,123===e.charCodeAt(pe)?(r="{",pe++):(r=o,0===ye&&Ce(g));r!==o&&We()!==o&&(n=$e())!==o&&We()!==o?(44===e.charCodeAt(pe)?(i=",",pe++):(i=o,0===ye&&Ce(A)),i!==o&&We()!==o?("date"===e.substr(pe,4)?(a="date",pe+=4):(a=o,0===ye&&Ce(F)),a===o&&("time"===e.substr(pe,4)?(a="time",pe+=4):(a=o,0===ye&&Ce(U))),a!==o&&We()!==o?(s=pe,44===e.charCodeAt(pe)?(u=",",pe++):(u=o,0===ye&&Ce(A)),u!==o&&(c=We())!==o&&(l=function(){var t,r,n;t=pe,"::"===e.substr(pe,2)?(r="::",pe+=2):(r=o,0===ye&&Ce(T));r!==o&&(n=function(){var t,r,n,i;t=pe,r=pe,n=[],(i=Ne())===o&&(i=Le());if(i!==o)for(;i!==o;)n.push(i),(i=Ne())===o&&(i=Le());else n=o;r=n!==o?e.substring(r,pe):n;r!==o&&(he=t,r=y({type:1,pattern:r},et()));return t=r}())!==o?(he=t,t=r=n):(pe=t,t=o);t===o&&(t=pe,he=pe,Xe.push("dateOrTimeArgStyle"),(r=(r=!0)?void 0:o)!==o&&(n=je())!==o?(he=t,r=C(n),t=r):(pe=t,t=o));return t}())!==o?s=u=[u,c,l]:(pe=s,s=o),s===o&&(s=null),s!==o&&(u=We())!==o?(125===e.charCodeAt(pe)?(c="}",pe++):(c=o,0===ye&&Ce(m)),c!==o?(he=t,r=x(n,a,s),t=r):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o);return t}());return t}())===o&&(t=function(){var t,r,i,a,s,u,c,l,f,d,p;t=pe,123===e.charCodeAt(pe)?(r="{",pe++):(r=o,0===ye&&Ce(g));if(r!==o)if(We()!==o)if((i=$e())!==o)if(We()!==o)if(44===e.charCodeAt(pe)?(a=",",pe++):(a=o,0===ye&&Ce(A)),a!==o)if(We()!==o)if("plural"===e.substr(pe,6)?(s="plural",pe+=6):(s=o,0===ye&&Ce(V)),s===o&&("selectordinal"===e.substr(pe,13)?(s="selectordinal",pe+=13):(s=o,0===ye&&Ce(B))),s!==o)if(We()!==o)if(44===e.charCodeAt(pe)?(u=",",pe++):(u=o,0===ye&&Ce(A)),u!==o)if(We()!==o)if(c=pe,"offset:"===e.substr(pe,7)?(l="offset:",pe+=7):(l=o,0===ye&&Ce(W)),l!==o&&(f=We())!==o&&(d=qe())!==o?c=l=[l,f,d]:(pe=c,c=o),c===o&&(c=null),c!==o)if((l=We())!==o){if(f=[],(d=Ue())!==o)for(;d!==o;)f.push(d),d=Ue();else f=o;f!==o&&(d=We())!==o?(125===e.charCodeAt(pe)?(p="}",pe++):(p=o,0===ye&&Ce(m)),p!==o?(he=t,r=function(e,t,r,o){return y({type:n.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:r?r[2]:0,options:o.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return r in e&&Se('Duplicate option "'+r+'" in plural element: "'+be()+'"',we()),e[r]={value:n,location:o},e}),{})},et())}(i,s,c,f),t=r):(pe=t,t=o)):(pe=t,t=o)}else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;return t}())===o&&(t=function(){var t,r,i,a,s,u,c,l,f;t=pe,123===e.charCodeAt(pe)?(r="{",pe++):(r=o,0===ye&&Ce(g));if(r!==o)if(We()!==o)if((i=$e())!==o)if(We()!==o)if(44===e.charCodeAt(pe)?(a=",",pe++):(a=o,0===ye&&Ce(A)),a!==o)if(We()!==o)if("select"===e.substr(pe,6)?(s="select",pe+=6):(s=o,0===ye&&Ce(q)),s!==o)if(We()!==o)if(44===e.charCodeAt(pe)?(u=",",pe++):(u=o,0===ye&&Ce(A)),u!==o)if(We()!==o){if(c=[],(l=Fe())!==o)for(;l!==o;)c.push(l),l=Fe();else c=o;c!==o&&(l=We())!==o?(125===e.charCodeAt(pe)?(f="}",pe++):(f=o,0===ye&&Ce(m)),f!==o?(he=t,r=function(e,t){return y({type:n.select,value:e,options:t.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return r in e&&Se('Duplicate option "'+r+'" in select element: "'+be()+'"',we()),e[r]={value:n,location:o},e}),{})},et())}(i,c),t=r):(pe=t,t=o)):(pe=t,t=o)}else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;else pe=t,t=o;return t}())===o&&(t=function(){var t,r,i,a,s,h;ye++,t=pe,r=pe,60===e.charCodeAt(pe)?(i="<",pe++):(i=o,0===ye&&Ce(c));i!==o&&(a=Ke())!==o&&(s=We())!==o?("/>"===e.substr(pe,2)?(h="/>",pe+=2):(h=o,0===ye&&Ce(l)),h!==o?r=i=[i,a,s,h]:(pe=r,r=o)):(pe=r,r=o);r!==o&&(he=t,g=r,r=y({type:n.literal,value:g.join("")},et()));var g;(t=r)===o&&(t=pe,(r=function(){var t,r,n,i;t=pe,60===e.charCodeAt(pe)?(r="<",pe++):(r=o,0===ye&&Ce(c));r!==o?(he=pe,Xe.push("openingTag"),(!0?void 0:o)!==o&&(n=Ke())!==o?(62===e.charCodeAt(pe)?(i=">",pe++):(i=o,0===ye&&Ce(f)),i!==o?(he=pe,(d()?void 0:o)!==o?(he=t,t=r=n):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o);return t}())!==o&&(i=xe())!==o&&(a=function(){var t,r,n,i;t=pe,"</"===e.substr(pe,2)?(r="</",pe+=2):(r=o,0===ye&&Ce(p));r!==o?(he=pe,Xe.push("closingTag"),(!0?void 0:o)!==o&&(n=Ke())!==o?(62===e.charCodeAt(pe)?(i=">",pe++):(i=o,0===ye&&Ce(f)),i!==o?(he=pe,(d()?void 0:o)!==o?(he=t,t=r=n):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o);return t}())!==o?(he=t,v=i,(m=r)!==(b=a)&&Se('Mismatch tag "'+m+'" !== "'+b+'"',we()),r=y({type:n.tag,value:m,children:v},et()),t=r):(pe=t,t=o));var m,v,b;ye--,t===o&&(r=o,0===ye&&Ce(u));return t}())===o&&(t=function(){var t,r;t=pe,35===e.charCodeAt(pe)?(r="#",pe++):(r=o,0===ye&&Ce(s));r!==o&&(he=t,r=y({type:n.pound},et()));return t=r}()),t}function je(){var e,t,r;if(e=pe,t=[],(r=Ge())===o&&(r=He())===o&&(r=ze()),r!==o)for(;r!==o;)t.push(r),(r=Ge())===o&&(r=He())===o&&(r=ze());else t=o;return t!==o&&(he=e,t=t.join("")),e=t}function ke(){var t,r,n,i,a;if(ye++,t=pe,r=[],n=pe,i=pe,ye++,(a=Ve())===o&&(w.test(e.charAt(pe))?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(S))),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o),n!==o)for(;n!==o;)r.push(n),n=pe,i=pe,ye++,(a=Ve())===o&&(w.test(e.charAt(pe))?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(S))),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o);else r=o;return t=r!==o?e.substring(t,pe):r,ye--,t===o&&(r=o,0===ye&&Ce(v)),t}function Re(){var t,r,n;return ye++,t=pe,47===e.charCodeAt(pe)?(r="/",pe++):(r=o,0===ye&&Ce(_)),r!==o&&(n=ke())!==o?(he=t,t=r=n):(pe=t,t=o),ye--,t===o&&(r=o,0===ye&&Ce(I)),t}function Me(){var e,t,r,n;if(ye++,e=pe,We()!==o)if((t=ke())!==o){for(r=[],n=Re();n!==o;)r.push(n),n=Re();r!==o?(he=e,e=function(e,t){return{stem:e,options:t}}(t,r)):(pe=e,e=o)}else pe=e,e=o;else pe=e,e=o;return ye--,e===o&&(o,0===ye&&Ce(E)),e}function Ne(){var t,r,n,i;if(t=pe,39===e.charCodeAt(pe)?(r="'",pe++):(r=o,0===ye&&Ce(D)),r!==o){if(n=[],(i=Ge())===o&&(j.test(e.charAt(pe))?(i=e.charAt(pe),pe++):(i=o,0===ye&&Ce(k))),i!==o)for(;i!==o;)n.push(i),(i=Ge())===o&&(j.test(e.charAt(pe))?(i=e.charAt(pe),pe++):(i=o,0===ye&&Ce(k)));else n=o;n!==o?(39===e.charCodeAt(pe)?(i="'",pe++):(i=o,0===ye&&Ce(D)),i!==o?t=r=[r,n,i]:(pe=t,t=o)):(pe=t,t=o)}else pe=t,t=o;if(t===o)if(t=[],(r=Ge())===o&&(R.test(e.charAt(pe))?(r=e.charAt(pe),pe++):(r=o,0===ye&&Ce(M))),r!==o)for(;r!==o;)t.push(r),(r=Ge())===o&&(R.test(e.charAt(pe))?(r=e.charAt(pe),pe++):(r=o,0===ye&&Ce(M)));else t=o;return t}function Le(){var t,r;if(t=[],N.test(e.charAt(pe))?(r=e.charAt(pe),pe++):(r=o,0===ye&&Ce(L)),r!==o)for(;r!==o;)t.push(r),N.test(e.charAt(pe))?(r=e.charAt(pe),pe++):(r=o,0===ye&&Ce(L));else t=o;return t}function Fe(){var t,r,n,i,a,s,u;return t=pe,We()!==o&&(r=Je())!==o&&We()!==o?(123===e.charCodeAt(pe)?(n="{",pe++):(n=o,0===ye&&Ce(g)),n!==o?(he=pe,Xe.push("select"),(!0?void 0:o)!==o&&(i=xe())!==o?(125===e.charCodeAt(pe)?(a="}",pe++):(a=o,0===ye&&Ce(m)),a!==o?(he=t,s=r,u=i,Xe.pop(),t=y({id:s,value:u},et())):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o),t}function Ue(){var t,r,n,i,a,s,u;return t=pe,We()!==o&&(r=function(){var t,r,n,i;return t=pe,r=pe,61===e.charCodeAt(pe)?(n="=",pe++):(n=o,0===ye&&Ce(G)),n!==o&&(i=qe())!==o?r=n=[n,i]:(pe=r,r=o),(t=r!==o?e.substring(t,pe):r)===o&&(t=Je()),t}())!==o&&We()!==o?(123===e.charCodeAt(pe)?(n="{",pe++):(n=o,0===ye&&Ce(g)),n!==o?(he=pe,Xe.push("plural"),(!0?void 0:o)!==o&&(i=xe())!==o?(125===e.charCodeAt(pe)?(a="}",pe++):(a=o,0===ye&&Ce(m)),a!==o?(he=t,s=r,u=i,Xe.pop(),t=y({id:s,value:u},et())):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o)):(pe=t,t=o),t}function Ve(){var t;return ye++,z.test(e.charAt(pe))?(t=e.charAt(pe),pe++):(t=o,0===ye&&Ce($)),ye--,t===o&&(o,0===ye&&Ce(H)),t}function Be(){var t;return ye++,Y.test(e.charAt(pe))?(t=e.charAt(pe),pe++):(t=o,0===ye&&Ce(J)),ye--,t===o&&(o,0===ye&&Ce(K)),t}function We(){var t,r,n;for(ye++,t=pe,r=[],n=Ve();n!==o;)r.push(n),n=Ve();return t=r!==o?e.substring(t,pe):r,ye--,t===o&&(r=o,0===ye&&Ce(X)),t}function qe(){var t,r,n,i,a;return ye++,t=pe,45===e.charCodeAt(pe)?(r="-",pe++):(r=o,0===ye&&Ce(Z)),r===o&&(r=null),r!==o&&(n=Ye())!==o?(he=t,i=r,t=r=(a=n)?i?-a:a:0):(pe=t,t=o),ye--,t===o&&(r=o,0===ye&&Ce(Q)),t}function Ge(){var t,r;return ye++,t=pe,"''"===e.substr(pe,2)?(r="''",pe+=2):(r=o,0===ye&&Ce(te)),r!==o&&(he=t,r="'"),ye--,(t=r)===o&&(r=o,0===ye&&Ce(ee)),t}function He(){var t,r,n,i,a,s;if(t=pe,39===e.charCodeAt(pe)?(r="'",pe++):(r=o,0===ye&&Ce(D)),r!==o)if((n=function(){var t,r,n,i;t=pe,r=pe,e.length>pe?(n=e.charAt(pe),pe++):(n=o,0===ye&&Ce(O));n!==o?(he=pe,(i=(i="<"===(a=n)||">"===a||"{"===a||"}"===a||Ze()&&"#"===a)?void 0:o)!==o?r=n=[n,i]:(pe=r,r=o)):(pe=r,r=o);var a;t=r!==o?e.substring(t,pe):r;return t}())!==o){for(i=pe,a=[],"''"===e.substr(pe,2)?(s="''",pe+=2):(s=o,0===ye&&Ce(te)),s===o&&(j.test(e.charAt(pe))?(s=e.charAt(pe),pe++):(s=o,0===ye&&Ce(k)));s!==o;)a.push(s),"''"===e.substr(pe,2)?(s="''",pe+=2):(s=o,0===ye&&Ce(te)),s===o&&(j.test(e.charAt(pe))?(s=e.charAt(pe),pe++):(s=o,0===ye&&Ce(k)));(i=a!==o?e.substring(i,pe):a)!==o?(39===e.charCodeAt(pe)?(a="'",pe++):(a=o,0===ye&&Ce(D)),a===o&&(a=null),a!==o?(he=t,t=r=n+i.replace("''","'")):(pe=t,t=o)):(pe=t,t=o)}else pe=t,t=o;else pe=t,t=o;return t}function ze(){var t,r,n,i,a;return t=pe,r=pe,e.length>pe?(n=e.charAt(pe),pe++):(n=o,0===ye&&Ce(O)),n!==o?(he=pe,(i=(i=!("<"===(a=n)||"{"===a||Ze()&&"#"===a||Qe()&&"}"===a||Qe()&&">"===a))?void 0:o)!==o?r=n=[n,i]:(pe=r,r=o)):(pe=r,r=o),r===o&&(10===e.charCodeAt(pe)?(r="\n",pe++):(r=o,0===ye&&Ce(re))),t=r!==o?e.substring(t,pe):r}function $e(){var t,r;return ye++,t=pe,(r=Ye())===o&&(r=Je()),t=r!==o?e.substring(t,pe):r,ye--,t===o&&(r=o,0===ye&&Ce(ne)),t}function Ke(){var t,r;return ye++,t=pe,(r=Ye())===o&&(r=function(){var t,r,n,i,a;ye++,t=pe,r=[],45===e.charCodeAt(pe)?(n="-",pe++):(n=o,0===ye&&Ce(Z));n===o&&(n=pe,i=pe,ye++,(a=Ve())===o&&(a=Be()),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o));if(n!==o)for(;n!==o;)r.push(n),45===e.charCodeAt(pe)?(n="-",pe++):(n=o,0===ye&&Ce(Z)),n===o&&(n=pe,i=pe,ye++,(a=Ve())===o&&(a=Be()),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o));else r=o;t=r!==o?e.substring(t,pe):r;ye--,t===o&&(r=o,0===ye&&Ce(de));return t}()),t=r!==o?e.substring(t,pe):r,ye--,t===o&&(r=o,0===ye&&Ce(oe)),t}function Ye(){var t,r,n,i,a;if(ye++,t=pe,48===e.charCodeAt(pe)?(r="0",pe++):(r=o,0===ye&&Ce(ae)),r!==o&&(he=t,r=0),(t=r)===o){if(t=pe,r=pe,se.test(e.charAt(pe))?(n=e.charAt(pe),pe++):(n=o,0===ye&&Ce(ue)),n!==o){for(i=[],ce.test(e.charAt(pe))?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(le));a!==o;)i.push(a),ce.test(e.charAt(pe))?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(le));i!==o?r=n=[n,i]:(pe=r,r=o)}else pe=r,r=o;r!==o&&(he=t,r=parseInt(r.join(""),10)),t=r}return ye--,t===o&&(r=o,0===ye&&Ce(ie)),t}function Je(){var t,r,n,i,a;if(ye++,t=pe,r=[],n=pe,i=pe,ye++,(a=Ve())===o&&(a=Be()),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o),n!==o)for(;n!==o;)r.push(n),n=pe,i=pe,ye++,(a=Ve())===o&&(a=Be()),ye--,a===o?i=void 0:(pe=i,i=o),i!==o?(e.length>pe?(a=e.charAt(pe),pe++):(a=o,0===ye&&Ce(O)),a!==o?n=i=[i,a]:(pe=n,n=o)):(pe=n,n=o);else r=o;return t=r!==o?e.substring(t,pe):r,ye--,t===o&&(r=o,0===ye&&Ce(fe)),t}var Xe=["root"];function Qe(){return Xe.length>1}function Ze(){return"plural"===Xe[Xe.length-1]}function et(){return t&&t.captureLocation?{location:we()}:{}}if((r=a())!==o&&pe===e.length)return r;throw r!==o&&pe<e.length&&Ce({type:"end"}),Ae(ve,me<e.length?e.charAt(me):null,me<e.length?Te(me,me+1):Te(me,me))},S=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},O=/(^|[^\\])#/g;function I(e,t){var r=w(e,t);return t&&!1===t.normalizeHashtagInPlural||function e(t){t.forEach((function(t){(f(t)||l(t))&&Object.keys(t.options).forEach((function(r){for(var n,o=t.options[r],a=-1,s=void 0,u=0;u<o.value.length;u++){var c=o.value[u];if(i(c)&&O.test(c.value)){a=u,s=c;break}}if(s){var l=s.value.replace(O,"$1{"+t.value+", number}"),f=w(l);(n=o.value).splice.apply(n,S([a,1],f))}e(o.value)}))}))}(r),r}var _=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};function E(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var r;return(r={})[e]=t[e],r}))):e;var t})))}var T=function(e,t){return void 0===t&&(t={}),function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=E(n),a=i&&t[i];return a||(a=new((r=e).bind.apply(r,_([void 0],n))),i&&(t[i]=a)),a}},C=function(){return(C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function P(e){var t={};return e.replace(A,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),t}var x=/^\.(?:(0+)(\+|#+)?)?$/g,D=/^(@+)?(\+|#+)?$/g;function j(e){var t={};return e.replace(D,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function k(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function R(e){var t=k(e);return t||{}}function M(e){for(var t={},r=0,n=e;r<n.length;r++){var o=n[r];switch(o.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=C(C(C({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return C(C({},e),R(t))}),{}));continue;case"engineering":t=C(C(C({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return C(C({},e),R(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(x.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(x,(function(e,r,n){return"."===e?t.maximumFractionDigits=0:"+"===n?t.minimumFractionDigits=n.length:"#"===r[0]?t.maximumFractionDigits=r.length:(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length+("string"==typeof n?n.length:0)),""})),o.options.length&&(t=C(C({},t),j(o.options[0])))}else if(D.test(o.stem))t=C(C({},t),j(o.stem));else{var i=k(o.stem);i&&(t=C(C({},t),i))}}return t}var N=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(e){function t(t,r){var n=e.call(this,t)||this;return n.code=r,n}return N(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),F=function(e){function t(t,r,n){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',1)||this}return N(t,e),t}(L),U=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',0)||this}return N(t,e),t}(L);function V(e){return"function"==typeof e}var B=function(){return(B=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function W(e,t){return t?Object.keys(e).reduce((function(r,n){var o,i;return r[n]=(o=e[n],(i=t[n])?B(B(B({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=B(B({},o[t]),i[t]||{}),e}),{})):o),r}),B({},e)):e}var q=function(){function e(t,r,n,o){var m,v=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=v.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&0===t.type&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return function e(t,r,n,o,m,v,y){if(1===t.length&&i(t[0]))return[{type:0,value:t[0].value}];for(var b=[],w=0,S=t;w<S.length;w++){var O=S[w];if(i(O))b.push({type:0,value:O.value});else if(d(O))"number"==typeof v&&b.push({type:0,value:n.getNumberFormat(r).format(v)});else{var I=O.value;if(!(m&&I in m))throw new U(I,y);var _=m[I];if(a(O))_&&"string"!=typeof _&&"number"!=typeof _||(_="string"==typeof _||"number"==typeof _?String(_):""),b.push({type:"string"==typeof _?0:1,value:_});else if(u(O)){var E="string"==typeof O.style?o.date[O.style]:void 0;b.push({type:0,value:n.getDateTimeFormat(r,E).format(_)})}else if(c(O)){E="string"==typeof O.style?o.time[O.style]:g(O.style)?P(O.style.pattern):void 0;b.push({type:0,value:n.getDateTimeFormat(r,E).format(_)})}else if(s(O)){E="string"==typeof O.style?o.number[O.style]:h(O.style)?M(O.style.tokens):void 0;b.push({type:0,value:n.getNumberFormat(r,E).format(_)})}else{if(p(O)){var T=O.children,C=O.value,A=m[C];if(!V(A))throw new TypeError('Value for "'+C+'" must be a function');var x=e(T,r,n,o,m),D=A.apply(void 0,x.map((function(e){return e.value})));Array.isArray(D)||(D=[D]),b.push.apply(b,D.map((function(e){return{type:"string"==typeof e?0:1,value:e}})))}if(l(O)){if(!(j=O.options[_]||O.options.other))throw new F(O.value,_,Object.keys(O.options));b.push.apply(b,e(j.value,r,n,o,m))}else if(f(O)){var j;if(!(j=O.options["="+_])){if(!Intl.PluralRules)throw new L('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',2);var k=n.getPluralRules(r,{type:O.pluralType}).select(_-(O.offset||0));j=O.options[k]||O.options.other}if(!j)throw new F(O.value,_,Object.keys(O.options));b.push.apply(b,e(j.value,r,n,o,m,_-(O.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&0===r.type&&0===t.type?r.value+=t.value:e.push(t),e}),[])}(b)}(v.ast,v.locales,v.formatters,v.formats,e,void 0,v.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(v.locales)[0]}},this.getAst=function(){return v.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=W(e.formats,n),this.locales=r,this.formatters=o&&o.formatters||(void 0===(m=this.formatterCache)&&(m={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:T(Intl.NumberFormat,m.number),getDateTimeFormat:T(Intl.DateTimeFormat,m.dateTime),getPluralRules:T(Intl.PluralRules,m.pluralRules)})}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=I,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function G(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}class H extends Error{constructor(e,t,r){super(`[React Intl Error ${e}] ${t} ${r?`\n${r.stack}`:""}`),this.code=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,H)}}function z(e,t,r={}){return t.reduce((t,n)=>(n in e?t[n]=e[n]:n in r&&(t[n]=r[n]),t),{})}function $(e){G(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}const K={formats:{},messages:{},timeZone:void 0,textComponent:o.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function Y(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function J(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}){const t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames;return{getDateTimeFormat:T(Intl.DateTimeFormat,e.dateTime),getNumberFormat:T(Intl.NumberFormat,e.number),getMessageFormat:T(q,e.message),getRelativeTimeFormat:T(t,e.relativeTime),getPluralRules:T(Intl.PluralRules,e.pluralRules),getListFormat:T(r,e.list),getDisplayNames:T(n,e.displayNames)}}function X(e,t,r,n){const o=e&&e[t];let i;if(o&&(i=o[r]),i)return i;n(new H("UNSUPPORTED_FORMATTER",`No ${t} format named: ${r}`))}var Q=r(30);const Z=r.n(Q).a||Q;const ee=o.createContext(null),{Consumer:te,Provider:re}=ee,ne=re,oe=ee;function ie(e,t){const{intlPropName:r="intl",forwardRef:n=!1,enforceContext:i=!0}=t||{},a=t=>o.createElement(te,null,a=>(i&&$(a),o.createElement(e,Object.assign({},t,{[r]:a},{ref:n?t.forwardedRef:null}))));var s;return a.displayName=`injectIntl(${s=e,s.displayName||s.name||"Component"})`,a.WrappedComponent=e,Z(n?o.forwardRef((e,t)=>o.createElement(a,Object.assign({},e,{forwardedRef:t}))):a,e)}var ae,se,ue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(ae||(ae={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(se||(se={}));const ce=e=>o.createElement(oe.Consumer,null,t=>{$(t);const{value:r,children:n}=e,o=ue(e,["value","children"]);return n(t.formatNumberToParts(r,o))});function le(e){const t=t=>o.createElement(oe.Consumer,null,r=>{$(r);const{value:n,children:o}=t,i=ue(t,["value","children"]),a="string"==typeof n?new Date(n||0):n;return o("formatDate"===e?r.formatDateToParts(a,i):r.formatTimeToParts(a,i))});return t.displayName=se[e],t}function fe(e){const t=t=>o.createElement(oe.Consumer,null,r=>{$(r);const{value:n,children:i}=t,a=ue(t,["value","children"]),s=r[e](n,a);if("function"==typeof i)return i(s);const u=r.textComponent||o.Fragment;return o.createElement(u,null,s)});return t.displayName=ae[e],t}function de(){const e=Object(o.useContext)(oe);return $(e),e}ce.displayName="FormattedNumberParts";const pe=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function he({locale:e,formats:t,onError:r},n,o={}){const{format:i}=o,a=i&&X(t,"number",i,r)||{};return n(e,z(o,pe,a))}function ge(e,t,r,n={}){try{return he(e,t,n).format(r)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting number.",t))}return String(r)}function me(e,t,r,n={}){try{return he(e,t,n).formatToParts(r)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting number.",t))}return[]}const ve=["numeric","style"];function ye(e,t,r,n,o={}){n||(n="second"),Intl.RelativeTimeFormat||e.onError(new L('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',2));try{return function({locale:e,formats:t,onError:r},n,o={}){const{format:i}=o,a=!!i&&X(t,"relative",i,r)||{};return n(e,z(o,ve,a))}(e,t,o).format(r,n)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting relative time.",t))}return String(r)}const be=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function we({locale:e,formats:t,onError:r,timeZone:n},o,i,a={}){const{format:s}=a,u=Object.assign(Object.assign({},n&&{timeZone:n}),s&&X(t,o,s,r));let c=z(a,be,u);return"time"!==o||c.hour||c.minute||c.second||(c=Object.assign(Object.assign({},c),{hour:"numeric",minute:"numeric"})),i(e,c)}function Se(e,t,r,n={}){const o="string"==typeof r?new Date(r||0):r;try{return we(e,"date",t,n).format(o)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting date.",t))}return String(o)}function Oe(e,t,r,n={}){const o="string"==typeof r?new Date(r||0):r;try{return we(e,"time",t,n).format(o)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting time.",t))}return String(o)}function Ie(e,t,r,n={}){const o="string"==typeof r?new Date(r||0):r;try{return we(e,"date",t,n).formatToParts(o)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting date.",t))}return[]}function _e(e,t,r,n={}){const o="string"==typeof r?new Date(r||0):r;try{return we(e,"time",t,n).formatToParts(o)}catch(t){e.onError(new H("FORMAT_ERROR","Error formatting time.",t))}return[]}const Ee=["localeMatcher","type"];function Te({locale:e,onError:t},r,n,o={}){Intl.PluralRules||t(new L('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',2));const i=z(o,Ee);try{return r(e,i).select(n)}catch(e){t(new H("FORMAT_ERROR","Error formatting plural.",e))}return"other"}function Ce(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=Object.assign({timeZone:t},e[n]),r),{})}function Ae(e,t){return Object.keys(Object.assign(Object.assign({},e),t)).reduce((r,n)=>(r[n]=Object.assign(Object.assign({},e[n]||{}),t[n]||{}),r),{})}function Pe(e,t){if(!t)return e;const r=q.formats;return Object.assign(Object.assign(Object.assign({},r),e),{date:Ae(Ce(r.date,t),Ce(e.date||{},t)),time:Ae(Ce(r.time,t),Ce(e.time||{},t))})}function xe({locale:e,formats:t,messages:r,defaultLocale:n,defaultFormats:i,onError:a,timeZone:s},u,c={id:""},l={}){const{id:f,defaultMessage:d}=c;G(!!f,"[React Intl] An `id` must be provided to format a message.");const p=r&&r[String(f)];t=Pe(t,s),i=Pe(i,s);let h="";if(p)try{h=u.getMessageFormat(p,e,t,{formatters:u}).format(l)}catch(t){a(new H("FORMAT_ERROR",`Error formatting message: "${f}" for locale: "${e}"`+(d?", using default message as fallback.":""),t))}else(!d||e&&e.toLowerCase()!==n.toLowerCase())&&a(new H("MISSING_TRANSLATION",`Missing message: "${f}" for locale: "${e}"`+(d?", using default message as fallback.":"")));if(!h&&d)try{h=u.getMessageFormat(d,n,i).format(l)}catch(e){a(new H("FORMAT_ERROR",`Error formatting the default message for: "${f}"`,e))}return h?Array.isArray(h)?(g=h,o.createElement(o.Fragment,null,...g)):h:(a(new H("FORMAT_ERROR",`Cannot format message: "${f}", `+`using message ${p||d?"source":"id"} as fallback.`)),"string"==typeof p?p||d||String(f):d||String(f));var g}var De=r(42),je=r.n(De);const ke=["localeMatcher","type","style"],Re=Date.now();function Me({locale:e,onError:t},r,n,o={}){Intl.ListFormat||t(new L('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',2));const i=z(o,ke);try{const t={},o=n.map((e,r)=>{if("object"==typeof e){const n=function(e){return`${Re}_${e}_${Re}`}(r);return t[n]=e,n}return String(e)});return Object.keys(t).length?r(e,i).formatToParts(o).reduce((e,r)=>{const n=r.value;return t[n]?e.push(t[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e},[]):r(e,i).format(o)}catch(e){t(new H("FORMAT_ERROR","Error formatting list.",e))}return n}const Ne=["localeMatcher","style","type","fallback"];function Le({locale:e,onError:t},r,n,o={}){Intl.DisplayNames||t(new L('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',2));const i=z(o,Ne);try{return r(e,i).of(n)}catch(e){t(new H("FORMAT_ERROR","Error formatting display name.",e))}}const Fe=je.a||De;function Ue(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError}}function Ve(e,t){const r=J(t),n=Object.assign(Object.assign({},K),e),{locale:o,defaultLocale:i,onError:a}=n;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&a?a(new H("MISSING_DATA",`Missing locale data for locale: "${o}" in Intl.NumberFormat. Using default locale: "${i}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details`)):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&a&&a(new H("MISSING_DATA",`Missing locale data for locale: "${o}" in Intl.DateTimeFormat. Using default locale: "${i}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details`)):(a&&a(new H("INVALID_CONFIG",`"locale" was not configured, using "${i}" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/API.md#intlshape for more details`)),n.locale=n.defaultLocale||"en"),Object.assign(Object.assign({},n),{formatters:r,formatNumber:ge.bind(null,n,r.getNumberFormat),formatNumberToParts:me.bind(null,n,r.getNumberFormat),formatRelativeTime:ye.bind(null,n,r.getRelativeTimeFormat),formatDate:Se.bind(null,n,r.getDateTimeFormat),formatDateToParts:Ie.bind(null,n,r.getDateTimeFormat),formatTime:Oe.bind(null,n,r.getDateTimeFormat),formatTimeToParts:_e.bind(null,n,r.getDateTimeFormat),formatPlural:Te.bind(null,n,r.getPluralRules),formatMessage:xe.bind(null,n,r),formatList:Me.bind(null,n,r.getListFormat),formatDisplayName:Le.bind(null,n,r.getDisplayNames)})}class Be extends o.PureComponent{constructor(){super(...arguments),this.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},this.state={cache:this.cache,intl:Ve(Ue(this.props),this.cache),prevConfig:Ue(this.props)}}static getDerivedStateFromProps(e,{prevConfig:t,cache:r}){const n=Ue(e);return Fe(t,n)?null:{intl:Ve(n,r),prevConfig:n}}render(){return $(this.state.intl),o.createElement(ne,{value:this.state.intl},this.props.children)}}Be.displayName="IntlProvider",Be.defaultProps=K;function We(e){const t=Math.abs(e);return t<60?"second":t<3600?"minute":t<86400?"hour":"day"}function qe(e){switch(e){case"second":return 1;case"minute":return 60;case"hour":return 3600;default:return 86400}}function Ge(e,t){if(!e)return 0;switch(t){case"second":return e;case"minute":return 60*e;default:return 3600*e}}const He=["second","minute","hour"];function ze(e="second"){return He.includes(e)}class $e extends o.PureComponent{constructor(e){super(e),this._updateTimer=null,this.state={prevUnit:this.props.unit,prevValue:this.props.value,currentValueInSeconds:ze(this.props.unit)?Ge(this.props.value,this.props.unit):0},G(!e.updateIntervalInSeconds||!(!e.updateIntervalInSeconds||!ze(e.unit)),"Cannot schedule update with unit longer than hour")}scheduleNextUpdate({updateIntervalInSeconds:e,unit:t},{currentValueInSeconds:r}){if(clearTimeout(this._updateTimer),this._updateTimer=null,!e||!ze(t))return;const n=r-e,o=We(n);if("day"===o)return;const i=qe(o),a=n-n%i,s=a>=r?a-i:a,u=Math.abs(s-r);this._updateTimer=setTimeout(()=>this.setState({currentValueInSeconds:s}),1e3*u)}componentDidMount(){this.scheduleNextUpdate(this.props,this.state)}componentDidUpdate(){this.scheduleNextUpdate(this.props,this.state)}componentWillUnmount(){clearTimeout(this._updateTimer),this._updateTimer=null}static getDerivedStateFromProps(e,t){return e.unit!==t.prevUnit||e.value!==t.prevValue?{prevValue:e.value,prevUnit:e.unit,currentValueInSeconds:ze(e.unit)?Ge(e.value,e.unit):0}:null}render(){return o.createElement(oe.Consumer,null,e=>{$(e);const{formatRelativeTime:t,textComponent:r}=e,{children:n,value:i,unit:a,updateIntervalInSeconds:s}=this.props,{currentValueInSeconds:u}=this.state;let c=i||0,l=a;if(ze(a)&&"number"==typeof u&&s){l=We(u);const e=qe(l);c=Math.round(u/e)}const f=t(c,l,Object.assign({},this.props));return"function"==typeof n?n(f):r?o.createElement(r,null,f):f})}}$e.displayName="FormattedRelativeTime",$e.defaultProps={value:0,unit:"second"};var Ke=$e;const Ye=e=>{const{value:t,other:r,children:n,intl:{formatPlural:i,textComponent:a}}=e,s=e[i(t,e)]||r;return"function"==typeof n?n(s):a?o.createElement(a,null,s):s};Ye.defaultProps={type:"cardinal"},Ye.displayName="FormattedPlural";var Je=ie(Ye),Xe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Qe=je.a||De;function Ze(e,t){return xe(Object.assign(Object.assign({},K),{locale:"en"}),J(),e,t)}class et extends o.Component{shouldComponentUpdate(e){const t=this.props,{values:r}=t,n=Xe(t,["values"]),{values:o}=e,i=Xe(e,["values"]);return!Qe(o,r)||!Qe(n,i)}render(){return o.createElement(oe.Consumer,null,e=>{this.props.defaultMessage||$(e);const{formatMessage:t=Ze,textComponent:r=o.Fragment}=e||{},{id:n,description:i,defaultMessage:a,values:s,children:u,tagName:c=r}=this.props;let l=t({id:n,description:i,defaultMessage:a},s);return Array.isArray(l)||(l=[l]),"function"==typeof u?u(...l):c?o.createElement(c,null,...l):l})}}et.displayName="FormattedMessage",et.defaultProps={values:{}};var tt=et;function rt(e){return e}const nt=fe("formatDate"),ot=fe("formatTime"),it=fe("formatNumber"),at=fe("formatList"),st=fe("formatDisplayName"),ut=le("formatDate"),ct=le("formatTime")},function(e,t,r){"use strict";r.r(t),r.d(t,"Provider",(function(){return l})),r.d(t,"connectAdvanced",(function(){return _})),r.d(t,"ReactReduxContext",(function(){return i})),r.d(t,"connect",(function(){return B})),r.d(t,"batch",(function(){return X.unstable_batchedUpdates})),r.d(t,"useDispatch",(function(){return z})),r.d(t,"createDispatchHook",(function(){return H})),r.d(t,"useSelector",(function(){return J})),r.d(t,"createSelectorHook",(function(){return K})),r.d(t,"useStore",(function(){return G})),r.d(t,"createStoreHook",(function(){return q})),r.d(t,"shallowEqual",(function(){return T}));var n=r(0),o=r.n(n),i=(r(8),o.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function u(){var e=a,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,r=e.context,a=e.children,s=Object(n.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(n.useMemo)((function(){return t.getState()}),[t]);Object(n.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var l=r||i;return o.a.createElement(l.Provider,{value:s},a)};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var p=r(30),h=r.n(p),g=r(84),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,v=[],y=[null,null];function b(e,t){var r=e[1];return[t.payload,r+1]}function w(e,t,r){m((function(){return e.apply(void 0,t)}),r)}function S(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function O(e,t,r,n,o,i,a,s,u,c){if(e){var l=!1,f=null,d=function(){if(!l){var e,r,d=t.getState();try{e=n(d,o.current)}catch(e){r=e,f=e}r||(f=null),e===i.current?a.current||u():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=d,r.trySubscribe(),d();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}}var I=function(){return[null,0]};function _(e,t){void 0===t&&(t={});var r=t,a=r.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=r.methodName,l=void 0===u?"connectAdvanced":u,p=r.renderCountProp,m=void 0===p?void 0:p,_=r.shouldHandleStateChanges,E=void 0===_||_,T=r.storeKey,C=void 0===T?"store":T,A=(r.withRef,r.forwardRef),P=void 0!==A&&A,x=r.context,D=void 0===x?i:x,j=d(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),k=D;return function(t){var r=t.displayName||t.name||"Component",i=s(r),a=f({},j,{getDisplayName:s,methodName:l,renderCountProp:m,shouldHandleStateChanges:E,storeKey:C,displayName:i,wrappedComponentName:r,WrappedComponent:t}),u=j.pure;var p=u?n.useMemo:function(e){return e()};function _(r){var i=Object(n.useMemo)((function(){var e=r.forwardedRef,t=d(r,["forwardedRef"]);return[r.context,e,t]}),[r]),s=i[0],u=i[1],l=i[2],h=Object(n.useMemo)((function(){return s&&s.Consumer&&Object(g.isContextConsumer)(o.a.createElement(s.Consumer,null))?s:k}),[s,k]),m=Object(n.useContext)(h),_=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(m)&&Boolean(m.store);var T=_?r.store:m.store,C=Object(n.useMemo)((function(){return function(t){return e(t.dispatch,a)}(T)}),[T]),A=Object(n.useMemo)((function(){if(!E)return y;var e=new c(T,_?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,_,m]),P=A[0],x=A[1],D=Object(n.useMemo)((function(){return _?m:f({},m,{subscription:P})}),[_,m,P]),j=Object(n.useReducer)(b,v,I),R=j[0][0],M=j[1];if(R&&R.error)throw R.error;var N=Object(n.useRef)(),L=Object(n.useRef)(l),F=Object(n.useRef)(),U=Object(n.useRef)(!1),V=p((function(){return F.current&&l===L.current?F.current:C(T.getState(),l)}),[T,R,l]);w(S,[L,N,U,l,V,F,x]),w(O,[E,T,P,C,L,N,U,F,x,M],[T,P,C]);var B=Object(n.useMemo)((function(){return o.a.createElement(t,f({},V,{ref:u}))}),[u,t,V]);return Object(n.useMemo)((function(){return E?o.a.createElement(h.Provider,{value:D},B):B}),[h,B,D])}var T=u?o.a.memo(_):_;if(T.WrappedComponent=t,T.displayName=i,P){var A=o.a.forwardRef((function(e,t){return o.a.createElement(T,f({},e,{forwardedRef:t}))}));return A.displayName=i,A.WrappedComponent=t,h()(A,t)}return h()(T,t)}}function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!E(e[r[o]],t[r[o]]))return!1;return!0}var C=r(85);function A(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function x(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=P(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=P(o),o=n(t,r)),o},n}}var D=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?A((function(t){return Object(C.bindActionCreators)(e,t)})):void 0}];var j=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function k(e,t,r){return f({},r,{},e,{},t)}var R=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?o&&i(u,n)||(n=u):(a=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return k}}];function M(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function N(e,t,r,n,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h,g,m=!f(p,a),v=!l(o,i);return i=o,a=p,m&&v?(s=e(i,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):v?(h=e(i,a),g=!d(h,s),s=h,g&&(c=r(s,u,a)),c):c}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),u=t(n,a),c=r(s,u,a),p=!0,c)}}function L(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),u=o(e,i);return(i.pure?N:M)(a,s,u,e,i)}function F(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function U(e,t){return e===t}function V(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?_:r,o=t.mapStateToPropsFactories,i=void 0===o?j:o,a=t.mapDispatchToPropsFactories,s=void 0===a?D:a,u=t.mergePropsFactories,c=void 0===u?R:u,l=t.selectorFactory,p=void 0===l?L:l;return function(e,t,r,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,h=a.areStatesEqual,g=void 0===h?U:h,m=a.areOwnPropsEqual,v=void 0===m?T:m,y=a.areStatePropsEqual,b=void 0===y?T:y,w=a.areMergedPropsEqual,S=void 0===w?T:w,O=d(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=F(e,i,"mapStateToProps"),_=F(t,s,"mapDispatchToProps"),E=F(r,c,"mergeProps");return n(p,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:_,initMergeProps:E,pure:l,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:S},O))}}var B=V();function W(){return Object(n.useContext)(i)}function q(e){void 0===e&&(e=i);var t=e===i?W:function(){return Object(n.useContext)(e)};return function(){return t().store}}var G=q();function H(e){void 0===e&&(e=i);var t=e===i?G:q(e);return function(){return t().dispatch}}var z=H(),$=function(e,t){return e===t};function K(e){void 0===e&&(e=i);var t=e===i?W:function(){return Object(n.useContext)(e)};return function(e,r){void 0===r&&(r=$);var o=t();return function(e,t,r,o){var i,a=Object(n.useReducer)((function(e){return e+1}),0)[1],s=Object(n.useMemo)((function(){return new c(r,o)}),[r,o]),u=Object(n.useRef)(),l=Object(n.useRef)(),f=Object(n.useRef)();try{i=e!==l.current||u.current?e(r.getState()):f.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return m((function(){l.current=e,f.current=i,u.current=void 0})),m((function(){function e(){try{var e=l.current(r.getState());if(t(e,f.current))return;f.current=e}catch(e){u.current=e}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),i}(e,r,o.store,o.subscription)}}var Y,J=K(),X=r(46);Y=X.unstable_batchedUpdates,a=Y},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(25);function o(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(e){var t=Object(n.a)(e);return Object.keys(t).map((function(e){return o(e,t[e])})).join("&")}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("string"!=typeof e)throw new i.default(3);var t=(0,o.default)(e);if(t.match(s))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(u)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(c))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(l)){var a=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:a}}var g=f.exec(t);if(g)return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10)};var m=d.exec(t);if(m)return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+m[4])};var v=p.exec(t);if(v){var y=parseInt(""+v[1],10),b=parseInt(""+v[2],10)/100,w=parseInt(""+v[3],10)/100,S="rgb("+(0,n.default)(y,b,w)+")",O=f.exec(S);if(!O)throw new i.default(4,t,S);return{red:parseInt(""+O[1],10),green:parseInt(""+O[2],10),blue:parseInt(""+O[3],10)}}var I=h.exec(t);if(I){var _=parseInt(""+I[1],10),E=parseInt(""+I[2],10)/100,T=parseInt(""+I[3],10)/100,C="rgb("+(0,n.default)(_,E,T)+")",A=f.exec(C);if(!A)throw new i.default(4,t,C);return{red:parseInt(""+A[1],10),green:parseInt(""+A[2],10),blue:parseInt(""+A[3],10),alpha:parseFloat(""+I[4])}}throw new i.default(5)};var n=a(r(70)),o=a(r(156)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}var s=/^#[a-fA-F0-9]{6}$/,u=/^#[a-fA-F0-9]{8}$/,c=/^#[a-fA-F0-9]{3}$/,l=/^#[a-fA-F0-9]{4}$/,f=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,p=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,h=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(9);function i(e,t,r){var n,o=0,i=(r=r.replace("(","").replace(")","")).lastIndexOf(" "),a=r.substr(i+1);return/^\d+$/.test(a)?(o=Math.max(parseInt(a),o),n=r.substr(0,i)):n=r,e[t+"s"]?(Object.keys(e[t+"s"]).filter((function(r){var o=e[t+"s"][r].label;return o&&new RegExp("^"+n).test(o)})).forEach((function(r){var i=e[t+"s"][r].label,a=i.substring((n+" ").length,i.length);/^\d+$/.test(a)&&(o=Math.max(o,parseInt(a)))})),n+" "+(o+1)):r+" "+(o+1)}t.getWidgetContext=function(e){var t={};return/^http(s)?:\/\//.test(e)||/^\/\//.test(e)?(t.isRemote=!0,t.folderUrl=e):(t.isRemote=!1,t.folderUrl=window.location.protocol+"//"+window.location.host+n.getFixedRootPath()+e),t},t.addWidgetManifestProperties=function(e){var t=o(e).asMutable({deep:!0});return void 0===e.properties&&(t.properties={}),["hasVersionManager","supportInlineEditing","supportRepeat","hasBuilderSupportModule","hasEmbeddedLayout","lockChildren","flipIcon","coverLayoutBackground","canCrossLayoutBoundary","needActiveState"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!1)})),["hasMainClass","hasConfig","hasSettingPage","autoBindDataSource","hasConfigInSettingPage","passDataSourceToChildren","deactivateOtherWidgets"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!0)})),t},t.addWidgetDefaultLabelAndIcon=function(e,t){t.icon=t.icon?t.icon:t.context.folderUrl+"icon.svg",t.label=t.label?t.label:i(e,"widget",t.manifest.i18nMessages._widgetLabel||t.manifest.label||t.manifest.name)},t.addLayoutLabel=function(e){e.widgets&&Object.keys(e.widgets).forEach((function(t){var r=e.widgets[t];r.layouts&&Object.keys(r.layouts).forEach((function(t){Object.keys(r.layouts[t]).forEach((function(n){var o,i=r.layouts[t][n];if(e.layouts[i]&&!e.layouts[i].label){var a=null===(o=r.manifest.layouts)||void 0===o?void 0:o.find((function(e){return e.name===t}));e.layouts[i].label=r.manifest.i18nMessages["_layout_"+t+"_label"]||(null==a?void 0:a.label)||(null==a?void 0:a.name)}}))}))}))},t.getUniqueId=function(e,t){var r=0;return e[t+"s"]?(Object.keys(e[t+"s"]).forEach((function(e){var n=e.substring((t+"_").length,e.length);/^\d+$/.test(n)&&(r=Math.max(r,parseInt(n)))})),t+"_"+(r+1)):t+"_"+(r+1)},t.getUniqueLabel=i,t.getAllWidgets=function(e){var t=[];return Object.keys(e.widgets).forEach((function(r){t.push(e.widgets[r])})),t},t.getWidgetMessageActionJsons=function(e,t,r){var n=[];return e.messageConfigs&&Object.entries(e.messageConfigs).forEach((function(e){e[0];var o=e[1];n=n.concat(o.actions&&o.actions.filter((function(e){return e.widgetId===t&&e.actionName===r})))})),n},t.isTwoViewsInSaveSection=function(e,t,r){return e.sections&&Object.keys(e.sections).some((function(n){var o=e.sections[n].views;return(null==o?void 0:o.indexOf(t))>-1&&(null==o?void 0:o.indexOf(r))>-1}))},t.fixLayoutIds=function(e){(null==e?void 0:e.layouts)&&Object.keys(e.layouts).forEach((function(t){var r=e.layouts[t];return r.content&&Object.keys(r.content).forEach((function(e){isNaN(parseInt(e))?console.error("Layout item MUST be integer string"):r.content[e].id=e})),r.id=t,r}))},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(176))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(36),i=r(3);function a(e,t){if(void 0===t&&(t=[]),e)return c(e,t)}function s(e,t){return e.split("-")[0]===t.split("-")[0]}t.getLocaleToLoad=function(e,t){var r=a(e=e.toLowerCase(),t);return r?r===(t&&t[0])?void 0:r:void 0},t.getBrowserLanguage=function(e){if(e){var t,r,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(e.languages)&&e.languages.length>0&&(r=e.languages[0])&&r.length)return r;for(t=0;t<n.length;t++)if((r=e[n[t]])&&r.length)return r}},t.getTranslatedLocale=a,t.isSameLanguage=s,t.loadLocaleMessages=function(e,t){return n.loadModule(e+"/"+t)},t.isRTLLocale=function(e){for(var t=!1,r=["ar","he"],n=0;n<r.length;n++)s(r[n],e)&&(t=!0);return t};var u={};function c(e,t){var r;if(void 0===t&&(t=[]),e=e.toLowerCase(),t.indexOf(e)>-1)r=e;else{var n=e.split("-")[0];if(t.indexOf(n)>-1)r=n;else{var o=t.find((function(t){return t.split("-")[0]===e}));o&&(r=o)}}return r}t.getIntl=function(e,t){var r,n,a,s,c,l,f,d;void 0===e&&(e="_jimu"),void 0===t&&(t="runtime");var p=e+"-"+t;if(u[p])return u[p];var h,g=o.createIntlCache(),m=i.getAppStore().getState();if(!m)return null;if("_jimu"===e)h=o.createIntl({locale:m.appContext.locale,defaultLocale:m.appContext.locale,messages:m.appI18nMessages},g);else if("runtime"===t){var v=window.jimuConfig.isBuilder?null===(r=m.appStateInBuilder)||void 0===r?void 0:r.appConfig:m.appConfig,y=null===(a=null===(n=null==v?void 0:v.widgets)||void 0===n?void 0:n[e])||void 0===a?void 0:a.manifest.i18nMessages,b=Object.assign({},y,m.appI18nMessages);h=o.createIntl({locale:m.appContext.locale,defaultLocale:m.appContext.locale,messages:b},g)}else{var w=void 0;if(window.jimuConfig.isBuilder){var S=null===(f=null===(l=null===(c=null===(s=m.appStateInBuilder)||void 0===s?void 0:s.appConfig)||void 0===c?void 0:c.widgets)||void 0===l?void 0:l[e])||void 0===f?void 0:f.manifest.name;w=null===(d=m.builder.widgetSettingI18nMessages)||void 0===d?void 0:d[S]}else w={};b=Object.assign({},w,m.appI18nMessages);h=o.createIntl({locale:m.appContext.locale,defaultLocale:m.appContext.locale,messages:b},g)}return u[p]=h,h},t.getDecimalSeparator=function(e){return c(e,["ar","en","he","ja","ko","es-mx","th","zh","it-ch","de-ch"])?".":","},t.findLocale=c},function(e,t,r){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(var i=0;i<o;i++){var a=r[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},function(e,t,r){"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(217),i=r(58),a=r(218),s=r(219),u=r(220),c=r(221),l=r(222),f=r(13);t.getEffect=function(e,t){switch(e){case f.AnimationType.FadeIn:return new o.FadeInEffect(t);case f.AnimationType.FadeOut:return new i.FadeOutEffect(t);case f.AnimationType.FlyIn:return new a.FlyInEffect(t);case f.AnimationType.ZoomIn:return new s.ZoomInEffect(t);case f.AnimationType.WipeIn:return new u.WipeInEffect(t);case f.AnimationType.SpinIn:return new c.SpinInEffect(t);case f.AnimationType.FloatIn:return new l.FloatInEffect(t);default:return null}},t.interpolateTransform=function(e,t,r){if(null!=(null==e?void 0:e.offsetX)){var o=e.offsetX,i=e.offsetY,a=e.rotateX,s=e.rotateY,u=e.rotateZ,c=e.scaleX,l=e.scaleY;return n.interpolate([o,i,a,s,u,c,l],(function(e,n,o,i,a,s,u){var c=Math.max(o,i,a);return"translate3d(calc("+t+" + "+e+"px), calc("+r+" + "+n+"px), 0)\n        rotate3d("+(0!==c?o/c:0)+", "+(0!==c?i/c:0)+", "+(0!==c?a/c:0)+", "+c+"deg)\n        scale("+s+", "+u+")"}))}return null},t.interpolateClippath=function(e){if(null==e?void 0:e.clipTop){var t=e.clipTop,r=e.clipBottom,o=e.clipLeft,i=e.clipRight;return n.interpolate([t,r,o,i],(function(e,t,r,n){return 0!==e||0!==t||0!==r||0!==n?"inset("+e+"% "+n+"% "+t+"% "+r+"%)":null}))}return null},t.isVisible=function(e){if(e){var t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;return t.top<r}return!1}},,function(e,r){e.exports=t},function(e,t,r){"use strict";const n=r(149),o=r(150),i=r(151);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===r?r:u(r,e);n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,a]=i(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:"comma"===t.arrayFormat?a:u(a,t),r(u(e,t),a,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=f(r[e],t);else n[e]=f(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=l,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n?r:null===n?[...r,[s(t,e),"[",o,"]"].join("")]:[...r,[s(t,e),"[",s(o,e),"]=",s(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n?r:null===n?[...r,[s(t,e),"[]"].join("")]:[...r,[s(t,e),"[]=",s(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[s(t,e),"=",s(n,e)].join("")]:[[r,s(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n?r:null===n?[...r,s(t,e)]:[...r,[s(t,e),"=",s(n,e)].join("")]}}(t),n=Object.assign({},e);if(t.skipNull)for(const e of Object.keys(n))void 0!==n[e]&&null!==n[e]||delete n[e];const o=Object.keys(n);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const o=e[n];return void 0===o?"":null===o?s(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):s(n,t)+"="+s(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:c(e).split("?")[0]||"",query:d(l(e),t)}),t.stringifyUrl=(e,r)=>{const n=c(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o),a=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url),s=Object.assign(i,e.query);let u=t.stringify(s,r);return u&&(u=`?${u}`),`${n}${u}${a}`}},function(e,t,r){(function(e,r){var n="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[n]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof r&&r&&!r.nodeType&&r,g=h&&h.exports===p,m=g&&l.process,v=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),y=v&&v.isTypedArray;function b(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function S(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var O,I,_,E=Array.prototype,T=Function.prototype,C=Object.prototype,A=d["__core-js_shared__"],P=T.toString,x=C.hasOwnProperty,D=(O=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",j=C.toString,k=RegExp("^"+P.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g?d.Buffer:void 0,M=d.Symbol,N=d.Uint8Array,L=C.propertyIsEnumerable,F=E.splice,U=M?M.toStringTag:void 0,V=Object.getOwnPropertySymbols,B=R?R.isBuffer:void 0,W=(I=Object.keys,_=Object,function(e){return I(_(e))}),q=ve(d,"DataView"),G=ve(d,"Map"),H=ve(d,"Promise"),z=ve(d,"Set"),$=ve(d,"WeakMap"),K=ve(Object,"create"),Y=Se(q),J=Se(G),X=Se(H),Q=Se(z),Z=Se($),ee=M?M.prototype:void 0,te=ee?ee.valueOf:void 0;function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new oe;++t<r;)this.add(e[t])}function ae(e){var t=this.__data__=new ne(e);this.size=t.size}function se(e,t){var r=_e(e),n=!r&&Ie(e),o=!r&&!n&&Ee(e),i=!r&&!n&&!o&&xe(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!x.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,u))||s.push(c);return s}function ue(e,t){for(var r=e.length;r--;)if(Oe(e[r][0],t))return r;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=x.call(e,U),r=e[U];try{e[U]=void 0;var n=!0}catch(e){}var o=j.call(e);n&&(t?e[U]=r:delete e[U]);return o}(e):function(e){return j.call(e)}(e)}function le(e){return Pe(e)&&ce(e)==n}function fe(e,t,r,s,u){return e===t||(null==e||null==t||!Pe(e)&&!Pe(t)?e!=e&&t!=t:function(e,t,r,s,u,c){var l=_e(e),f=_e(t),d=l?"[object Array]":be(e),p=f?"[object Array]":be(t),h=(d=d==n?i:d)==i,g=(p=p==n?i:p)==i,m=d==p;if(m&&Ee(e)){if(!Ee(t))return!1;l=!0,h=!1}if(m&&!h)return c||(c=new ae),l||xe(e)?he(e,t,r,s,u,c):function(e,t,r,n,i,s,u){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new N(e),new N(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=w;case a:var l=1&n;if(c||(c=S),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;n|=2,u.set(e,t);var d=he(c(e),c(t),n,i,s,u);return u.delete(e),d;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,d,r,s,u,c);if(!(1&r)){var v=h&&x.call(e,"__wrapped__"),y=g&&x.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,O=y?t.value():t;return c||(c=new ae),u(b,O,r,s,c)}}if(!m)return!1;return c||(c=new ae),function(e,t,r,n,o,i){var a=1&r,s=ge(e),u=s.length,c=ge(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:x.call(t,f)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);var h=a;for(;++l<u;){f=s[l];var g=e[f],m=t[f];if(n)var v=a?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(!(void 0===v?g===m||o(g,m,r,n,i):v)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,r,s,u,c)}(e,t,r,s,fe,u))}function de(e){return!(!Ae(e)||function(e){return!!D&&D in e}(e))&&(Te(e)?k:s).test(Se(e))}function pe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||C,t!==n)return W(e);var t,r,n,o=[];for(var i in Object(e))x.call(e,i)&&"constructor"!=i&&o.push(i);return o}function he(e,t,r,n,o,i){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,d=2&r?new ie:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var p=e[l],h=t[l];if(n)var g=a?n(h,p,l,t,e,i):n(p,h,l,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!b(t,(function(e,t){if(a=t,!d.has(a)&&(p===e||o(p,e,r,n,i)))return d.push(t);var a}))){f=!1;break}}else if(p!==h&&!o(p,h,r,n,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function ge(e){return function(e,t,r){var n=t(e);return _e(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,De,ye)}function me(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return de(r)?r:void 0}re.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return x.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:x.call(t,e)},re.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this},ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,r=ue(t,e);return!(r<0)&&(r==t.length-1?t.pop():F.call(t,r,1),--this.size,!0)},ne.prototype.get=function(e){var t=this.__data__,r=ue(t,e);return r<0?void 0:t[r][1]},ne.prototype.has=function(e){return ue(this.__data__,e)>-1},ne.prototype.set=function(e,t){var r=this.__data__,n=ue(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(G||ne),string:new re}},oe.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return me(this,e).get(e)},oe.prototype.has=function(e){return me(this,e).has(e)},oe.prototype.set=function(e,t){var r=me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new ne,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new oe(n)}return r.set(e,t),this.size=r.size,this};var ye=V?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(V(e),(function(t){return L.call(e,t)})))}:function(){return[]},be=ce;function we(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Se(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Oe(e,t){return e===t||e!=e&&t!=t}(q&&"[object DataView]"!=be(new q(new ArrayBuffer(1)))||G&&be(new G)!=o||H&&"[object Promise]"!=be(H.resolve())||z&&be(new z)!=a||$&&"[object WeakMap]"!=be(new $))&&(be=function(e){var t=ce(e),r=t==i?e.constructor:void 0,n=r?Se(r):"";if(n)switch(n){case Y:return"[object DataView]";case J:return o;case X:return"[object Promise]";case Q:return a;case Z:return"[object WeakMap]"}return t});var Ie=le(function(){return arguments}())?le:function(e){return Pe(e)&&x.call(e,"callee")&&!L.call(e,"callee")},_e=Array.isArray;var Ee=B||function(){return!1};function Te(e){if(!Ae(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ae(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pe(e){return null!=e&&"object"==typeof e}var xe=y?function(e){return function(t){return e(t)}}(y):function(e){return Pe(e)&&Ce(e.length)&&!!c[ce(e)]};function De(e){return null!=(t=e)&&Ce(t.length)&&!Te(t)?se(e):pe(e);var t}r.exports=function(e,t){return fe(e,t)}}).call(this,r(28),r(174)(e))},function(e,t,r){(function(t){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/,o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")();var f,d=Array.prototype,p=Function.prototype,h=Object.prototype,g=l["__core-js_shared__"],m=(f=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",v=p.toString,y=h.hasOwnProperty,b=h.toString,w=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=l.Symbol,O=d.splice,I=R(l,"Map"),_=R(Object,"create"),E=S?S.prototype:void 0,T=E?E.toString:void 0;function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function D(e,t){for(var o,i=0,a=(t=function(e,t){if(F(e))return!1;var o=typeof e;if("number"==o||"symbol"==o||"boolean"==o||null==e||V(e))return!0;return n.test(e)||!r.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:F(o=t)?o:M(o)).length;null!=e&&i<a;)e=e[N(t[i++])];return i&&i==a?e:void 0}function j(e){return!(!U(e)||(t=e,m&&m in t))&&(function(e){var t=U(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:s).test(function(e){if(null!=e){try{return v.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function k(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function R(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return j(r)?r:void 0}C.prototype.clear=function(){this.__data__=_?_(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(_){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return y.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:y.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?"__lodash_hash_undefined__":t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,r=x(t,e);return!(r<0)&&(r==t.length-1?t.pop():O.call(t,r,1),!0)},A.prototype.get=function(e){var t=this.__data__,r=x(t,e);return r<0?void 0:t[r][1]},A.prototype.has=function(e){return x(this.__data__,e)>-1},A.prototype.set=function(e,t){var r=this.__data__,n=x(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new C,map:new(I||A),string:new C}},P.prototype.delete=function(e){return k(this,e).delete(e)},P.prototype.get=function(e){return k(this,e).get(e)},P.prototype.has=function(e){return k(this,e).has(e)},P.prototype.set=function(e,t){return k(this,e).set(e,t),this};var M=L((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(V(e))return T?T.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return o.test(e)&&r.push(""),e.replace(i,(function(e,t,n,o){r.push(n?o.replace(a,"$1"):t||e)})),r}));function N(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(L.Cache||P),r}L.Cache=P;var F=Array.isArray;function U(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function V(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}e.exports=function(e,t,r){var n=null==e?void 0:D(e,t);return void 0===n?r:n}}).call(this,r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Page="pages",e.View="views",e.Dialog="dialogs",e.Header="header",e.Footer="footer"}(t.ContainerType||(t.ContainerType={})),function(e){e.Normal="NORMAL",e.Folder="FOLDER",e.Link="LINK"}(t.PageType||(t.PageType={})),function(e){e.FitWindow="FIT_WINDOW",e.AutoScroll="AUTO_SCROLL"}(t.PageMode||(t.PageMode={})),function(e){e.Fixed="FIXED",e.Anchored="ANCHORED"}(t.DialogMode||(t.DialogMode={})),function(e){e.Center="CENTER",e.Left="LEFT",e.Right="RIGHT",e.Top="TOP",e.Bottom="BOTTOM"}(t.DialogPosition||(t.DialogPosition={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(106),o=r(49),i=function(){function e(){this.state={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._mutableStoreManager=e.instance),e.instance},e.prototype.updateStateValue=function(e,t){n(this.state,e,t)},e.prototype.getStateValue=function(e){return o(this.state,e)},e.prototype.getState=function(){return this.state},e}();t.default=i},function(e,t,r){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=r(11),c=r(6),l=r(15),f=r(9),d=r(3),p=r(49),h=r(19),g=r(12),m=r(73),v=function(){function e(){var e=this;this.jimuThemeStyleModule={},this.jimuComponentStyles={},this.jimuThemeVariablesGenerators={},this.themeLoadPromises={},this.themeModules={},this.loadThemeVariables=function(t){return e.themeLoadPromises[t]||(e.themeLoadPromises[t]={}),e.themeLoadPromises[t].variables||(e.themeLoadPromises[t].variables=window.fetch(""+l.getAbsoluteRootUrl()+t+"/variables.json").then((function(e){return e.json()})).then((function(e){return f(e)}))),e.themeLoadPromises[t].variables},this.updateThemeCustomVariables=function(t,r){e.themeModules[t]&&e.themeModules[t].variables&&(e.themeModules[t].variables.customVariables=r,d.getAppStore().getState().appConfig.theme===t&&d.getAppStore().dispatch(g.themeVariablesChanged(e.getThemeVariables(t))))},this.clearAllThemeCustomVariables=function(){for(var t in e.themeModules)e.themeModules[t].variables.customVariables=f({})},this.getGlobalStyles=function(t){return e.getComponentStyles("Global",Object.assign({theme:t}))},this.getComponentStyles=function(t,r){var o,i,a=d.getAppStore()&&d.getAppStore().getState().appConfig&&d.getAppStore().getState().appConfig.theme;return o=e.jimuComponentStyles[t],i=e.themeModules[a]&&e.themeModules[a].styleModule&&e.themeModules[a].styleModule[t],u.css(s||(s=n(["\n      ","\n      ","\n    "],["\n      ","\n      ","\n    "])),o&&o(r),i&&i(r))},d.observeStore(this.onThemeChange.bind(this),["appConfig","theme"]),d.observeStore(this.onCustomThemeChange.bind(this),["appConfig","customTheme"])}return e.getInstance=function(){return e.instance||(e.instance=new e,window._themeManager=e.instance),e.instance},e.prototype.registerJimuThemeStyleModule=function(e,t){var r=this;this.jimuThemeStyleModule[e]||(this.jimuThemeStyleModule[e]=t,t.variablesGenerator&&(this.jimuThemeVariablesGenerators[e]=t.variablesGenerator),Object.entries(t.componentStyles).forEach((function(e){var t=e[0],n=e[1];r.jimuComponentStyles[t]?console.error("Component name conflicts.",t):r.jimuComponentStyles[t]=n})))},e.prototype.loadTheme=function(e,t){return void 0===t&&(t=!0),i(this,void 0,void 0,(function(){var r,n,o,i,s,u,l;return a(this,(function(a){switch(a.label){case 0:return r=d.getAppStore().getState().appConfig,this.themeModules[e]?(this.updateThemeVariablesInState(r,t),[2,Promise.resolve(this.themeModules[e])]):(this.themeLoadPromises[e]={},"themes/default/"!==e?[3,1]:(n={manifest:f({}),styleModule:null,variables:{themeVariables:f({}),mergedToJimuVariables:this.mergeThemeVarsToJimuVars(f({})),customVariables:f({})}},[3,8]));case 1:return r.theme===e&&r.themeManifest?(i=r.themeManifest,[3,4]):[3,2];case 2:return[4,this.loadThemeManifest(e)];case 3:i=a.sent(),a.label=4;case 4:return o=i,[4,this.loadThemeVariables(e)];case 5:return s=a.sent(),u={manifest:o},(l=o.styleFiles&&o.styleFiles.js)?[4,c.loadModule(e+"/style.js")]:[3,7];case 6:l=a.sent(),a.label=7;case 7:u.styleModule=l,u.variables={themeVariables:s,mergedToJimuVariables:this.mergeThemeVarsToJimuVars(s),customVariables:f({})},n=u,a.label=8;case 8:return this.themeModules[e]=n,this.updateThemeVariablesInState(r,t),[2,Promise.resolve(n)]}}))}))},e.prototype.updateThemeVariablesInState=function(e,t){void 0===t&&(t=!0),e.customTheme&&!h.isDeepEqual(e.customTheme,{})&&t?this.updateThemeCustomVariables(e.theme,e.customTheme):d.getAppStore().dispatch(g.themeVariablesChanged(this.getThemeVariables(e.theme)))},e.prototype.isThemeLoaded=function(e){return!!this.themeModules[e]},e.prototype.loadThemeManifest=function(e){return this.themeLoadPromises[e]||(this.themeLoadPromises[e]={}),this.themeLoadPromises[e].manifest||(this.themeLoadPromises[e].manifest=fetch(""+l.getAbsoluteRootUrl()+e+"/manifest.json").then((function(e){return e.json()})).then((function(e){var t=f(e);return Promise.resolve(t)}))),this.themeLoadPromises[e].manifest},e.prototype.addThemeCustomVariables=function(e,t){if(this.themeModules[e]&&this.themeModules[e].variables){var r=this.themeModules[e].variables.customVariables,n=Object.assign({},o({},function e(t,r){return[].concat.apply([],Object.keys(t).map((function(n){var o;return"object"==typeof t[n]?e(t[n],r+"/"+n):((o={})[r+"/"+n]=t[n],o)})))}(t)));return Object.keys(n).some((function(e){var t,o=null===(t=Object.keys(n[e]))||void 0===t?void 0:t[0];return r.getIn(o.split("/"))!==n[e][o]}))?(this.themeModules[e].variables.customVariables=this.themeModules[e].variables.customVariables.merge(t,{deep:!0}),d.getAppStore().getState().appConfig.theme===e&&d.getAppStore().dispatch(g.themeVariablesChanged(this.getThemeVariables(e))),this.themeModules[e].variables.customVariables):null}},e.prototype.removeThemeCustomVariables=function(e,t){var r=this;this.themeModules[e]&&this.themeModules[e].variables&&(t.forEach((function(t){var n=t.split(".");if(n.length>1){var o=n.concat([]),i=o.pop(),a=r.themeModules[e].variables.customVariables.getIn(o);a&&(r.themeModules[e].variables.customVariables=r.themeModules[e].variables.customVariables.setIn(o,a.without(i)))}else r.themeModules[e].variables.customVariables=r.themeModules[e].variables.customVariables.without(n[0])})),d.getAppStore().getState().appConfig.theme===e&&d.getAppStore().dispatch(g.themeVariablesChanged(this.getThemeVariables(e))))},e.prototype.getThemeVariables=function(e){var t=this.getRawThemeVariables(e);return this.parseVars(t)},e.prototype.getRawThemeVariables=function(e){if(!this.themeModules[e]||!this.themeModules[e].variables)return f({});var t=this.themeModules[e].variables.themeVariables,r=this.themeModules[e].variables.customVariables,n=this.mergeThemeVarsToJimuVars(t,r);return this.themeModules[e].variables.mergedToJimuVariables=n,n},e.prototype.getCustomVariables=function(e){return this.themeModules[e]&&this.themeModules[e].variables&&this.themeModules[e].variables.customVariables},e.prototype.getThemeManifest=function(e){return this.themeModules[e]&&this.themeModules[e].manifest},e.prototype.getThemeModule=function(e){return this.themeModules[e]},e.prototype.mergeThemeVarsToJimuVars=function(e,t){var r=this;if(Object.keys(this.jimuThemeVariablesGenerators).find((function(e){return"jimu-ui"===e}))){var n=this.jimuThemeVariablesGenerators["jimu-ui"].generate(e,t);return Object.keys(this.jimuThemeVariablesGenerators).forEach((function(o){"jimu-ui"!==o&&(n=n.merge(r.jimuThemeVariablesGenerators[o].generate(e,t),{deep:!0}))})),n}console.error("Does not find jimu-ui theme.")},e.prototype.parseVars=function(e,t){if(!e)return f({});t||(t=e.merge({}));var r=/\$\{([^<]+)\}/;for(var n in e){var o=e[n],i=Object.prototype.toString.call(o);if("[object Object]"===i)e=e.setIn([n],this.parseVars(o,t));else if("[object String]"===i&&r.test(o)){var a=o.match(r)[1];e=e.setIn([n],p(t,a))}}return e},e.prototype.onThemeChange=function(e,t){var r=this;m((function(){e!==t&&r.loadTheme(t,!e)}))},e.prototype.onCustomThemeChange=function(e,t){var r=this;m((function(){h.isDeepEqual(e,t)||r.updateThemeCustomVariables(d.getAppStore().getState().appConfig.theme,t)}))},e}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(5),i=r(9),a=r(112),s=r(21),u=r(4),c=["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"];function l(e){return c.indexOf(e)>-1}function f(e,t){var r=null;return e&&e.length>0&&e.some((function(e){return e.name===t&&(r=e,!0)})),r}function d(e,t,r){var n,o=r[t],i=e.typeIdField;r.hasOwnProperty(i)&&(n=r[i]);var a=f(e.fields,t),s=g(o,null!=n?m(e,t,n,a):y(e,a));if(e.typeIdField===t){var u=[{value:r[t],label:s.displayValue}];s.displayValue=b(e,u)[0].label}return s}function p(e){return b(e,function(e){var t=null;return e.typeIdField&&e.types&&e.types.length>0&&(t=[],Object.keys(e.types).map((function(r){t.push({value:e.types[r].id,label:e.types[r].name})}))),t}(e))}function h(e){var t=null,r=e.domain;return r&&"codedValue"===r.type&&r.codedValues&&r.codedValues.length>0&&(t=[],r.codedValues.map((function(e){t.push({value:e.code,label:e.name})}))),t}function g(e,t){var r={isCodedValueOrSubtype:!1,displayValue:e+""};return t&&t.length>0&&t.some((function(t){return t.value===e&&(r={isCodedValueOrSubtype:!0,displayValue:t.label},!0)})),Object.assign(r,{value:e})}function m(e,t,r,n){var o=null;return n=n||f(e.fields,t),e.typeIdField&&e.types&&e.types.length>0?(e.types.some((function(i){if(i.id===r){if(t===e.typeIdField)o=[{value:i.id,label:i.name}];else if(i.domains&&i.domains[t]){var a=i.domains[t];"inherited"===a.type?o=h(n):a.codedValues&&a.codedValues.length>0&&(o=[],a.codedValues.map((function(e){o.push({value:e.code,label:e.name})})))}else i.domains&&(o=h(n));return!0}})),o||(o=h(n))):o=h(n),o}function v(e,t,r){return e[t]?r===e[t]||(e[t]=e[t]+", "+r):e[t]=r,e}function y(e,t){var r=t.name,n={},o=null,i=!0;e.typeIdField&&e.types&&e.types.length>0?(Object.keys(e.types).map((function(o){var a=e.types[o];if(a.domains&&a.domains[r]){var s=a.domains[r];if("inherited"===s.type){if(i)i=!1,h(t).map((function(e){n=v(n,e.value,e.label)}))}else s.codedValues&&s.codedValues.length>0&&s.codedValues.map((function(e){n=v(n,e.code,e.name)}))}})),o||(o=h(t))):o=h(t);var a=[];for(var s in n){var u=l(t.type)?parseFloat(s):s;a.push({value:u,label:n[s]})}return a.length>0&&(o=a),o}function b(e,t){var r=function(e){var t=null,r=null,n=w(e);if(n)t={},r=n.uniqueValueInfos;else{var o=e;if(o.renderer){var i=w(o.sourceJSON),a=o.renderer.toJson();"uniqueValue"===a.type&&i&&i.field1===a.field1?(t={},r=a.uniqueValueInfos):i&&(t={},r=i.uniqueValueInfos)}}if(r)for(var s=0;s<r.length;s++){var u=r[s];t[u.value]=u.label}return t}(e);if(r&&t)for(var n=0;n<t.length;n++){var o=t[n];r[o.value]&&(o.label=r[o.value])}return t}function w(e){var t=null;return e.drawingInfo&&e.drawingInfo.renderer&&"uniqueValue"===e.drawingInfo.renderer.type&&(t=e.drawingInfo.renderer),t}function S(e){return e.replace(/\s/g,"_")}function O(e){return e&&Object.keys(u.SupportedLayerServiceTypes).some((function(t){return u.SupportedLayerServiceTypes[t]===e}))}function I(e,t,r){if(!e)return null;var n=e&&e.split("?")[0];n=n&&n.replace(/^http:/,"https:");var o=/\/\d+\/?$/.test(e)?n.replace(/\/$/,"").split("/").slice(0,-1).join("/"):n.replace(/\/$/,"");return r?o+"/"+t.id:o}function _(e){return a.default.getInstance().fetchChildLayerDefinitionsFromUrls(e).then((function(e){var t={};return Object.keys(e).forEach((function(r){var n;O(null===(n=e[r])||void 0===n?void 0:n.type)&&(t[r]=e[r])})),t}))}function E(e){return!(!A(e)||!/\/\d+\/?$/.test(e))}function T(e){return!(!A(e)||E(e))}function C(e){if(!A(e))return"";var t=e.split("/"),r=t.findIndex((function(e){return e===u.SupportedServiceTypes.MapService||e===u.SupportedServiceTypes.FeatureService}))-1;return t[r]}function A(e){return!!(e&&/^(http(s)?:)?\/\//.test(e)&&Object.values(u.SupportedServiceTypes).some((function(t){return e.split("/").indexOf(t)>-1})))}function P(e,t,r,n,o){void 0===n&&(n=u.QueryScope.InConfigView);var i={queryParams:{where:r||"(1=1)",returnGeometry:!1,outFields:[e],orderByFields:[e],returnDistinctValues:!0},queryOptions:{scope:n,widgetId:o||"advanced_select_query"}};return o&&(i.queryOptions.excludeQuery={dataSourceId:t,widgetId:o}),i}t.queryAllAttachments=function(e){var t=s.default.getInstance().getMainSession(),r=(null==t?void 0:t.token)?{httpMethod:"GET",params:{token:null==t?void 0:t.token}}:{httpMethod:"GET"};return e.url?n.request(e.url+"/"+e.featureId+"/attachments",r).then((function(e){return Promise.resolve(e.attachmentInfos)})):Promise.reject(null)},t.filterAttachments=function(e,t){var r=s.default.getInstance().getMainSession();if(t&&t.attachmentTypes&&t.attachmentTypes.length>0){for(var n=[],o=0;o<e.length;o++)t.attachmentTypes.indexOf(e[o].contentType)>-1&&(e[o].url=t.url+"/"+t.featureId+"/attachments/"+e[o].id+((null==r?void 0:r.token)?"?token="+(null==r?void 0:r.token):""),n.push(e[o]));return Promise.resolve(n)}for(o=0;o<e.length;o++)e[o].url=t.url+"/"+t.featureId+"/attachments/"+e[o].id+((null==r?void 0:r.token)?"?token="+(null==r?void 0:r.token):"");return Promise.resolve(e)},t.convertFieldToJimuField=function(e,t){var r;return r=c.indexOf(e.type)>-1?o.JimuFieldType.Number:"esriFieldTypeDate"===e.type?o.JimuFieldType.Date:o.JimuFieldType.String,{jimuName:e.name,name:e.name,type:r,esriType:e.type,alias:e.alias,format:t&&t.format}},t.isNumericalField=l,t.getFieldInfoByFieldName=f,t.getDisplayValueForCodedValueOrSubtype=d,t.getDisplayValueForCodedValueOrSubtypeBatch=function(e,t,r){if(1===r.length)return[S=d(e,t,r[0])];var n=e.typeIdField,o=null,i=null,a=[],s=[];for(var u in r){var c=r[u],l=c[t];if(n===t)a=o||p(e);else{var v=f(e.fields,t);if(c.hasOwnProperty(n)){if(!i)for(var b in i={},o=p(e)){var w=o[b].value;i[w]=m(e,t,w,v)}(a=i[c[n]])||(a=h(v))}else a=y(e,v)}var S=g(l,a);s.push(S)}return s},t.getCodedValueListForCodedValueOrSubtypeField=function(e,t,r){var n=null,o=f(e.fields,t),i=r?r[e.typeIdField]:null,a=r&&null!=i;if(e.typeIdField&&e.typeIdField.toUpperCase()===t.toUpperCase()){if(n=p(e),a){var s=g(i,n);n=[{value:s.value,label:s.displayValue}]}}else n=a?m(e,t,i,o):y(e,o);return n},t.isHostedService=function(e){if(!e)return!1;var t=-1!==e.indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r},t.fixLayerId=S,t.getFixedLayerIdByLayer=function(e){if(!e)return null;var t=e.id||e.title;return t?S(""+t):null},t.getFullServiceUrl=I,t.getSingleDsJsonFromLayerDefinition=function(e,t,r,n){return e&&r&&O(r.type)?(o=r.type===u.SupportedLayerServiceTypes.GroupLayer?function(e,t,r){return e&&t?i({id:e,type:u.DataSourceTypes.GroupLayer,url:I(r,t,!0),layerId:""+t.id}):null}(e,r,t):function(e,t,r){return e&&t?i({id:e,type:u.DataSourceTypes.FeatureLayer,url:I(r,t,!0),layerId:""+t.id,geometryType:t.geometryType}):null}(e,r,t),n?o.merge(n.asMutable({deep:!0})):o):null;var o},t.getSingleDsJsonFromWholeServiceDefinition=function(e,t,r,n){if(!e||!t||!r)return null;var o=function(e){if(!T(e))return null;return function(e){return!!(e&&/^(http(s)?:)?\/\//.test(e)&&e.split("/").indexOf(u.SupportedServiceTypes.MapService)>-1)}(e)?u.DataSourceTypes.MapService:function(e){return!!(e&&/^(http(s)?:)?\/\//.test(e)&&e.split("/").indexOf(u.SupportedServiceTypes.FeatureService)>-1)}(e)?u.DataSourceTypes.FeatureService:null}(t);if(!o)return null;var a=C(t),s=i({id:e,type:o,label:a,url:I(t,r,!1)});return n?s.merge(n.asMutable({deep:!0})):s},t.fetchSupportedLayerDefinitionsFromUrls=_,t.fetchSupportedLayerDefinitions=function(e,t){if(!e||!t)return Promise.resolve({});if(E(e)){var r=t;return r.type===u.SupportedLayerServiceTypes.GroupLayer?function(e,t){var r=t.subLayers||[],n=I(e,t,!1);return _(r.map((function(e){return n+"/"+e.id})))}(e,r):Promise.resolve({})}return T(e)?function(e,t){var r=(null==t?void 0:t.layers)||[],n=(null==t?void 0:t.tables)||[];return _(r.concat(n).map((function(t){return""+I(e,t,!0)})))}(e,t):Promise.resolve({})},t.isSupportedSingleLayerService=E,t.isSupportedWholeService=T,t.getServiceLabelFromUrl=C,t.isSupportedService=A,t.getSortedArrayByLabel=function(e){return e.sort((function(e,t){return e.getLabel().localeCompare(t.getLabel())}))},t.getChildDataSourceId=function(e,t){return e+"-"+t},t.queryFeatureCountByField=function(e,t,r,n,o){void 0===n&&(n=u.QueryScope.InConfigView);var i=t,a=P(e.name,i.belongToDataSource.id,r,n,o);return i.loadCount(a.queryParams,a.queryOptions).then((function(e){return e}))},t.queryValueLabelsByFieldAndPageSize=function(e,t,r,n,i,a,s){void 0===a&&(a=u.QueryScope.InConfigView);var c=["undefined","nan","null",""],l=t,f=[],d=P(e.name,t.belongToDataSource.id,i,a,s);return d.queryParams.page=1,d.queryParams.pageSize=r,l.load(d.queryParams,d.queryOptions).then((function(t){var r={},i={};return t.map((function(t){var a=t,s=a.feature.attributes[e.jimuName];if(!(s in r)&&(r[s]=!0,0===c.filter((function(e){return(s+"").trim().toLowerCase()===e})).length)){var u=a.getFormattedFieldValue(e.jimuName,n);e.type===o.JimuFieldType.Date?(u in i||f.push({value:s,label:u}),i[u]=!0):f.push({value:s,label:u})}})),f}))},t.getUrlByLayer=function(e){var t,r=null===(t=e)||void 0===t?void 0:t.url;return r?r=(r=null!==e.layerId&&void 0!==e.layerId?e.url+"/"+e.layerId:e.url).replace(/^http:/,"https:"):null},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(183))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.groupExpressionPartsByFunction=n.groupPartsByFunction,t.resolveExpression=function(e,t,r,o){var i=e&&e.parts&&e.parts.slice();if(!i)return Promise.resolve("");var a=n.groupPartsByFunction(i),s=a&&1===Object.keys(a).filter((function(e){return!/^\s*$/.test(a[e].exp)})).length;return Promise.all(n.resolveFieldAndFunctionParts(a,t,r,s,o)).then((function(e){var t=n.getPostfixParts(e);return""+(n.calculatePostfixExpression(t,s)||"")}))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(37),u=r(40),c=r(3),l=r(12),f=r(32),d=r(6),p=r(29),h=r(118),g=r(16),m=r(41),v=r(36),y=r(76),b=r(72),w=r(51),S=r(75),O=r(77),I=r(78),_=r(57),E=r(56),T=r(19),C=function(){function e(){this.widgetRawClasses={},this.widgetClasses={},this.widgetClassesPromise={},this.widgetManifestsPromise={},this.widgetConfigsPromise={},this.widgetBuilderSupportModulesPromise={},this.widgetBuilderSupportModules={},c.observeStore(this.onStoreChange.bind(this),["appConfig","widgets"]),this.dsManager=g.default.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e,window._widgetManager=e.instance),e.instance},e.prototype.getWidgetListInfo=function(){var e=this;return this.widgetListInfo&&this.widgetListInfo.length>0?Promise.resolve(this.widgetListInfo):fetch(d.resolveModuleFullPath("widgets")+"/widgets-info.json").then((function(e){return e.json()})).then((function(t){return e.widgetListInfo=t.map((function(e){return e.manifest=u.addWidgetManifestProperties(e.manifest),{itemType:_.LayoutItemType.Widget,name:e.name,label:e.i18nLabel[c.getAppStore().getState().appContext.locale]||e.manifest.label||e.name,uri:e.uri,manifest:e.manifest,icon:d.resolveModuleFullPath("widgets")+"/../"+e.icon}})),e.widgetListInfo}))},e.prototype.getWidgetClass=function(e){return this.widgetClasses[e]},e.prototype.destroyWidget=function(e){delete this.widgetClasses[e],delete this.widgetClassesPromise[e]},e.prototype.loadWidgetClass=function(e){var t,r=this;if(!(t="string"==typeof e?c.getAppStore().getState().appConfig.widgets[e]:e))return Promise.resolve(null);if(this.getWidgetClass(t.id))return Promise.resolve(this.getWidgetClass(t.id));if(this.widgetClassesPromise[t.id])return this.widgetClassesPromise[t.id];var n=t.id;return t.manifest.properties.hasMainClass?(this.widgetClassesPromise[n]=this.loadRawClass(t).then((function(e){return r.loadWidgetConfig(t).then((function(o){!o||t.config&&"string"!=typeof t.config||c.getAppStore().dispatch(l.widgetConfigLoaded(t.id,o));var i=c.getAppStore().getState().appConfig.widgets[n];return i?r.upgradeWidgetConfig(i,e.clazz.versionManager):null})).then((function(){return e})).catch((function(e){return T.checkUpdate().then((function(e){e&&c.getAppStore().dispatch(l.setHasNewVersion(!0))})),Promise.reject(e)}))})).then((function(e){return t=e.clazz,o=e.i18nMessages,r.injectWidgetProps(t,o,n).then((function(e){var t=c.getAppStore().getState().appConfig.widgets[n];return r.appWidgetClassWrapperExtension(e,t,o)}));var t,o})).then((function(e){return c.getAppStore().getState().appConfig.widgets[n]?(r.widgetClasses[n]=e,c.getAppStore().dispatch(l.widgetClassLoaded(n)),e):null})),this.widgetClassesPromise[n]):Promise.resolve(null)},e.prototype.loadRawClass=function(e){var t=e.manifest.name;return this.widgetRawClasses[t]||(this.widgetRawClasses[t]=this.loadWidgetDependency(e).then((function(){var t=e.uri+"dist/runtime/widget";return d.loadModule(t)})).then((function(t){return{clazz:t.default?t.default:t,i18nMessages:e.manifest.i18nMessages}}))),this.widgetRawClasses[t]},e.prototype.loadWidgetTranslation=function(e){var t=c.getAppStore().getState().appContext.locale;return(t=m.getLocaleToLoad(t,e.manifest.translatedLocales))?m.loadLocaleMessages(e.uri+"dist/runtime/translations",t).catch((function(e){return console.error("Load widget translation error",e),Promise.resolve({})})):Promise.resolve({})},e.prototype.openWidget=function(e){c.getAppStore().dispatch(l.openWidget(e))},e.prototype.closeWidget=function(e){c.getAppStore().dispatch(l.closeWidget(e))},e.prototype.appWidgetClassWrapperExtension=function(e,t,r){var n=f.default.getInstance().getExtensions(p.ExtensionPoints.WidgetClassWrapper)[0];return n?n.wrap(e,t,r):e},e.prototype.handleNewWidgetJson=function(e){var t=this;return e.context=u.getWidgetContext(e.uri),this.loadWidgetManifest(e).then((function(r){return e._originManifest=r,t.processWidgetManifest(e)})).then((function(r){e.manifest=r,e.version=r.version;var n=c.getAppStore().getState().appStateInBuilder?c.getAppStore().getState().appStateInBuilder.appConfig:c.getAppStore().getState().appConfig;return u.addWidgetDefaultLabelAndIcon(n,e),t.loadWidgetConfig(e)})).then((function(t){return e.config=t,e}))},e.prototype.createWidgetJsonFromExistedWidget=function(e,t,r){void 0===r&&(r={});var n=c.getAppStore().getState().appStateInBuilder?c.getAppStore().getState().appStateInBuilder.appConfig:c.getAppStore().getState().appConfig;if(!n.widgets[t])return null;r.id=e;var o=Object.assign({},n.widgets[t],r);return u.addWidgetDefaultLabelAndIcon(n,o),o},e.prototype.loadWidgetManifest=function(e){var t;return e.context.isRemote?(t=e.context.folderUrl+"manifest.json?f=json",Promise.reject("Not allow.")):(t=e.context.folderUrl+"manifest.json",e.manifest?Promise.resolve(e.manifest):(this.widgetManifestsPromise[e.uri]||(this.widgetManifestsPromise[e.uri]=window.fetch(t).then((function(e){return 404===e.status?T.checkUpdate().then((function(e){return e&&c.getAppStore().dispatch(l.setHasNewVersion(!0)),Promise.reject({error:404})})):e.json()})).then((function(e){if(e.error&&e.error.code)return Promise.reject(e.error);var t=e;return!t.widgetType&&t.properties&&t.properties.type&&(t.widgetType=t.properties.type,delete t.properties.type),!t.layouts&&t.properties&&t.properties.layouts&&(t.layouts=t.properties.layouts,delete t.properties.layouts),!t.translatedLocales&&t.supportedLocales&&(t.translatedLocales=t.supportedLocales),Promise.resolve(t)}))),this.widgetManifestsPromise[e.uri]))},e.prototype.processWidgetManifest=function(e){var t=u.addWidgetManifestProperties(e._originManifest);return e.manifest=t,this.loadWidgetTranslation(e).then((function(r){return t.i18nMessages=r,e.manifest=t,t}))},e.prototype.registerManifestProps=function(e,t){var r=e.manifest,n=[];return r.extensions&&r.extensions.length>0&&n.push(f.default.getInstance().registerWidgetExtensions(e)),r.messageActions&&r.messageActions.length>0&&n.push(O.default.getInstance().registerWidgetActions(e,t)),Promise.all(n).then((function(){}))},e.prototype.unRegisterManifestProps=function(e){f.default.getInstance().destryWidgetExtensions(e),O.default.getInstance().destroyWidgetActions(e),I.default.getInstance().destroyWidgetActions(e)},e.prototype.upgradeWidgetConfig=function(e,t){var r=e.manifest.version,n=e.version,o=e.config;if(r===n)return Promise.resolve(o);if(!t)return Promise.resolve(o);if(!E.valid(n)||!E.valid(r))return Promise.reject("Bad widget version number, "+e.manifest.name+","+n+","+r);if(E.lt(n,r))try{return t.upgrade(o,n,r,e.id).then((function(t){return c.getAppStore().dispatch(l.widgetConfigUpgraded(e.id,t)),t}))}catch(t){return console.log("Upgrade widget ["+e.manifest.name+"] old config error,"+t.stack),o}},e.prototype.loadWidgetConfig=function(e){return e.config?"object"==typeof e.config?Promise.resolve(e.config):(this.widgetConfigsPromise[e.uri]||(this.widgetConfigsPromise[e.uri]=window.fetch(e.config).then((function(e){return 404===e.status?T.checkUpdate().then((function(e){return e&&c.getAppStore().dispatch(l.setHasNewVersion(!0)),Promise.reject({error:404})})):e.json()})).then((function(e){return e}))),this.widgetConfigsPromise[e.uri]):e.manifest.properties.hasConfig?(this.widgetConfigsPromise[e.uri]||(this.widgetConfigsPromise[e.uri]=window.fetch(e.context.folderUrl+"config.json").then((function(e){return 404===e.status?T.checkUpdate().then((function(e){return e&&c.getAppStore().dispatch(l.setHasNewVersion(!0)),Promise.reject({error:404})})):e.json()})).then((function(e){return e}))),this.widgetConfigsPromise[e.uri]):Promise.resolve(null)},e.prototype.loadWidgetDependency=function(e,t){void 0===t&&(t="runtime");var r="runtime"===t?"dependency":"settingDependency";if(!e.manifest[r])return Promise.resolve();var n="string"==typeof e.manifest[r]?[e.manifest[r]]:e.manifest[r];return y.loadDependencies(n)},e.prototype.createDataSourcesForWidget=function(e,t){var r=this,n=t.appConfig.widgets[e];if(!n.useDataSourcesEnabled||!n.useDataSources||0===n.useDataSources.length||!t.appConfig.dataSources)return Promise.resolve();var o=t.widgetsRuntimeInfo[e];if(!(n.manifest.properties.autoBindDataSource||o&&o.isReadyInjectDataSource))return Promise.resolve();var i=[];return n.useDataSources.forEach((function(e){var t=e.dataSourceId;r.dsManager.getDataSource(t)||i.push(r.dsManager.createDataSourceByUseDataSource(e))})),Promise.all(i)},e.prototype.injectWidgetProps=function(e,t,r){var n=this,u=v.injectIntl(e),f=b.withTheme(u),d=S.withRepeatedDataSource(f),p=function(t,o){var i=t.appConfig.widgets[r];if(!i)return{};var a=t.widgetsRuntimeInfo[r],s=Object.assign({queryObject:t.queryObject,portalUrl:t.portalUrl,portalSelf:t.portalSelf,user:t.user,token:t.token,locale:t.appContext.locale,appI18nMessages:t.appI18nMessages},o);t.widgetsState[r]&&(s.stateProps=t.widgetsState[r]),t.widgetsMutableStateVersion[r]&&(s.mutableStatePropsVersion=t.widgetsMutableStateVersion[r],s.mutableStateProps=w.default.getInstance().getStateValue([r])),n.widgetBuilderSupportModules[i.uri]&&(s.builderSupportModules=n.widgetBuilderSupportModules[i.uri]),t.widgetsPreloadProps&&t.widgetsPreloadProps[r]&&Object.assign(s,t.widgetsPreloadProps[r]);var u=Object.assign(s,t.appConfig.widgets[r],a);return Object.assign(u,e.mapExtraStateProps?e.mapExtraStateProps(t,u):{})},g=function(e){return function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return o(n,r),n.prototype.render=function(){if(!this.props.id)return null;var e=Object.assign({},t,this.props.appI18nMessages);return a.createElement(v.IntlProvider,{locale:this.props.locale,defaultLocale:this.props.locale,messages:e},a.createElement(d,i({},this.props)))},n.displayName="WidgetWrapper("+e+")",n}(h.default)},m=c.getAppStore().getState();if(!m.appConfig.widgets[r])return Promise.resolve(e);var y=m.appConfig.widgets[r].manifest,O=y.name,I=m.appConfig.widgets[r].uri;return this.createDataSourcesForWidget(r,m).then((function(){return n.loadWidgetBuilderSupportModules(I,y)})).then((function(){if(m.widgetsPreloadProps&&m.widgetsPreloadProps[r])return Promise.resolve(s.connect(p)(g(O)));if(e.preloadData){var o={},i=m.appConfig.widgets[r];return i.useDataSourcesEnabled&&i.useDataSources&&i.useDataSources.forEach((function(e){o[e.dataSourceId]=n.dsManager.getDataSource(e.dataSourceId)})),e.preloadData(m,Object.assign(p(m,{}),{messages:t}),o).then((function(e){return c.getAppStore().dispatch(l.setWidgetPreloadProps(r,e)),Promise.resolve(s.connect(p)(g(O)))}))}return Promise.resolve(s.connect(p)(g(O)))}))},e.prototype.loadWidgetBuilderSupportModules=function(e,t){var r=this,n=[];if(window.jimuConfig.isInBuilder){if(this.widgetBuilderSupportModulesPromise[e])return this.widgetBuilderSupportModulesPromise[e];if(t.properties.hasEmbeddedLayout?n.push(d.loadModule("jimu-layouts/layout-builder").then((function(e){return e.LayoutEntry}))):n.push(Promise.resolve(null)),t.properties.hasBuilderSupportModule){var o=e+"dist/runtime/builder-support";n.push(d.loadModule(o).then((function(e){return e.default})))}else n.push(Promise.resolve(null));return this.widgetBuilderSupportModulesPromise[e]=Promise.all(n).then((function(t){return r.widgetBuilderSupportModules[e]={jimuForBuilderLib:d.getJimuForBuilderModules(),LayoutEntry:t[0],widgetModules:t[1]},r.widgetBuilderSupportModules[e]})),this.widgetBuilderSupportModulesPromise[e]}return Promise.resolve({jimuForBuilderLib:null})},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach((function(e){t[e]||(r.destroyWidget(e),r.unRegisterManifestProps(e))})),e&&t&&Object.keys(t).forEach((function(n){e[n]||r.registerManifestProps(t[n])}))},e}();t.default=C},function(e,t,r){(function(r){var n;t=e.exports=$,n="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],a=t.src=[],s=0,u=s++;a[u]="0|[1-9]\\d*";var c=s++;a[c]="[0-9]+";var l=s++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=s++;a[f]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var d=s++;a[d]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var p=s++;a[p]="(?:"+a[u]+"|"+a[l]+")";var h=s++;a[h]="(?:"+a[c]+"|"+a[l]+")";var g=s++;a[g]="(?:-("+a[p]+"(?:\\."+a[p]+")*))";var m=s++;a[m]="(?:-?("+a[h]+"(?:\\."+a[h]+")*))";var v=s++;a[v]="[0-9A-Za-z-]+";var y=s++;a[y]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var b=s++,w="v?"+a[f]+a[g]+"?"+a[y]+"?";a[b]="^"+w+"$";var S="[v=\\s]*"+a[d]+a[m]+"?"+a[y]+"?",O=s++;a[O]="^"+S+"$";var I=s++;a[I]="((?:<|>)?=?)";var _=s++;a[_]=a[c]+"|x|X|\\*";var E=s++;a[E]=a[u]+"|x|X|\\*";var T=s++;a[T]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[g]+")?"+a[y]+"?)?)?";var C=s++;a[C]="[v=\\s]*("+a[_]+")(?:\\.("+a[_]+")(?:\\.("+a[_]+")(?:"+a[m]+")?"+a[y]+"?)?)?";var A=s++;a[A]="^"+a[I]+"\\s*"+a[T]+"$";var P=s++;a[P]="^"+a[I]+"\\s*"+a[C]+"$";var x=s++;a[x]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=s++;a[D]="(?:~>?)";var j=s++;a[j]="(\\s*)"+a[D]+"\\s+",i[j]=new RegExp(a[j],"g");var k=s++;a[k]="^"+a[D]+a[T]+"$";var R=s++;a[R]="^"+a[D]+a[C]+"$";var M=s++;a[M]="(?:\\^)";var N=s++;a[N]="(\\s*)"+a[M]+"\\s+",i[N]=new RegExp(a[N],"g");var L=s++;a[L]="^"+a[M]+a[T]+"$";var F=s++;a[F]="^"+a[M]+a[C]+"$";var U=s++;a[U]="^"+a[I]+"\\s*("+S+")$|^$";var V=s++;a[V]="^"+a[I]+"\\s*("+w+")$|^$";var B=s++;a[B]="(\\s*)"+a[I]+"\\s*("+S+"|"+a[T]+")",i[B]=new RegExp(a[B],"g");var W=s++;a[W]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var q=s++;a[q]="^\\s*("+a[C]+")\\s+-\\s+("+a[C]+")\\s*$";var G=s++;a[G]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)n(H,a[H]),i[H]||(i[H]=new RegExp(a[H]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof $)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[O]:i[b]).test(e))return null;try{return new $(e,t)}catch(e){return null}}function $(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof $){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof $))return new $(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?i[O]:i[b]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=$,$.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},$.prototype.toString=function(){return this.version},$.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof $||(e=new $(e,this.options)),this.compareMain(e)||this.comparePre(e)},$.prototype.compareMain=function(e){return e instanceof $||(e=new $(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},$.prototype.comparePre=function(e){if(e instanceof $||(e=new $(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return Y(r,o)}while(++t)},$.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new $(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=z(e),n=z(t);if(r.prerelease.length||n.prerelease.length){for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return"pre"+o;return"prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return o},t.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function J(e,t,r){return new $(e,r).compare(new $(t,r))}function X(e,t,r){return J(e,t,r)>0}function Q(e,t,r){return J(e,t,r)<0}function Z(e,t,r){return 0===J(e,t,r)}function ee(e,t,r){return 0!==J(e,t,r)}function te(e,t,r){return J(e,t,r)>=0}function re(e,t,r){return J(e,t,r)<=0}function ne(e,t,r,n){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),o=e!==r;break;case"":case"=":case"==":o=Z(e,r,n);break;case"!=":o=ee(e,r,n);break;case">":o=X(e,r,n);break;case">=":o=te(e,r,n);break;case"<":o=Q(e,r,n);break;case"<=":o=re(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return o}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new $(e,t).major},t.minor=function(e,t){return new $(e,t).minor},t.patch=function(e,t){return new $(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,r){return J(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Q,t.eq=Z,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=oe;var ie={};function ae(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,r,n,o,i,a,s,u,c,l,f,d){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(s=se(u)?"":se(c)?"<"+(+u+1)+".0.0":se(l)?"<"+u+"."+(+c+1)+".0":f?"<="+u+"."+c+"."+l+"-"+f:"<="+s)).trim()}function ce(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new ae(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var o,i,a,s,u;switch(e=new $(e,n),t=new ae(t,n),r){case">":o=X,i=re,a=Q,s=">",u=">=";break;case"<":o=Q,i=te,a=X,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],f=null,d=null;if(l.forEach((function(e){e.semver===ie&&(e=new oe(">=0.0.0")),f=f||e,d=d||e,o(e.semver,f.semver,n)?f=e:a(e.semver,d.semver,n)&&(d=e)})),f.operator===s||f.operator===u)return!1;if((!d.operator||d.operator===s)&&i(e,d.semver))return!1;if(d.operator===u&&a(e,d.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?i[U]:i[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new $(r[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new $(e,this.options)),ne(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ae(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new ae(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&a||s||u},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[q]:i[W];e=e.replace(r,ue),n("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),n("comparator trim",e,i[B]),e=(e=(e=e.replace(i[j],"$1~")).replace(i[N],"$1^")).split(/\s+/).join(" ");var o=t?i[U]:i[V],a=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[F]:i[L];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[R]:i[k];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),se(r)?s="":se(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+o+"."+i+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[P]:i[A];return e.replace(r,(function(t,r,o,i,a,s){n("xRange",e,t,r,o,i,a,s);var u=se(o),c=u||se(i),l=c||se(a);return"="===r&&l&&(r=""),u?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(c&&(i=0),l&&(a=0),">"===r?(r=">=",c?(o=+o+1,i=0,a=0):l&&(i=+i+1,a=0)):"<="===r&&(r="<",c?o=+o+1:i=+i+1),t=r+o+"."+i+"."+a):c?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[G],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(o)}))),a=a.map((function(e){return new oe(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new $(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ae(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new $(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ae(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new $(n=e,r)))})),n},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ae(e,r),t=new ae(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof $)return e;if("string"!=typeof e)return null;var t=e.match(i[x]);return null==t?null:z((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(this,r(197))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unkown="UNKNOWN",e.Widget="WIDGET",e.Section="SECTION"}(t.LayoutItemType||(t.LayoutItemType={})),function(e){e.FixedLayout="FIXED",e.FlowLayout="FLOW",e.GridLayout="GRID"}(t.LayoutType||(t.LayoutType={}))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(22),a=r(13),s=function(e){function t(t){return e.call(this,a.AnimationType.FadeOut,t)||this}return o(t,e),t.prototype.initProps=function(){return this.generateProps({opacity:1,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({opacity:1}),to:this.generateProps({opacity:0}),immediate:!0,reset:!0,config:void 0}},t.prototype.endProps=function(){return this.generateProps({opacity:0,immediate:!0,reset:!1})},t}(i.BaseEffect);t.FadeOutEffect=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);function o(){for(var e=[0],t=1;t<=100;t++)e.push(t/100);return e}t.useIntersection=function(e,t,r){var i=n.useRef(),a=n.useState(),s=a[0],u=a[1],c=n.useRef(Number.NEGATIVE_INFINITY),l=n.useRef(0);n.useEffect((function(){if(t&&e&&"function"==typeof IntersectionObserver){var n=new IntersectionObserver((function(e){f(e[0])}),{threshold:o(),root:r||document.body});return n.observe(e),i.current=n,function(){i.current.disconnect(),i.current=null}}i.current&&(i.current.disconnect(),i.current=null)}),[e,t]);var f=n.useCallback((function(e){var t=e.intersectionRect;if(function(e,t){return e>t.boundingClientRect.top}(c.current,e)&&function(e,t){return e<t.intersectionRatio}(l.current,e)&&(e.intersectionRatio>=.95||t.height>100))return l.current=e.intersectionRatio,c.current=e.boundingClientRect.top,void u(!0);(function(e,t){return e<t.boundingClientRect.top})(c.current,e)&&function(e,t){return e>t.intersectionRatio}(l.current,e)&&e.intersectionRatio<=.05&&u(!1),l.current=e.intersectionRatio,c.current=e.boundingClientRect.top}),[]);return s}},,function(e,t,r){"use strict";function n(e){console&&console.warn&&console.warn.apply(console,[e])}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(25),o=r(38);function i(e,t){var r=Object(n.b)(e)||t,i=Object(n.a)(e);if(r){var a=new FormData;return Object.keys(i).forEach((function(e){if("undefined"!=typeof Blob&&i[e]instanceof Blob){var t=i.fileName||i[e].name||e;a.append(e,i[e],t)}else a.append(e,i[e])})),a}return Object(o.b)(e)}},function(e,t,r){"use strict";r.r(t);var n=r(64);var o=function(e){function t(e,t,n){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),k(2!==t?n:n.replace(I,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(S," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,c,l){for(var f,d=0,p=t;d<j;++d)switch(f=D[d].call(u,e,p,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(k=null,e?"function"!=typeof e?P=1:(P=2,k=e):P=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var u=a(-1,r,s,s,C,T,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var f=function e(r,s,u,f,d){for(var p,h,g,b,S,O=0,I=0,_=0,E=0,D=0,k=0,M=g=p=0,N=0,L=0,F=0,U=0,V=u.length,B=V-1,W="",q="",G="",H="";N<V;){if(h=u.charCodeAt(N),N===B&&0!==I+E+_+O&&(0!==I&&(h=47===I?10:47),E=_=O=0,V++,B++),0===I+E+_+O){if(N===B&&(0<L&&(W=W.replace(l,"")),0<W.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(N)}h=59}switch(h){case 123:for(p=(W=W.trim()).charCodeAt(0),g=1,U=++N;N<V;){switch(h=u.charCodeAt(N)){case 123:g++;break;case 125:g--;break;case 47:switch(h=u.charCodeAt(N+1)){case 42:case 47:e:{for(M=N+1;M<B;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&N+2!==M){N=M+1;break e}break;case 10:if(47===h){N=M+1;break e}}N=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;N++<B&&u.charCodeAt(N)!==h;);}if(0===g)break;N++}switch(g=u.substring(U,N),0===p&&(p=(W=W.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(W=W.replace(l,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=x}if(U=(g=e(s,L,g,h,d+1)).length,0<j&&(S=a(3,g,L=t(x,W,F),s,C,T,U,h,d,f),W=L.join(""),void 0!==S&&0===(U=(g=S.trim()).length)&&(h=0,g="")),0<U)switch(h){case 115:W=W.replace(w,i);case 100:case 109:case 45:g=W+"{"+g+"}";break;case 107:g=(W=W.replace(m,"$1 $2"))+"{"+g+"}",g=1===P||2===P&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=W+g,112===f&&(q+=g,g="")}else g="";break;default:g=e(s,t(s,W,F),g,f,d+1)}G+=g,g=F=L=M=p=0,W="",h=u.charCodeAt(++N);break;case 125:case 59:if(1<(U=(W=(0<L?W.replace(l,""):W).trim()).length))switch(0===M&&(p=W.charCodeAt(0),45===p||96<p&&123>p)&&(U=(W=W.replace(" ",":")).length),0<j&&void 0!==(S=a(1,W,s,r,C,T,q.length,f,d,f))&&0===(U=(W=S.trim()).length)&&(W="\0\0"),p=W.charCodeAt(0),h=W.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){H+=W+u.charAt(N);break}default:58!==W.charCodeAt(U-1)&&(q+=n(W,p,h,W.charCodeAt(2)))}F=L=M=p=0,W="",h=u.charCodeAt(++N)}}switch(h){case 13:case 10:47===I?I=0:0===1+p&&107!==f&&0<W.length&&(L=1,W+="\0"),0<j*R&&a(0,W,s,r,C,T,q.length,f,d,f),T=1,C++;break;case 59:case 125:if(0===I+E+_+O){T++;break}default:switch(T++,b=u.charAt(N),h){case 9:case 32:if(0===E+O+I)switch(D){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+I+O&&(L=F=1,b="\f"+b);break;case 108:if(0===E+I+O+A&&0<M)switch(N-M){case 2:112===D&&58===u.charCodeAt(N-3)&&(A=D);case 8:111===k&&(A=k)}break;case 58:0===E+I+O&&(M=N);break;case 44:0===I+_+E+O&&(L=1,b+="\r");break;case 34:case 39:0===I&&(E=E===h?0:0===E?h:E);break;case 91:0===E+I+_&&O++;break;case 93:0===E+I+_&&O--;break;case 41:0===E+I+O&&_--;break;case 40:if(0===E+I+O){if(0===p)switch(2*D+3*k){case 533:break;default:p=1}_++}break;case 64:0===I+_+E+O+M+g&&(g=1);break;case 42:case 47:if(!(0<E+O+_))switch(I){case 0:switch(2*h+3*u.charCodeAt(N+1)){case 235:I=47;break;case 220:U=N,I=42}break;case 42:47===h&&42===D&&U+2!==N&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,N+1)),b="",I=0)}}0===I&&(W+=b)}k=D,D=h,N++}if(0<(U=q.length)){if(L=s,0<j&&(void 0!==(S=a(2,q,L,r,C,T,U,f,d,f))&&0===(q=S).length))return H+q+G;if(q=L.join(",")+"{"+q+"}",0!=P*A){switch(2!==P||o(q,2)||(A=0),A){case 111:q=q.replace(y,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}A=0}}return H+q+G}(x,s,r,0,0);return 0<j&&(void 0!==(u=a(-2,f,s,s,C,T,f.length,0,0,0))&&(f=u)),"",A=0,T=C=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,O=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,P=1,x=[],D=[],j=0,k=null,R=0;return u.use=function e(t){switch(t){case void 0:case null:j=D.length=0;break;default:if("function"==typeof t)D[j++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else R=0|!!t}return e},u.set=s,void 0!==e&&s(e),u};r(65);function i(e){e&&a.current.insert(e+"}")}var a={current:null},s=function(e,t,r,n,o,s,u,c,l,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return a.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return a.current.insert(r[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(i)}};t.default=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new o(t);var u,c={};u=e.container||document.head;var l,f=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){c[e]=!0})),e.parentNode!==u&&u.appendChild(e)})),i.use(e.stylisPlugins)(s),l=function(e,t,r,n){var o=t.name;a.current=r,i(e,t.styles),n&&(d.inserted[o]=!0)};var d={key:r,sheet:new n.a({key:r,container:u,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:l};return d}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,r){"use strict";t.a=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},function(e,t,r){"use strict";t.a=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){var n=r(91),o=r(153);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,n)t[i]=n[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("string"==typeof e&&"number"==typeof t){var s=(0,n.default)(e);return"rgba("+s.red+","+s.green+","+s.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,o.default)(e,t,r):"rgba("+e+","+t+","+r+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,o.default)(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new i.default(7)};var n=a(r(39)),o=a(r(94)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";function n(e){return Math.round(255*e)}function o(e,t,r){return n(e)+","+n(t)+","+n(r)}t.__esModule=!0,t.default=void 0;var i=function(e,t,r,n){if(void 0===n&&(n=o),0===t)return n(r,r,r);var i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*t,s=a*(1-Math.abs(i%2-1)),u=0,c=0,l=0;i>=0&&i<1?(u=a,c=s):i>=1&&i<2?(u=s,c=a):i>=2&&i<3?(c=a,l=s):i>=3&&i<4?(c=s,l=a):i>=4&&i<5?(u=s,l=a):i>=5&&i<6&&(u=a,l=s);var f=r-a/2;return n(u+f,c+f,l+f)};t.default=i,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function e(t,r,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=r?t.apply(this,o):e(t,r,o)}}(e,e.length,[])},e.exports=t.default},function(e,t,r){"use strict";r.r(t),r.d(t,"ThemeProvider",(function(){return m})),r.d(t,"useTheme",(function(){return y})),r.d(t,"withTheme",(function(){return v}));var n=r(142),o=r.n(n),i=r(0),a=r.n(i),s=r(11),u=r(65),c=r(143),l=r.n(c),f=r(30),d=r.n(f);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var h=function(e,t){return"function"==typeof t?t(e):function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)},g=Object(u.a)((function(e){return Object(u.a)((function(t){return h(e,t)}))})),m=function(e){return Object(i.createElement)(s.ThemeContext.Consumer,null,(function(t){return e.theme!==t&&(t=g(t)(e.theme)),Object(i.createElement)(s.ThemeContext.Provider,{value:t},e.children)}))};function v(e){var t=e.displayName||e.name||"Component",r=Object(i.forwardRef)((function(t,r){return Object(i.createElement)(s.ThemeContext.Consumer,null,(function(n){return Object(i.createElement)(e,l()({theme:n,ref:r},t))}))}));return r.displayName="WithTheme("+t+")",d()(r,e)}function y(){return a.a.useContext(s.ThemeContext)}},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var n=Math.max;var o=function(e,t){return t=n(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=n(o.length-t,0),s=Array(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=s,r(e,this,u)}}((function(e,t){return function(e,t,r){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,r)}),t)}(e,1,t)}));e.exports=o},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(261),u=r(12),c=r(3),l=r(47),f=r(48),d=r(15),p=r(111),h=r(19),g=r(9);t.browserHistory=document&&s.createBrowserHistory(),p.listenForMessage(p.ListenMessageType.ChangePage,(function(e){y(e.pageId)})),p.listenForMessage(p.ListenMessageType.ChangeQuery,(function(e){v(e.queryObject)})),t.browserHistory&&t.browserHistory.listen((function(e,t){var r=c.getAppStore().getState().queryObject.asMutable();if(e.pathname!==c.getAppStore().getState().appPath){c.getAppStore().dispatch(u.appPathChanged(e.pathname));var n=d.parseAppPath(e.pathname).pageId;p.postPageChangeMessage(n)}var o=l.parse(e.search);f(r,o)||(c.getAppStore().dispatch(u.queryObjectChanged(o)),p.postQueryChangeMessage(o))}));var m=a.createContext(t.browserHistory);function v(e,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=!1),!h.isDeepEqual(e,c.getAppStore().getState().queryObject)){var o=n?g(e):c.getAppStore().getState().queryObject.merge(e);o=o.without.apply(o,Object.keys(o).filter((function(e){return null===o[e]})));var i=d.createLocation(t.browserHistory.location,"?"+l.stringify(o)),a=t.browserHistory.createHref(i);r?t.browserHistory.replace(a):t.browserHistory.push(a)}}function y(e){d.parseAppPath().pageId!==e&&t.browserHistory.push(d.getPageLinkUrl(e,c.getAppStore().getState().queryObject))}function b(e,t){var r=t.indexes,n=t.ids,o=function(e,t){var r=t.indexes,n=t.ids;if(r)return 1===r.length?e+":"+r[0]:e+":"+r.join("+");if(n)return 1===n.length?e+":"+n[0]:e+":"+n.join("+")}(e,{indexes:r,ids:n}),i=r?c.getAppStore().getState().queryObject.data_index:c.getAppStore().getState().queryObject.data_id,a=[];i&&(a=i.split(","));var s=[],u=!1;a.forEach((function(t){t.split(":")[0]===e?(s.push(o),u=!0):s.push(t)})),!u&&o&&s.push(o),v({data_index:r?s.join(","):null,data_id:n?s.join(","):null},!0)}t.HistoryProvider=function(e){return a.createElement(m.Provider,{value:t.browserHistory},e.children)},t.withHistory=function(e){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r.prototype.render=function(){var t=this;return a.createElement(m.Consumer,null,(function(r){return a.createElement(e,i({},t.props,{history:r}))}))},r.displayName="HistoryComponent("+e.displayName+")",r}(a.PureComponent)},t.changeQueryObject=v,t.replaceQueryObject=function(e,r){void 0===r&&(r=!1);var n=d.createLocation(t.browserHistory.location,"?"+l.stringify(e)),o=t.browserHistory.createHref(n);r?t.browserHistory.replace(o):t.browserHistory.push(o)},t.changePage=y,t.changeView=function(e,t){var r=c.getAppStore().getState().queryObject.views?c.getAppStore().getState().queryObject.views.split(","):[];if(!(r.indexOf(t)>-1))return(r=r.filter((function(t){return c.getAppStore().getState().appConfig.sections[e].views.indexOf(t)<0}))).push(t),v({views:r.join(",")})},t.changeDialog=function(e){return v({dlg:e})},t.changeQueryObjectByDataRecordIds=function(e,t){b(e,{indexes:null,ids:t})},t.changeQueryObjectByDataRecordIndexes=function(e,t){b(e,{indexes:t,ids:null})}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=o.createContext(null);t.RepeatedDataSourceProvider=function(e){var t=e.data,r=e.children;return o.createElement(i.Consumer,null,(function(e){var n=t;return e&&(n=Array.isArray(e)?e.concat(t):[e].concat(t)),o.createElement(i.Provider,{value:n},r)}))},t.RepeatedDataSourceConsumer=i.Consumer,t.withRepeatedDataSource=function(e){function t(t){return o.createElement(i.Consumer,null,(function(r){return o.createElement(e,n({},t,{repeatedDataSource:r}))}))}return t.displayName="RepeatedDataSourceContextConsumerWrapper",t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(29),i=r(6),a={},s={};function u(e){if(s[e])return s[e];var t=[],r=n.default.getInstance().getExtensions(o.ExtensionPoints.DependencyDefine).filter((function(t){return t.getDependencyKey()===e}))[0];r?t=t.concat(r.getResources()):/^http/.test(e)?t.push({url:e}):console.error("Unknown dependency.",e);var u=[];return t.forEach((function(e){a[e.url]?u.push(a[e.url]):u.push(function e(t){if(t.dependencies&&t.dependencies.length>0)return Promise.all(t.dependencies.map((function(t){return e(t)}))).then((function(){return delete t.dependencies,e(t)}));return a[t.url]=i.loadModule(t.url),a[t.url]}(e))})),s[e]=Promise.all(u).then((function(e){}))}t.loadDependency=u,t.loadDependencies=function(e){return e.reduce((function(e,t){return e.then((function(){return u(t)}))}),u(e[0]))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=r(6),s=r(56),u=r(40),c=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._messageManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getWidgetActions=function(e){return this.actions.filter((function(t){return t.widgetId===e}))},e.prototype.getAction=function(e,t){return this.actions.find((function(r){return r.widgetId===e&&r.name===t}))},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.registerWidgetActions=function(e,t){var r=this;if(e.context.isRemote)return Promise.resolve();var n=[];return e.manifest.messageActions&&e.manifest.messageActions.forEach((function(o){var i;i=e.context.isRemote?e.context.folderUrl+"dist/"+o.uri+".js":e.uri+"dist/"+o.uri,n.push(r.registerAction({id:e.id+"-"+o.name,name:o.name,uri:i,widgetId:e.id,appConfig:t,label:e.manifest.i18nMessages["_action_"+o.name+"_label"]||o.label}))})),Promise.all(n)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find((function(t){return t.id===e.id}));if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(n){r=new n({id:e.id,name:e.name,widgetId:e.widgetId,label:e.label});var o=[];n.versionManager&&e.appConfig&&(o=u.getWidgetMessageActionJsons(e.appConfig,e.widgetId,e.name).map((function(r){return t.upgradeActionConfig(r,n.versionManager,e.appConfig.widgets[e.widgetId].manifest.version)})));return Promise.all(o).then((function(){return t.actions.push(r),r}))}))},e.prototype.upgradeActionConfig=function(e,t,r){var n=e.version,o=e.widgetId,i=e.config;return n||(e.version="1.0.0-beta2"),r===n?i:t?s.valid(n)&&s.valid(r)?t.upgrade(i,n,r,e.actionId).then((function(t){e.config=t,e.version=r})):(console.error("Bad widget action config version number, "+o+","+n+","+r),i):i},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]||(this.actionClassPromises[e]=a.loadModule(e).then((function(e){return e.default}))),this.actionClassPromises[e]},e.prototype.publishMessage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,a,s,u,c;return o(this,(function(l){switch(l.label){case 0:for(t=i.getAppStore().getState().appConfig.messageConfigs,r=Object.keys(t),n=null,u=0;u<r.length;u++)if(t[r[u]].messageType===e.type&&t[r[u]].widgetId===e.widgetId){n=t[r[u]];break}if(!n)return[2];a=function(t){var r,i;return o(this,(function(o){switch(o.label){case 0:return r=n.actions[t],(i=s.actions.filter((function(e){return e.widgetId===r.widgetId&&e.name===r.actionName}))[0])?i.filterMessage(e)?[4,s.exeAction(i,e,r.config)]:[2,"break"]:(console.error("Not find action: "+r.actionName),[2,"break"]);case 1:return o.sent()?[2]:[2,{value:void 0}]}}))},s=this,u=0,l.label=1;case 1:return u<n.actions.length?[5,a(u)]:[3,4];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];if("break"===c)return[3,4];l.label=3;case 3:return u++,[3,1];case 4:return[2]}}))}))},e.prototype.exeAction=function(e,t,r){var n=e.onExecute(t,r);return n&&n instanceof Promise?n.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(n)},e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._dataActionManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getSupportedActions=function(e,t){var r=this;void 0===t&&(t=[]);var n=this.actions.map((function(n){return r.testActionSupportData(n,e,t).then((function(e){return{action:n,result:e}}))}));return Promise.all(n).then((function(e){return e.filter((function(e){return e.result})).map((function(e){return e.action}))}))},e.prototype.testActionSupportData=function(e,t,r){var n=e.isSupported(t,r);return n&&n instanceof Promise?n.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(n)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find((function(t){return t.id===e.id}));if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(r){var n=new r({id:e.id,name:e.name,widgetId:e.widgetId});return t.actions.push(n),n}))},e.prototype.registerWidgetActions=function(e){var t=this;return e.uri&&e.manifest.dataActions&&0!==e.manifest.dataActions.length&&!e.context.isRemote?Promise.all(e.manifest.dataActions.asMutable().map((function(r){var n;n=e.context.isRemote?e.context.folderUrl+"dist/"+r.uri+".js":e.uri+"dist/"+r.uri;var o=e.id+"-"+r.name;return t.registerAction({id:o,name:r.name,uri:n,widgetId:e.id,label:e.manifest.i18nMessages["_action_"+r.name+"_label"]||r.label})}))):Promise.resolve([])},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.getActionsByWidgetId=function(e){return this.actions.filter((function(t){return t.widgetId===e}))},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]||(this.actionClassPromises[e]=n.loadModule(e).then((function(e){return e.default}))),this.actionClassPromises[e]},e}();t.default=o},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(33);!function(e){e.StringSelectionChange="STRING_SELECTION_CHANGE",e.ExtentChange="EXTENT_CHANGE",e.DataRecordsSelectionChange="DATA_RECORDS_SELECTION_CHANGE",e.DataRecordSetCreate="DATA_RECORD_SET_CREATE",e.DataRecordSetUpdate="DATA_RECORD_SET_UPDATE",e.SelectDataRecord="SELECT_DATA_RECORD"}(i=t.MessageType||(t.MessageType={})),t.getMessageTypeLabel=function(e,t){return{STRING_SELECTION_CHANGE:t.formatMessage({id:"message_StringSelectionChange",defaultMessage:a.default.message_StringSelectionChange}),EXTENT_CHANGE:t.formatMessage({id:"message_ExtentChange",defaultMessage:a.default.message_ExtentChange}),DATA_RECORDS_SELECTION_CHANGE:t.formatMessage({id:"message_DataRecordsSelectionChange",defaultMessage:a.default.message_DataRecordsSelectionChange}),DATA_RECORD_SET_CREATE:t.formatMessage({id:"message_DataRecordSetCreate",defaultMessage:a.default.message_DataRecordSetCreate}),DATA_RECORD_SET_UPDATE:t.formatMessage({id:"message_DataRecordSetUpdate",defaultMessage:a.default.message_DataRecordSetUpdate}),SELECT_DATA_RECORD:t.formatMessage({id:"message_SelectDataRecord",defaultMessage:a.default.message_SelectDataRecord})}[e]};var s=function(e,t){this.type=i.StringSelectionChange,this.widgetId=e,this.str=t};t.StringSelectionChangeMessage=s;var u=function(e,t){this.type=i.DataRecordsSelectionChange,this.widgetId=e,this.records=t};t.DataRecordsSelectionChangeMessage=u;var c=function(){function e(e,t){this.type=i.ExtentChange,this.widgetId=e,this.extent=t,this.relatedWidgetIds=[]}return e.prototype.setRelatedWidgetIds=function(e){this.relatedWidgetIds=e},e.prototype.getRelatedWidgetIds=function(){return this.relatedWidgetIds},e.prototype.addRelatedWidgetId=function(e){-1===this.relatedWidgetIds.indexOf(e)&&this.relatedWidgetIds.push(e)},e}();t.ExtentChangeMessage=c;var l=function(e,t,r){this.type=i.DataRecordSetCreate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r};t.DataRecordSetCreateMessage=l;var f=function(e,t,r){this.type=i.DataRecordSetUpdate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r};t.DataRecordSetUpdateMessage=f;var d=function(e,t,r){this.type=i.SelectDataRecord,this.widgetId=e,this.dataSourceId=t,this.recordId=r};t.SelectDataRecordMessage=d;var p=function(){function e(e){this.id=e.id,e.name&&(this.name=e.name),e.widgetId&&(this.widgetId=e.widgetId),this.label=e.label}return e.prototype.destroy=function(){},e.prototype.onRemoveListen=function(e,t){},e}();t.AbstractMessageAction=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.filterMessageType=function(e,t){return!0},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){return!0},t}(p);t.DummyMessageAction=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(13));var n=r(216);t.Animation=n.Animation;var o=r(226);t.OneByOneAnimation=o.OneByOneAnimation;var i=r(59);t.useIntersection=i.useIntersection;var a=r(81);t.AnimationContext=a.AnimationContext},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.AnimationContext=n.createContext({isDesignMode:!1,trigger:"",delay:0,setting:null,inheritedOneByOneSetting:null,playId:null,revert:!1,depth:0})},,function(e,t,r){"use strict";r.r(t),r.d(t,"addItemData",(function(){return h})),r.d(t,"addItemRelationship",(function(){return g})),r.d(t,"addItemResource",(function(){return m})),r.d(t,"addItemPart",(function(){return v})),r.d(t,"createFolder",(function(){return y})),r.d(t,"createItemInFolder",(function(){return b})),r.d(t,"createItem",(function(){return w})),r.d(t,"getItem",(function(){return S})),r.d(t,"getItemData",(function(){return O})),r.d(t,"getRelatedItems",(function(){return I})),r.d(t,"getItemResources",(function(){return _})),r.d(t,"getItemGroups",(function(){return E})),r.d(t,"getItemStatus",(function(){return T})),r.d(t,"getItemParts",(function(){return C})),r.d(t,"protectItem",(function(){return A})),r.d(t,"unprotectItem",(function(){return P})),r.d(t,"reassignItem",(function(){return U})),r.d(t,"removeItem",(function(){return V})),r.d(t,"removeItemRelationship",(function(){return B})),r.d(t,"removeItemResource",(function(){return W})),r.d(t,"removeFolder",(function(){return q})),r.d(t,"searchItems",(function(){return $})),r.d(t,"updateItem",(function(){return l})),r.d(t,"updateItemInfo",(function(){return f})),r.d(t,"updateItemResource",(function(){return d})),r.d(t,"moveItem",(function(){return p})),r.d(t,"serializeItem",(function(){return u})),r.d(t,"determineOwner",(function(){return c})),r.d(t,"commitItemUpload",(function(){return K})),r.d(t,"cancelItemUpload",(function(){return Y})),r.d(t,"addGroupUsers",(function(){return J})),r.d(t,"createGroup",(function(){return Z})),r.d(t,"getGroup",(function(){return x})),r.d(t,"getGroupCategorySchema",(function(){return D})),r.d(t,"getGroupContent",(function(){return j})),r.d(t,"getGroupUsers",(function(){return k})),r.d(t,"searchGroupUsers",(function(){return R})),r.d(t,"createGroupNotification",(function(){return ee})),r.d(t,"protectGroup",(function(){return te})),r.d(t,"unprotectGroup",(function(){return re})),r.d(t,"removeGroup",(function(){return ne})),r.d(t,"searchGroups",(function(){return oe})),r.d(t,"searchGroupContent",(function(){return ie})),r.d(t,"updateGroup",(function(){return ae})),r.d(t,"updateUserMemberships",(function(){return se})),r.d(t,"joinGroup",(function(){return ue})),r.d(t,"leaveGroup",(function(){return ce})),r.d(t,"getUser",(function(){return le})),r.d(t,"getUserTags",(function(){return fe})),r.d(t,"getUserUrl",(function(){return de})),r.d(t,"getUserInvitations",(function(){return pe})),r.d(t,"getUserInvitation",(function(){return he})),r.d(t,"acceptInvitation",(function(){return ge})),r.d(t,"declineInvitation",(function(){return me})),r.d(t,"getUserNotifications",(function(){return ve})),r.d(t,"removeNotification",(function(){return ye})),r.d(t,"searchUsers",(function(){return be})),r.d(t,"updateUser",(function(){return we})),r.d(t,"setItemAccess",(function(){return Se})),r.d(t,"shareItemWithGroup",(function(){return Ie})),r.d(t,"unshareItemWithGroup",(function(){return _e})),r.d(t,"isItemSharedWithGroup",(function(){return Ce})),r.d(t,"getSharingUrl",(function(){return M})),r.d(t,"isItemOwner",(function(){return N})),r.d(t,"isOrgAdmin",(function(){return L})),r.d(t,"getUserMembership",(function(){return F})),r.d(t,"getSelf",(function(){return Ae})),r.d(t,"getPortal",(function(){return Pe})),r.d(t,"getPortalSettings",(function(){return xe})),r.d(t,"getPortalUrl",(function(){return s})),r.d(t,"SearchQueryBuilder",(function(){return H}));var n=r(1),o=r(105),i=r(103),a=r(104);function s(e){return void 0===e&&(e={}),e.portal?Object(a.a)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}function u(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!=typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function c(e){return e.owner?Promise.resolve(e.owner):e.item&&e.item.owner?Promise.resolve(e.item.owner):e.authentication&&e.authentication.getUsername?e.authentication.getUsername():Promise.reject(new Error("Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option."))}function l(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=n.a({},e.params,u(e.item)),Object(i.d)(r,e)}))}function f(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/updateinfo";return e.params=n.a({folderName:e.folderName,file:e.file},e.params),Object(i.d)(r,e)}))}function d(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=n.a({file:e.resource,fileName:e.name,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),Object(i.d)(r,e)}))}function p(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",o=e.folderId;return o||(o="/"),e.params=n.a({folder:o},e.params),Object(i.d)(r,e)}))}function h(e){var t=n.a({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,l(t)}function g(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/addRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}))}function m(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=n.a({file:e.resource,fileName:e.name,resourcesPrefix:e.prefix,text:e.content,access:e.private?"private":"inherit"},e.params),Object(i.d)(r,e)}))}function v(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/addPart",a=Object(o.a)(e,["file","partNum"],{params:n.a({},e.params)});return Object(i.d)(r,a)}))}function y(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/createFolder";return e.params=n.a({title:e.title},e.params),Object(i.d)(r,e)}))}function b(e){return e.file&&!e.multipart?Promise.reject(new Error("The request must be a multipart request for file uploading.")):e.multipart&&!e.filename?Promise.reject(new Error("The file name is required for a multipart request.")):c(e).then((function(t){var r=s(e)+"/content/users/"+t,a=r+"/addItem";e.folderId&&(a=r+"/"+e.folderId+"/addItem"),e.params=n.a({},e.params,u(e.item));var c=Object(o.a)(e,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:n.a({},e.params)});return Object(i.d)(a,c)}))}function w(e){return b(n.a({folderId:null},e))}function S(e,t){var r=s(t)+"/content/items/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function O(e,t){var r=s(t)+"/content/items/"+e+"/data",o=n.a({httpMethod:"GET",params:{}},t);return o.file&&(o.params.f=null),Object(i.d)(r,o).catch((function(e){if(!RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i).test(e.message))throw e}))}function I(e){var t=s(e)+"/content/items/"+e.id+"/relatedItems",r=n.a({httpMethod:"GET",params:{direction:e.direction}},e);return"string"==typeof e.relationshipType?r.params.relationshipType=e.relationshipType:r.params.relationshipTypes=e.relationshipType,delete r.direction,delete r.relationshipType,Object(i.d)(t,r)}function _(e,t){var r=s(t)+"/content/items/"+e+"/resources",o=n.a({},t);return o.params=n.a({num:1e3},o.params),Object(i.d)(r,o)}function E(e,t){var r=s(t)+"/content/items/"+e+"/groups";return Object(i.d)(r,t)}function T(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/status",a=Object(o.a)(e,["jobId","jobType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}))}function C(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/parts";return Object(i.d)(r,e)}))}function A(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/protect";return Object(i.d)(r,e)}))}function P(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect";return Object(i.d)(r,e)}))}function x(e,t){var r=s(t)+"/community/groups/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function D(e,t){var r=s(t)+"/community/groups/"+e+"/categorySchema",o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function j(e,t){var r=s(t)+"/content/groups/"+e,o=n.a({httpMethod:"GET"},{params:{start:1,num:100}},t);return t&&t.paging&&(o.params=n.a({},t.paging)),Object(i.d)(r,o)}function k(e,t){var r=s(t)+"/community/groups/"+e+"/users",o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function R(e,t){var r=s(t)+"/community/groups/"+e+"/userlist",n=Object(o.a)(t||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return Object(i.d)(r,n)}function M(e){var t=e.authentication.username,r=e.owner||t;return s(e)+"/content/users/"+encodeURIComponent(r)+"/items/"+e.id+"/share"}function N(e){var t=e.authentication.username;return(e.owner||t)===t}function L(e){return e.authentication.getUser(e).then((function(e){return!(!e||"org_admin"!==e.role)}))}function F(e){return x(e.groupId,e).then((function(e){return e.userMembership.memberType})).catch((function(){return"none"}))}function U(e){return L(e).then((function(t){if(!t)throw Error("Item "+e.id+" can not be reassigned because current user is not an organization administrator.");var r=s(e)+"/content/users/"+e.currentOwner+"/items/"+e.id+"/reassign",n={params:{targetUsername:e.targetUsername,targetFolderName:e.targetFolderName},authentication:e.authentication};return Object(i.d)(r,n)}))}function V(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/delete";return Object(i.d)(r,e)}))}function B(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/removeRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}))}function W(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=n.a({},e.params,{resource:e.resource}),Object(i.d)(r,e)}))}function q(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete";return Object(i.d)(r,e)}))}var G=r(61),H=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(Object(G.a)(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(Object(G.a)("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(Object(G.a)("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(Object(G.a)("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(Object(G.a)("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(Object(G.a)("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!0,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(Object(G.a)("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&Object(G.a)("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}();function z(e,t){var r,n,a;switch(n="string"==typeof e||e instanceof H?{httpMethod:"GET",params:{q:e}}:Object(o.a)(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}),t){case"item":a="/search";break;case"group":a="/community/groups";break;case"groupContent":if("string"==typeof e||e instanceof H||!e.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));a="/content/groups/"+e.groupId+"/search";break;default:a="/portals/self/users/search"}return r=s(n)+a,Object(i.d)(r,n).then((function(r){return r.nextStart&&-1!==r.nextStart&&(r.nextPage=function(){var n;return"string"==typeof e||e instanceof H?n={q:e,start:r.nextStart}:(n=e).start=r.nextStart,z(n,t)}),r}))}function $(e){return z(e,"item")}function K(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/commit";return Object(i.d)(r,e)}))}function Y(e){return c(e).then((function(t){var r=s(e)+"/content/users/"+t+"/items/"+e.id+"/cancel";return Object(i.d)(r,e)}))}function J(e){var t=e.id,r=s(e)+"/community/groups/"+t+"/addUsers",n=Object.assign({},e,{admins:void 0,users:void 0}),o=X("users",e.users,n).concat(X("admins",e.admins,n)).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(r,e)}));return Promise.all(o).then(Q)}function X(e,t,r){return!t||t.length<1?[]:function(e,t){if(0===e.length)return[];for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}(t,25).map((function(t){return function(e,t,r){var o,i;return Object.assign({},r,((o={})[e]=t,o.params=n.a({},r.params,((i={})[e]=t,i)),o))}(e,t,r)}))}function Q(e){var t=e.filter((function(e){return e.notAdded})).reduce((function(e,t){return e.concat(t.notAdded)}),[]),r=e.filter((function(e){return e.errors})).reduce((function(e,t){return e.concat(t.errors)}),[]),n={notAdded:t};return r.length>0&&(n.errors=r),n}function Z(e){var t=s(e)+"/community/createGroup";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function ee(e){var t=s(e)+"/community/groups/"+e.id+"/createNotification",r=n.a({params:n.a({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e);return Object(i.d)(t,r)}function te(e){var t=s(e)+"/community/groups/"+e.id+"/protect";return Object(i.d)(t,e)}function re(e){var t=s(e)+"/community/groups/"+e.id+"/unprotect";return Object(i.d)(t,e)}function ne(e){var t=s(e)+"/community/groups/"+e.id+"/delete",r=n.a({},e);return Object(i.d)(t,r)}function oe(e){return z(e,"group")}function ie(e){return z(e,"groupContent")}function ae(e){var t=s(e)+"/community/groups/"+e.group.id+"/update";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function se(e){var t=s(e)+"/community/groups/"+e.id+"/updateUsers",r={authentication:e.authentication,params:{}};return"admin"===e.newMemberType?r.params.admins=e.users:r.params.users=e.users,Object(i.d)(t,r)}function ue(e){var t=s(e)+"/community/groups/"+e.id+"/join";return Object(i.d)(t,e)}function ce(e){var t=s(e)+"/community/groups/"+e.id+"/leave";return Object(i.d)(t,e)}function le(e){var t,r={httpMethod:"GET"};if("string"==typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var o=e.username||e.authentication.username;t=s(e)+"/community/users/"+encodeURIComponent(o),r=n.a({},e,r)}return Object(i.d)(t,r)}function fe(e){var t=e.username||e.authentication.username,r=s(e)+"/community/users/"+encodeURIComponent(t)+"/tags";return Object(i.d)(r,e)}function de(e){return s(e)+"/community/users/"+encodeURIComponent(e.username)}function pe(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/invitations";return t=n.a({},e,t),Object(i.d)(o,t)}function he(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId,o={httpMethod:"GET"};return o=n.a({},e,o),Object(i.d)(r,o)}function ge(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o=n.a({},e);return Object(i.d)(r,o)}function me(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o=n.a({},e);return Object(i.d)(r,o)}function ve(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/notifications";return t=n.a({},e,t),Object(i.d)(o,t)}function ye(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete";return Object(i.d)(r,e)}function be(e){return z(e,"user")}function we(e){var t=e.user.username||e.authentication.username,r=s(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=n.a({},e.user,e.params),delete e.user,Object(i.d)(r,e)}function Se(e){var t=M(e);return N(e)?Oe(t,e):L(e).then((function(r){if(r)return Oe(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")}))}function Oe(e,t){return t.params=n.a({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.account=!0,t.params.everyone=!0),Object(i.d)(e,t)}function Ie(e){return Ee(n.a({action:"share"},e))}function _e(e){return Ee(n.a({action:"unshare"},e))}function Ee(e){var t=e.authentication.username,r=e.owner||t,n=e.confirmItemControl||!1;return le({username:t,authentication:e.authentication}).then((function(o){var i="org_admin"===o.role,a="share"===e.action?"notSharedWith":"notUnsharedFrom";return Ce(e).then((function(s){if("share"===e.action&&!0===s||"unshare"===e.action&&!1===s){var u={itemId:e.id,shortcut:!0};return u[a]=[],u}return F(e).then((function(a){if("none"===a&&!i)throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".");if(n&&r!==t&&!i)throw Error("This item can not be "+e.action+"d to shared editing group "+e.groupId+" by "+t+" as they not the item owner.");if("unshare"===e.action&&r!==t&&"admin"!==a&&"owner"!==a)throw Error("This item can not be "+e.action+"d from group "+e.groupId+" by "+t+" as they not the item owner, group admin or group owner.");if("share"===e.action&&n&&r!==t&&i)return function(e,t){var r=t.owner;return le({username:r,authentication:t.authentication}).then((function(n){if(e.orgId!==n.orgId)throw Error("User "+r+" is not a member of the same org as "+e.username+". Consequently they can not be added added to group "+t.groupId+" nor can item "+t.id+" be shared to the group.");var o=n.groups||[],i=o.find((function(e){return e.id===t.groupId}));if(!i&&o.length>511)throw Error("User "+r+" already has 512 groups, and can not be added to group "+t.groupId+". Consequently item "+t.id+" can not be shared to the group.");return i?"member"===i.userMembership.memberType?se({id:t.groupId,users:[r],newMemberType:"admin",authentication:t.authentication}).then((function(e){return{notAdded:e.results.reduce((function(e,t){return t.success||e.push(t.username),e}),[])}})):{notAdded:[]}:J({id:t.groupId,admins:[r],authentication:t.authentication})})).then((function(e){if(e.notAdded.length)throw Error("Error adding user "+r+" to group "+t.groupId+". Consequently item "+t.id+" was not shared to the group.");return Te(t)}))}(o,e);if("none"!==a)return Te(e);throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".")})).then((function(t){if(t[a].length)throw Error("Item "+e.id+" could not be "+e.action+"d to group "+e.groupId+".");return t}))}))}))}function Te(e){var t=e.authentication.username,r=e.owner||t,n=s(e)+"/content/items/"+e.id+"/"+e.action;return r===t&&(n=s(e)+"/content/users/"+r+"/items/"+e.id+"/"+e.action),e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},Object(i.d)(n,e)}function Ce(e){return $({q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title",authentication:e.authentication,httpMethod:"POST"}).then((function(t){if(t.total>0)return t.results.some((function(t){return t.id===e.id}))}))}function Ae(e){return Pe(null,e)}function Pe(e,t){var r=e||"self",o=s(t)+"/portals/"+r,a=n.a({httpMethod:"GET"},t);return Object(i.d)(o,a)}function xe(e,t){var r=e||"self",o=s(t)+"/portals/"+r+"/settings",a=n.a({httpMethod:"GET"},t);return Object(i.d)(o,a)}},function(e,t,r){"use strict";e.exports=r(147)},function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return i})),r.d(t,"applyMiddleware",(function(){return m})),r.d(t,"bindActionCreators",(function(){return f})),r.d(t,"combineReducers",(function(){return c})),r.d(t,"compose",(function(){return g})),r.d(t,"createStore",(function(){return s}));var n=r(87),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var o;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var r=f.indexOf(e);f.splice(r,1),l=null}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,c=u(c,e)}finally{d=!1}for(var t=l=f,r=0;r<t.length;r++){(0,t[r])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:i.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[n.a]=y,o}function u(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var a,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,o={},i=0;i<s.length;i++){var c=s[i],l=r[c],f=e[c],d=l(f,t);if(void 0===d){var p=u(c,t);throw new Error(p)}o[c]=d,n=n||d!==f}return(n=n||s.length!==Object.keys(e).length)?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=l(o,t))}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return h({},r,{dispatch:n=g.apply(void 0,i)(r.dispatch)})}}}},function(e,t,r){"use strict";r.r(t),function(e){var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}())}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function a(){r&&(r=!1,e()),n&&u()}function s(){i(a)}function u(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(s,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;a.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=v(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+d(e["border-"+r+"-width"])}),0)}function h(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return f;var n=l(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=d(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=d(n.width),u=d(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=p(n,"left","right")+i),Math.round(u+a)!==r&&(u-=p(n,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(s+i)-t,h=Math.round(u+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(h)&&(u-=h)}return v(o.left,o.top,s,u)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return n?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):f}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var r,n,o,i,a,s,u,l=(n=(r=t).x,o=r.y,i=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),c(u,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),u);c(this,{target:e,contentRect:l})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new r,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=u.getInstance(),n=new w(t,r,this);S.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));var I=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.default=I}.call(this,r(28))},function(e,t,r){"use strict";(function(e,n){var o,i=r(138);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(28),r(148)(e))},,function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(67).FilterCSS,o=r(67).getDefaultWhiteList,i=r(68);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new n;function u(e){return e.replace(c,"&lt;").replace(l,"&gt;")}var c=/</g,l=/>/g,f=/"/g,d=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(f,"&quot;")}function w(e){return e.replace(d,'"')}function S(e){return e.replace(p,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function O(e){return e.replace(h,":").replace(g," ")}function I(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return i.trim(t)}function _(e){return e=I(e=O(e=S(e=w(e))))}function E(e){return e=u(e=b(e))}var T=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,r){},t.onIgnoreTag=function(e,t,r){},t.onTagAttr=function(e,t,r){},t.onIgnoreTagAttr=function(e,t,r){},t.safeAttrValue=function(e,t,r,n){if(r=_(r),"href"===t||"src"===t){if("#"===(r=i.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(r))return""}else if("style"===t){if(v.lastIndex=0,v.test(r))return"";if(y.lastIndex=0,y.test(r)&&(m.lastIndex=0,m.test(r)))return"";!1!==n&&(r=(n=n||s).process(r))}return r=E(r)},t.escapeHtml=u,t.escapeQuote=b,t.unescapeQuote=w,t.escapeHtmlEntities=S,t.escapeDangerHtml5Entities=O,t.clearNonPrintableCharacter=I,t.friendlyAttrValue=_,t.escapeAttrValue=E,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!r||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var c="[/removed]",l=u.position+c.length;return n.push([!1!==o?o:u.position,l]),o=!1,c}return o||(o=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",r=0;return i.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},t.stripCommentTag=function(e){return e.replace(T,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=o},function(e,t){function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,r){var n=r(68);function o(e){var t=n.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=n.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function u(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,r){var n="",a=0,s=!1,u=!1,c=0,l=e.length,f="",d="";for(c=0;c<l;c++){var p=e.charAt(c);if(!1===s){if("<"===p){s=c;continue}}else if(!1===u){if("<"===p){n+=r(e.slice(a,c)),s=c,a=c;continue}if(">"===p){n+=r(e.slice(a,s)),f=o(d=e.slice(s,c+1)),n+=t(s,n.length,f,d,i(d)),a=c+1,s=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(c-1)){u=p;continue}}else if(p===u){u=!1;continue}}return a<e.length&&(n+=r(e.substr(a))),n},t.parseAttr=function(e,t){var r=0,o=[],i=!1,l=e.length;function f(e,r){if(!((e=(e=n.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&o.push(i)}}for(var d=0;d<l;d++){var p,h=e.charAt(d);if(!1!==i||"="!==h)if(!1===i||d!==r||'"'!==h&&"'"!==h||"="!==e.charAt(d-1))if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(p=s(e,d))){f(n.trim(e.slice(r,d))),i=!1,r=d+1;continue}d=p-1;continue}if(-1===(p=u(e,d-1))){f(i,c(n.trim(e.slice(r,d)))),i=!1,r=d+1;continue}}else;else{if(-1===(p=e.indexOf(h,d+1)))break;f(i,n.trim(e.slice(r+1,p))),i=!1,r=(d=p)+1}else i=e.slice(r,d),r=d+1}return r<e.length&&(!1===i?f(e.slice(r)):f(i,c(n.trim(e.slice(r))))),n.trim(o.join(" "))}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)("#"+(0,o.default)(e)+(0,o.default)(t)+(0,o.default)(r));if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)("#"+(0,o.default)(e.red)+(0,o.default)(e.green)+(0,o.default)(e.blue));throw new i.default(6)};var n=a(r(95)),o=a(r(96)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var o=(0,n(r(157)).default)("rem");t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var r=e.match(n);if(t)return r?[parseFloat(e),r[2]]:[e,void 0];return r?parseFloat(e):e};var n=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t,r){return Math.max(e,Math.min(t,r))};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)((0,n.default)(e))};var n=i(r(39)),o=i(r(162));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e)throw new s.default(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return(0,a.default)(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return(0,i.default)(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return(0,o.default)(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return(0,n.default)(e);throw new s.default(8)};var n=u(r(163)),o=u(r(164)),i=u(r(94)),a=u(r(69)),s=u(r(18));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(70)),o=a(r(95)),i=a(r(96));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,i.default)(Math.round(255*e))}function u(e,t,r){return(0,o.default)("#"+s(e)+s(t)+s(r))}var c=function(e,t,r){return(0,n.default)(e,t,r,u)};t.default=c,e.exports=t.default},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return h}));var n=r(1),o=r(62),i=r(38),a=r(25),s=r(31),u=r(61),c="@esri/arcgis-rest-js",l={httpMethod:"POST",params:{f:"json"}};function f(e,t){e.authentication&&!t&&Object(u.a)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),l=e}var d=function(e){function t(t,r,n,o,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var a=e.call(this,t,r,n,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,a}return n.b(t,e),t.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var o=0,i=function(a,s){e(r.url,r.options).then((function(e){var t=n.a({},r.options,{authentication:e});return o+=1,h(r.url,t)})).then((function(e){a(e)})).catch((function(e){"ArcGISAuthError"===e.name&&o<t?i(a,s):"ArcGISAuthError"===e.name&&o>=t?s(r):s(e)}))};return new Promise((function(e,t){i(e,t)}))},t}(s.a);function p(e,t,r,n,o){if(e.code>=400){var i=e.message,a=e.code;throw new s.a(i,a,e,t,n)}if(e.error){var u=e.error,c=(i=u.message,a=u.code,u.messageCode),l=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c||400===a&&"Unable to generate token."===i)throw o||new d(i,l,e,t,n);throw new s.a(i,l,e,t,n)}if("failed"===e.status||"failure"===e.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new s.a(i,a,e,t,n)}return e}function h(e,t){void 0===t&&(t={params:{f:"json"}});var r=n.a({httpMethod:"POST"},l,t,{params:n.a({},l.params,t.params),headers:n.a({},l.headers,t.headers)}),u=[],f=[];if(r.fetch||"undefined"==typeof fetch?(u.push("`fetch`"),f.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(u.push("`Promise`"),f.push("`es6-promise`")),"undefined"==typeof FormData&&(u.push("`FormData`"),f.push("`isomorphic-form-data`")),!r.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+u.join(", ")+". We recommend installing the "+f.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var d=r.httpMethod,h=r.authentication,g=r.rawResponse,m=n.a({f:"json"},r.params),v=null,y={method:d,credentials:"same-origin"};return(h?h.getToken(e,{fetch:r.fetch}).catch((function(t){return t.url=e,t.options=r,v=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(m.token=t);var s={};if("GET"===y.method){m.token&&r.hideToken&&(s["X-Esri-Authorization"]="Bearer "+m.token,delete m.token);var u=""===Object(i.b)(m)?e:e+"?"+Object(i.b)(m);r.maxUrlLength&&u.length>r.maxUrlLength?(y.method="POST",t.length&&r.hideToken&&(m.token=t,delete s["X-Esri-Authorization"])):e=u}var l=new RegExp("/items/.+/updateResources").test(e);return"POST"===y.method&&(y.body=Object(o.a)(m,l)),y.headers=n.a({},s,r.headers),"undefined"!=typeof window||y.headers.referer||(y.headers.referer=c),Object(a.b)(m)||l||(y.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,y)})).then((function(t){if(!t.ok){var n=t.status,o=t.statusText;throw new s.a(o,"HTTP "+n,t,e,r)}if(g)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==m.f&&"geojson"!==m.f||g)return t;var n=p(t,e,0,r,v);if(v){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},v=null}return n}))}},function(e,t,r){"use strict";function n(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1);function o(e,t,r){var o=n.a({params:{}},r,e);return o.params=t.reduce((function(t,r){return(e[r]||"boolean"==typeof e[r])&&(t[r]=e[r]),t}),o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return o[t]&&(e[t]=o[t]),e}),{})}},function(e,t,r){(function(t){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/,o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")();var d,p=Array.prototype,h=Function.prototype,g=Object.prototype,m=f["__core-js_shared__"],v=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",y=h.toString,b=g.hasOwnProperty,w=g.toString,S=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=f.Symbol,I=p.splice,_=N(f,"Map"),E=N(Object,"create"),T=O?O.prototype:void 0,C=T?T.toString:void 0;function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e,t,r){var n=e[t];b.call(e,t)&&B(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function j(e,t){for(var r=e.length;r--;)if(B(e[r][0],t))return r;return-1}function k(e){return!(!q(e)||(t=e,v&&v in t))&&(function(e){var t=q(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:s).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function R(e,t,o,i){if(!q(e))return e;for(var a=-1,s=(t=function(e,t){if(W(e))return!1;var o=typeof e;if("number"==o||"symbol"==o||"boolean"==o||null==e||G(e))return!0;return n.test(e)||!r.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return W(e)?e:F(e)}(t)).length,u=s-1,c=e;null!=c&&++a<s;){var l=U(t[a]),f=o;if(a!=u){var d=c[l];void 0===(f=i?i(d,l,c):void 0)&&(f=q(d)?d:L(t[a+1])?[]:{})}D(c,l,f),c=c[l]}return e}function M(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function N(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return k(r)?r:void 0}function L(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}A.prototype.clear=function(){this.__data__=E?E(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(E){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return b.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:b.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?"__lodash_hash_undefined__":t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,r=j(t,e);return!(r<0)&&(r==t.length-1?t.pop():I.call(t,r,1),!0)},P.prototype.get=function(e){var t=this.__data__,r=j(t,e);return r<0?void 0:t[r][1]},P.prototype.has=function(e){return j(this.__data__,e)>-1},P.prototype.set=function(e,t){var r=this.__data__,n=j(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new A,map:new(_||P),string:new A}},x.prototype.delete=function(e){return M(this,e).delete(e)},x.prototype.get=function(e){return M(this,e).get(e)},x.prototype.has=function(e){return M(this,e).has(e)},x.prototype.set=function(e,t){return M(this,e).set(e,t),this};var F=V((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(G(e))return C?C.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return o.test(e)&&r.push(""),e.replace(i,(function(e,t,n,o){r.push(n?o.replace(a,"$1"):t||e)})),r}));function U(e){if("string"==typeof e||G(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(V.Cache||x),r}function B(e,t){return e===t||e!=e&&t!=t}V.Cache=x;var W=Array.isArray;function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function G(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==w.call(e)}e.exports=function(e,t,r){return null==e?e:R(e,t,r)}}).call(this,r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.White="white",e.Black="black",e.Transparent="transparent"}(t.ThemeCommonColorKeys||(t.ThemeCommonColorKeys={})),function(e){e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(t.ThemeThemeAlertColorKeys||(t.ThemeThemeAlertColorKeys={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark"}(t.ThemeThemeMainColorKeys||(t.ThemeThemeMainColorKeys={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark",e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(t.ThemeThemeColorKeys||(t.ThemeThemeColorKeys={})),function(e){e.Color="color",e.Background="bg",e.Border="border",e.BorderRadius="borderRadius",e.Shadow="shadow"}(t.ThemeBoxStyleKeys||(t.ThemeBoxStyleKeys={})),t.COMPONENT_CATEGORIES={navigation:["nav","pagination","slider","navButtonGroup"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STYLIS_PROPERTY_CONTEXT=void 0;var n,o=r(179),i=(n=o)&&n.__esModule?n:{default:n};var a=t.STYLIS_PROPERTY_CONTEXT=1;t.default=function(e,t){if(e===a)return i.default.transform(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",ControlLeft:"control",ControlRight:"control"};t.default=function(e){return"code"in e?!!n[e.code]:16===e.which||17===e.which||18===e.which||91===e.which}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=[/\.arcgis\.com$/];function a(e){if(window&&window.parent&&window.parent!==window){var t=window.parent;try{if(t.jimuConfig&&t.jimuConfig.isBuilder)return}catch(e){}t.postMessage(e,window.location.origin)}}function s(e,t){return function(r){var n;if((n=r.origin,window&&window.location.origin===n||i.some((function(e){return e.test(n)})))&&(r.data&&!(Object.keys(o).map((function(e){return o[e]})).indexOf(r.data.type)<0))){var a=r.data;a.type===e&&t(a)}}}function u(e,t){if(window&&window.addEventListener){var r=s(e,t);return window.addEventListener("message",r,!1),r}}function c(e){window&&window.removeEventListener("message",e)}!function(e){e.JimuPageChanged="JIMU_PAGE_CHANGED",e.JimuQueryChanged="JIMU_QUERY_CHANGED"}(n=t.PostMessageType||(t.PostMessageType={})),function(e){e.ChangePage="CHANGE_PAGE",e.ChangeQuery="CHANGE_QUERY",e.HostAuth="HOST_AUTH"}(o=t.ListenMessageType||(t.ListenMessageType={})),t.postPageChangeMessage=function(e){a({type:n.JimuPageChanged,pageId:e})},t.postQueryChangeMessage=function(e){a({type:n.JimuQueryChanged,queryObject:e})},t.postMessage=a,t.listenForMessage=u,t.listenForMessageOnce=function(e){return window?new Promise((function(t){var r=u(e,(function(e){c(r),t(e)}))})):Promise.resolve(null)},t.removeMessageListener=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(113),i=r(21),a=r(3),s=r(20),u=r(4),c=function(){function e(){this.servicesInfo={},this.servicesInfoPromise={},this.arcGISServerInfoPromise={}}return e.getInstance=function(){if(window.jimuConfig&&window.jimuConfig.isBuilder){if(window._appWindow&&window._appWindow._serviceManager)return window._appWindow._serviceManager;console.error("No window._appWindow._serviceDefinitionManager.")}return e.instance||(e.instance=new e),e.instance},e.prototype.getServiceInfo=function(e){return this.servicesInfo[e]},e.prototype.setServiceInfo=function(e,t){this.servicesInfo[e]=t},e.prototype.fetchServiceInfo=function(e){var t=this;return this.getServiceInfo(e)?Promise.resolve(this.getServiceInfo(e)):(this.servicesInfoPromise[e]||(this.servicesInfoPromise[e]=this.isHostedServiceInSamePortal(e).then((function(t){return o.requestWrapper(e,(function(r){return n.request(e,{authentication:r,httpMethod:"GET"}).then((function(e){return{definition:e,isHostedInSamePortal:t}}))}))})).then((function(r){return t.servicesInfo[e]=r,r}))),this.servicesInfoPromise[e])},e.prototype.isHostedServiceInSamePortal=function(e){return this.fetchArcGISServerInfo(e).then((function(t){return(null==t?void 0:t.owningSystemUrl)?!(!/https?:\/\/(www|services)\.arcgis\.com/.test(t.owningSystemUrl)||!/maps\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||(!(!/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsdevext\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||(!(!/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsqa\.arcgis\.com\/?$/.test(a.getAppStore().getState().portalUrl))||s.isSamePortalUrl(a.getAppStore().getState().portalUrl,t.owningSystemUrl))):!!i.default.getInstance().getSessionByUrl(e)}))},e.prototype.fetchArcGISServerInfo=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];if(!t)return Promise.resolve(null);var r=t+"/rest/info";return this.arcGISServerInfoPromise[r]||(this.arcGISServerInfoPromise[r]=n.request(r,{httpMethod:"GET"})),this.arcGISServerInfoPromise[r]},e.prototype.isHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?n.request(t+"/rest/info",{httpMethod:"GET"}).then((function(e){return!!e.owningSystemUrl})):Promise.resolve(!1)},e.prototype.fetchChildLayerDefinitionsFromUrls=function(e){var t=this;return Promise.all(e.map((function(e){return t.fetchServiceInfo(e).then((function(e){return e.definition}))}))).then((function(t){var r,n={};return t.forEach((function(t,o){r=e[o],n[r]=t})),n})).then((function(e){var r=Object.keys(e).map((function(t){return e[t]})),n=t._getAllChildLayerIdsOfGroupLayer(r),o={};return Object.keys(e).forEach((function(t){n.some((function(r){var n;return r===""+(null===(n=e[t])||void 0===n?void 0:n.id)}))||(o[t]=e[t])})),o}))},e.prototype._getAllChildLayerIdsOfGroupLayer=function(e){if(!e||0===e.length)return[];var t=e.filter((function(e){return e.type===u.SupportedLayerServiceTypes.GroupLayer}));return this._getChildLayerIdsFromGroupLayerDefinitions(t)},e.prototype._getChildLayerIdsFromGroupLayerDefinitions=function(e){return 0===e.length?[]:Array.prototype.concat.apply([],e.map((function(e){return(null==e?void 0:e.subLayers.map((function(e){return""+e.id})))||[]})))},e}();t.default=c,window.jimuConfig&&!window.jimuConfig.isBuilder&&(window._serviceManager=c.getInstance())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21);t.requestWrapper=function(e,t,r){void 0===r&&(r=1);var o=function(e,i){return void 0===i&&(i=0),t(e).catch((function(t){if(i>r)throw t;var a=t.options;return"ArcGISAuthError"!==t.name||!a||a.authentication&&498!==t.code&&"AUTHENTICATION_ERROR_CODE"!==t.code&&"GWM_0003"!==t.code?o(e,i+1):n.default.getInstance().signIn(window.location&&window.location.href,!0,t.url).then((function(e){return o(e,i+1)}))}))};return o(n.default.getInstance().getSessionByUrl(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.All="ALL",e.Simple="SIMPLE"}(t.SqlExpressionMode||(t.SqlExpressionMode={})),function(e){e.And="AND",e.Or="OR"}(t.ClauseLogic||(t.ClauseLogic={})),function(e){e.None="NONE",e.Previous="PREVIOUS",e.All="ALL"}(t.ClauseCascade||(t.ClauseCascade={})),function(e){e.StringOperatorIs="STRING_OPERATOR_IS",e.StringOperatorIsNot="STRING_OPERATOR_IS_NOT",e.StringOperatorContains="STRING_OPERATOR_CONTAINS",e.StringOperatorDoesNotContain="STRING_OPERATOR_DOES_NOT_CONTAIN",e.StringOperatorStartsWith="STRING_OPERATOR_STARTS_WITH",e.StringOperatorEndsWith="STRING_OPERATOR_ENDS_WITH",e.StringOperatorIsAnyOf="STRING_OPERATOR_IS_ANY_OF",e.StringOperatorIsNoneOf="STRING_OPERATOR_IS_NONE_OF",e.StringOperatorIsBlank="STRING_OPERATOR_IS_BLANK",e.StringOperatorIsNotBlank="STRING_OPERATOR_IS_NOT_BLANK",e.NumberOperatorIs="NUMBER_OPERATOR_IS",e.NumberOperatorIsNot="NUMBER_OPERATOR_IS_NOT",e.NumberOperatorIsAtLeast="NUMBER_OPERATOR_IS_AT_LEAST",e.NumberOperatorIsAtMost="NUMBER_OPERATOR_IS_AT_MOST",e.NumberOperatorIsLessThan="NUMBER_OPERATOR_IS_LESS_THAN",e.NumberOperatorIsGreaterThan="NUMBER_OPERATOR_IS_GREATER_THAN",e.NumberOperatorIsBetween="NUMBER_OPERATOR_IS_BETWEEN",e.NumberOperatorIsNotBetween="NUMBER_OPERATOR_IS_NOT_BETWEEN",e.NumberOperatorIsAnyOf="NUMBER_OPERATOR_IS_ANY_OF",e.NumberOperatorIsNoneOf="NUMBER_OPERATOR_IS_NONE_OF",e.NumberOperatorIsBlank="NUMBER_OPERATOR_IS_BLANK",e.NumberOperatorIsNotBlank="NUMBER_OPERATOR_IS_NOT_BLANK",e.DateOperatorIsOn="DATE_OPERATOR_IS_ON",e.DateOperatorIsNotOn="DATE_OPERATOR_IS_NOT_ON",e.DateOperatorIsIn="DATE_OPERATOR_IS_IN",e.DateOperatorIsNotIn="DATE_OPERATOR_IS_NOT_IN",e.DateOperatorIsBefore="DATE_OPERATOR_IS_BEFORE",e.DateOperatorIsAfter="DATE_OPERATOR_IS_AFTER",e.DateOperatorIsOnOrBefore="DATE_OPERATOR_IS_ON_OR_BEFORE",e.DateOperatorIsOnOrAfter="DATE_OPERATOR_IS_ON_OR_AFTER",e.DateOperatorIsInTheLast="DATE_OPERATOR_IS_IN_THE_LAST",e.DateOperatorIsNotInTheLast="DATE_OPERATOR_IS_NOT_IN_THE_LAST",e.DateOperatorIsBetween="DATE_OPERATOR_IS_BETWEEN",e.DateOperatorIsNotBetween="DATE_OPERATOR_IS_NOT_BETWEEN",e.DateOperatorIsBlank="DATE_OPERATOR_IS_BLANK",e.DateOperatorIsNotBlank="DATE_OPERATOR_IS_NOT_BLANK"}(t.ClauseOperator||(t.ClauseOperator={})),function(e){e.UserInput="USER_INPUT",e.Field="FIELD",e.SingleSelectFromUnique="UNIQUE",e.MultipleSelectFromUnique="MULTIPLE"}(t.ClauseSourceType||(t.ClauseSourceType={})),function(e){e.Single="SINGLE",e.Set="SET"}(t.ClauseType||(t.ClauseType={})),function(e){e.Inline="INLINE",e.Block="BLOCK"}(t.ClauseLabelDisplay||(t.ClauseLabelDisplay={})),function(e){e.None="NONE",e.UseAskForValue="USE_ASK_FOR_VALUE",e.UseLabel="USE_LABEL"}(t.ClauseDisplayType||(t.ClauseDisplayType={})),function(e){e.Asc="ASC",e.Desc="DESC"}(t.OrderRule||(t.OrderRule={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);function o(e){var r=t.ESRI_DATE_FORMAT_MAP[e];return r||(console.warn("Invalid data format "+e),null)}function i(e,r,n,o){if(!e)return"";if("number"==typeof e&&(e=new Date(e)),!n&&!o)return r.formatDate(e);var i=a(e,n,r);if(o){var u=s(e,o,r),c=r.locale||"en";i=i+(t.DATE_TIME_CONNECTOR[c]||t.DATE_TIME_CONNECTOR.common)+u}return i}function a(e,t,r){if(!e)return null;var n={};if(t.indexOf("y")>=0&&(n.year="numeric"),t.indexOf("MMMM")>=0?n.month="long":t.indexOf("MMM")>=0?n.month="short":t.indexOf("MM")>=0?n.month="2-digit":t.indexOf("M")>=0&&(n.month="numeric"),t.indexOf("d")>=0&&(n.day="numeric"),t.indexOf("EEEE")>=0&&(n.weekday="long"),0!==Object.keys(n).length)return r.formatDate(e,n);console.warn("Invalid date pattern "+t)}function s(e,t,r){if(!e)return null;var n={};if(t.toLowerCase().indexOf("h")>=0&&(n.hour="numeric"),t.indexOf("mm")>=0&&(n.minute="2-digit"),t.indexOf("ss")>=0&&(n.second="2-digit"),0!==Object.keys(n).length)return r.formatDate(e,n);console.warn("Not support time pattern "+t)}!function(e){e.Today="TODAY",e.Tomorrow="TOMORROW",e.Yesterday="YESTERDAY",e.ThisWeek="THIS_WEEK",e.ThisMonth="THIS_MONTH",e.ThisQuarter="THIS_QUARTER",e.ThisYear="THIS_YEAR"}(t.VirtualDateType||(t.VirtualDateType={})),function(e){e.Minute="MINUTE",e.Hour="HOUR",e.Day="DAY",e.Week="WEEK",e.Month="MONTH",e.Year="YEAR"}(t.TimeUnit||(t.TimeUnit={})),t.ESRI_DATE_FORMAT_MAP={shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}},t.DATE_TIME_CONNECTOR={common:" ",de:" , ",el:" , ",fi:" klo ",fr:" à ",he:" , ",hi:" , ",it:" , ",nb:" , ",pl:" , ",ro:" , ",ru:" , ",vi:" , "},t.DATE_TIME_DEFAULT_FORMAT={date:"yyyy/MM/dd",time:"H:mm",dateTime:"yyyy/MM/dd H:mm"},t.getEsriDateFormat=o,t.getDateTimeFormat=function(e,r,i){if(!r&&!i)return t.DATE_TIME_DEFAULT_FORMAT.date;var a="";if(r){if(n.ESRI_DATE_FORMAT_ARRAY.indexOf(r)>=0){var s=o(r);r=s.datePattern,i=i||s.timePattern}a=r}if(i){var u=e.locale||"en";a=a+(r?t.DATE_TIME_CONNECTOR[u]||t.DATE_TIME_CONNECTOR.common:"")+i}return a},t.formatDateField=function(e,t,r){if(!e)return"";"number"==typeof e&&(e=new Date(e));var n=o(t);return i(e,r,n.datePattern,n.timePattern)},t.formatDateLocally=i,t.formatDate=a,t.formatTime=s},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),i=r(5),a=r(16),s=r(54),u=r(9),c=r(14);function l(e){return!(!e||e.type!==o.ExpressionPartType.Function)&&Object.keys(o.ExpressionFunctions).some((function(t){return o.ExpressionFunctions[t]===e.exp}))}function f(e,t,r){if(!e||!t)return!1;var n=a.default.getInstance().getDataSource(e),o=n&&n.getSchema&&n.getSchema(),i=o&&o.fields;return!!i&&!(!i[t]||r!==(i[t].alias||i[t].name))}function d(e){var t,r={},n=!0;return e.filter((function(e){return!/^\s*$/.test(e.exp)})).forEach((function(e,i){e.type===o.ExpressionPartType.Operator&&","===e.exp?n=!0:(n?(t=i,r[i]={name:"default",parts:[e]}):r[t].parts=r[t].parts.concat(e),n=!1)})),r}t.getUseDataSourceFromExpParts=function(e,r){if(!e||!e.length)return t.getUseDataSourcesWithoutFields(r);var o={};return e.filter((function(e){return!!e})).forEach((function(e){if(e.dataSourceId){var t=void 0,i=void 0,s=a.default.getInstance().getDataSource(e.dataSourceId),u=s&&s.getMainDataSource(),l=u&&u.id,f=r&&l&&r.asMutable({deep:!0}).find((function(e){return e.mainDataSourceId===l})),d=e.dataSourceId.split("-").reverse()[0]===c.SELECTION_DATA_VIEW_ID;if(d&&f?t=f.dataSourceId:d||(t=e.dataSourceId),!t)return;if(!o[t]){if(d&&f)delete(i=n({},f)).fields;else if(!d){var p=s&&s.dataViewId,h=s&&s.getRootDataSource(),g=h&&h.id;i={dataSourceId:t,mainDataSourceId:l,fields:[]},p&&(i.dataViewId=p),g&&(i.rootDataSourceId=g)}t&&i&&(o[t]=i)}e.jimuFieldName&&o[t]&&(o[t].fields&&o[t].fields.every((function(t){return t!==e.jimuFieldName}))?o[t].fields=o[t].fields.concat(e.jimuFieldName):o[t].fields||(o[t].fields=[e.jimuFieldName]))}})),u(Object.values(o))},t.mergeUseDataSources=function(e,t){void 0===e&&(e=u([])),void 0===t&&(t=u([]));var r=u([]),n=u({}),o=u(e.concat(t)),i={};return o.forEach((function(e){i[e.dataSourceId]||(i[e.dataSourceId]=o.filter((function(t){return e.dataSourceId===t.dataSourceId})))})),Object.keys(i).forEach((function(e){n=u({}),i[e].forEach((function(e){n=function(e,t){if(!e||!t)return e||t;if(e.dataSourceId&&t.dataSourceId&&e.dataSourceId!==t.dataSourceId)return console.warn("can not merge data sources with different id"),null;if(!e.dataSourceId&&!t.dataSourceId)return e;if(e.fields&&t.fields){var r=Array.from(new Set(e.fields.asMutable().concat(t.fields.asMutable())));return e.merge(t.asMutable({deep:!0})).set("fields",r)}return e.merge(t.asMutable({deep:!0}))}(n,e)})),r=u(r.concat(n))})),r},t.getWhetherExpressionValid=function(e){if(!e||!e.parts)return!0;var t=e.parts.filter((function(e){return!!e})),r=t.some((function(e){return e.type===o.ExpressionPartType.Unknown}));if(r)return!1;var n=t.filter((function(e){return e.type===o.ExpressionPartType.Operator&&"("===e.exp})).length===t.filter((function(e){return e.type===o.ExpressionPartType.Operator&&")"===e.exp})).length;if(!n)return!1;for(var u=t.filter((function(e){return!(e.type===o.ExpressionPartType.Operator&&("("===e.exp||")"===e.exp||/^\s*$/.test(e.exp))||e.type===o.ExpressionPartType.Function&&e.exp!==o.ExpressionFunctions.Count)})),c=!0,d=0;d<u.length;d++)if((d%2==0||d===u.length-1)&&u[d].type===o.ExpressionPartType.Operator||d%2==1&&u[d].type!==o.ExpressionPartType.Operator){c=!1;break}if(!c)return!1;var p=!0;for(d=0;d<t.length;d++)if(t[d].type===o.ExpressionPartType.Function&&!l(t[d])||t[d].type===o.ExpressionPartType.Field&&!f(t[d].dataSourceId,t[d].jimuFieldName,t[d].exp.replace(/^\{/,"").replace(/\}$/,""))){p=!1;break}if(!p)return!1;var h=s.groupExpressionPartsByFunction(t),g=!h.some((function(e){return e.type===o.ExpressionPartType.Operator&&","===e.exp}));if(!g)return!1;var m=h.every((function(e){if(e.type===o.ExpressionPartType.Function){if(e.exp===o.ExpressionFunctions.Count)return e.parts&&0===e.parts.length;if(Object.keys(o.ExpressionFunctions).some((function(t){return e.exp===o.ExpressionFunctions[t]}))){if(e.parts&&1===e.parts.length&&e.parts[0].type===o.ExpressionPartType.Field){var t=a.default.getInstance().getDataSource(e.parts[0].dataSourceId),r=t&&t.getSchema(),n=e.parts[0].jimuFieldName,s=r&&r.fields&&r.fields[n];return s&&s.type===i.JimuFieldType.Number}return!1}return!1}return!0}));return!r&&n&&c&&p&&g&&m},t.getWhetherFunctionIncludeChildExpression=function(e){return!!(e&&e.length>1&&e.some((function(e){return e.type===o.ExpressionPartType.Operator&&/^[\+\-\*\/\(\)]$/.test(e.exp)})))||!(!e||1!==e.length||e[0].type!==o.ExpressionPartType.Function)},t.getWhetherFunctionIncludeFieldParam=function(e){var t=d(e);return!!(t&&Object.keys(t).length>0&&Object.keys(t).some((function(e){return t[e].parts&&1===t[e].parts.length&&t[e].parts[0].type===o.ExpressionPartType.Field})))},t.getWhetherFieldInDs=f,t.getChildExpression=d,t.isSingleStringExpression=function(e){var t,r,n;if(e)return 1===(null===(t=e.parts)||void 0===t?void 0:t.length)&&(null===(n=null===(r=e.parts)||void 0===r?void 0:r[0])||void 0===n?void 0:n.type)===o.ExpressionPartType.String},t.getSingleStringExpressionText=function(e){var r,n,o;return t.isSingleStringExpression(e)?null===(o=null===(n=null===(r=e.parts)||void 0===r?void 0:r[0])||void 0===n?void 0:n.exp)||void 0===o?void 0:o.replace(/(^\"|\"$)/g,""):""},t.getUseDataSourcesWithoutFields=function(e){return null==e?void 0:e.map((function(e){return null==e?void 0:e.without("fields").asMutable({deep:!0})}))},t.whetherHasFieldsInUseDataSources=function(e){return null==e?void 0:e.some((function(e){var t;return!!(null===(t=e.fields)||void 0===t?void 0:t.length)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Count="count",e.Sum="sum",e.Min="min",e.Max="max",e.Avg="avg"}(t.StatisticType||(t.StatisticType={})),t.ESRIOBJECTIDTYPE="esriFieldTypeOID"},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(0).PureComponent);t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(3),i=r(40),a=r(55),s=r(32),u=r(21),c=r(29),l=r(83),f=r(15),d=r(20),p=r(120),h=r(2),g=r(12),m=r(121),v=r(33),y=r(56),b=r(122),w=r(123),S=r(57);window.jimuConfig.exbVersion=b.exbVersion;var O=function(){function e(e){this.intl=e.intl}return e.getInstance=function(t){return e.instance||(e.instance=new e(t)),e.instance},e.prototype.loadAppConfig=function(){var e=this;return this._loadAndProcessAppConifg().then((function(t){e.setDocumentTitle(t.attributes);var r=n(t);return e.initTrackingManager(r)}))},e.prototype.initTrackingManager=function(e){var t=e.analytics;return t?p.TrackingManager.getInstance().initialize(t).then((function(){return e}),(function(t){return console.error(t.message||t),e})):Promise.resolve(e)},e.prototype._loadAndProcessAppConifg=function(){var e=this,t=window.jimuConfig.isDevEdition&&!1===window.jimuConfig.isInBuilder||window.jimuConfig.packagesInAppFolder,r=!1;return o.getAppStore().getState().appConfig?Promise.resolve(o.getAppStore().getState().appConfig.asMutable({deep:!0})):this.loadRawAppConfig().then((function(t){return t.__not_publish?Promise.reject(new Error(e.intl.formatMessage({id:"notPublishError",defaultMessage:v.default.notPublishError}))):y.lt(t.exbVersion,b.exbVersion)?(new w.AppVersionManager).upgrade(t,t.exbVersion,b.exbVersion,"app").then((function(e){return e.exbVersion=b.exbVersion,e})):t})).then((function(t){return e.processRawConfig(t)})).then((function(n){return t&&n.attributes.portalUrl?e.processWebTierPortalConfig(n).then((function(e){return r=e,n})):n})).then((function(e){var n=o.getAppStore().getState();if(t&&e.attributes&&e.attributes.portalUrl){var i=d.fixPortalUrlProtocol(e.attributes.portalUrl),a={portalUrl:e.attributes.portalUrl,isWebTier:r};return e.attributes.clientId&&(a.clientId=e.attributes.clientId),u.default.getInstance().setMainPortal(a),n.portalUrl||o.getAppStore().dispatch(g.setPortalInfo(i,e.attributes.clientId)),m.initPortalSelf(e.attributes.portalUrl),e}return e})).then((function(t){return e.handlePortalResourceInConfig(t)}))},e.prototype.processWebTierPortalConfig=function(e){var t=u.default.getInstance(),r=!1;return t.getSessionFromWebTierPortal(e.attributes.portalUrl).then((function(n){return n&&(r=!0,t.initFromCookie({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId,isWebTier:r}),t.getMainSession()||(t.writeCookieForSession("exb_auth",n),t.initFromCookie({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId,isWebTier:r}))),r}))},e.prototype.processRawConfig=function(e){var t=this;return this.processAppConfigAfterLoad(e),this.loadAllWidgetsManifest(e).then((function(e){return t.applyAppConfigProcessorExtension(e)})).then((function(e){return t.addDefaultLabelAndIcon(e),e}))},e.prototype.loadAppInfo=function(e){return window.jimuConfig.isDevEdition?this.loadAppInfoFromLocalServer(e):this.loadAppInfoFromPortal(e)},e.prototype.setDocumentTitle=function(e){if(e.title){document.title=e.title;var t={name:e.title,description:e.description};o.getAppStore().dispatch(g.appInfoChanged(t))}else{var r=f.getAppIdPageIdFromUrl().appId;r&&this.loadAppInfo(r).then((function(e){document&&(document.title=e.name)}))}},e.prototype.loadRawAppConfig=function(){var e=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigService)[0];return e?e.loadAppConfig():this.loadAppConfigWithDefault()},e.prototype.loadAppConfigWithDefault=function(){var e=o.getAppStore().getState();if(!e.appContext.isBuilder){var t=f.getAppIdPageIdFromUrl().appId;if(t)return window.jimuConfig.isDevEdition?this.loadAppConfigFromLocalServer(t):this.loadAppConfigFromPortal(t)}var r=e.queryObject.config;r||(r="config.json");var n=r.split(":");if(2===n.length&&"item"===n[0])return this.loadAppConfigFromPortal(n[1]);if(f.isAbsoluteUrl(r)&&!/^https:\/\/(.)+\.arcgis\.com/.test(r.trim())){return console.error("Only *.arcgis.com is allowed."),Promise.reject({message:"Only *.arcgis.com is allowed."})}return window.fetch(r).then((function(e){return e.json()}))},e.prototype.loadAppInfoFromLocalServer=function(e){return window.fetch("/apps/"+e+"/info.json").then((function(e){return e.json()})).then((function(e){var t={name:e.title,description:e.description};return o.getAppStore().dispatch(g.appInfoChanged(t)),t}))},e.prototype.loadAppInfoFromPortal=function(e){var t=u.default.getInstance();return l.getItem(e,{portal:d.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl)}).then((function(e){var t={name:e.title,description:e.description};return o.getAppStore().dispatch(g.appInfoChanged(t)),t})).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})}))},e.prototype.loadAppConfigFromLocalServer=function(e){var t=o.getAppStore().getState().queryObject.draft;return"true"===t||"1"===t?window.fetch("/apps/"+e+"/resources/config/config.json").then((function(e){return e.json()})):window.fetch("/apps/"+e+"/config.json").then((function(e){return e.json()}))},e.prototype.loadAppConfigFromPortal=function(e){var t=u.default.getInstance(),r=(new Date).getTime(),n=o.getAppStore().getState().queryObject.draft;return"true"===n||"1"===n?h.request(d.getPortalRestUrl(o.getAppStore().getState().portalUrl)+"/content/items/"+e+"/resources/config/config.json",{authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl),httpMethod:"GET",params:{timestamp:r}}).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})})):l.getItemData(e,{portal:d.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSessionByUrl(o.getAppStore().getState().portalUrl)}).catch((function(e){return t.handleAuthError(e,!1),Promise.reject({})}))},e.prototype.applyAppConfigProcessorExtension=function(e){var t=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigProcessor)[0];return t?t.process(e):Promise.resolve(e)},e.prototype.loadAllWidgetsManifest=function(e){var t=[],r=a.default.getInstance();return i.getAllWidgets(e).forEach((function(n,o){var i=n,a=i.uri;if(a)return e.useCachedManifest&&e.widgetsManifest[a]?(i._originManifest=e.widgetsManifest[a],void t.push(r.processWidgetManifest(i).then((function(){return r.registerManifestProps(n)})))):void t.push(r.loadWidgetManifest(i).then((function(e){return i._originManifest=e,r.processWidgetManifest(i).then((function(){return r.registerManifestProps(i)}))}),(function(e){return console.error(e),i.manifest={properties:{}},Promise.resolve()})))})),Promise.all(t).then((function(t){return e}))},e.prototype.processAppConfigAfterLoad=function(e){this.handleEmbedMode(e),this.addDefaultValues(e),this.fixAllIds(e),this.fixWidgetUri(e),this.fixThemeUri(e),this.addWidgetContext(e),this.addDefaultPageStructure(e)},e.prototype.handlePortalResourceInConfig=function(e){if(window.jimuConfig.isBuilder&&!window.jimuConfig.isInBuilder)return Promise.resolve(e);var t=u.default.getInstance().getMainSession();if(t&&t.token){var r=t.token;return i.appendPortalInfoToResource(e,r)}return i.appendPortalInfoToResource(e,null)},e.prototype.handleEmbedMode=function(e){var t=o.getAppStore().getState().queryObject.embedded;"true"!==t&&"1"!==t||Object.keys(e.pages).forEach((function(t){e.pages[t].header=!1,e.pages[t].footer=!1}))},e.prototype.addDefaultPageStructure=function(e){e.pageStructure||(e.pageStructure=[],Object.keys(e.pages).forEach((function(t){var r;e.pageStructure.push(((r={})[t]=[],r))})))},e.prototype.fixAllIds=function(e){this.fixId(e.pages),this.fixId(e.widgets),this.fixId(e.sections),this.fixId(e.views),this.fixId(e.dialogs),this.fixId(e.messageConfigs),this.fixId(e.dataSources),i.fixLayoutIds(e)},e.prototype.fixId=function(e){e&&Object.keys(e).forEach((function(t){"string"!=typeof e[t]&&(e[t].id=t)}))},e.prototype.fixWidgetUri=function(e){i.getAllWidgets(e).forEach((function(e){/\/$/.test(e.uri)||(e.uri=e.uri+"/")}))},e.prototype.fixThemeUri=function(e){/\/$/.test(e.theme)||(e.theme=e.theme+"/")},e.prototype.addWidgetContext=function(e){i.getAllWidgets(e).forEach((function(e){var t=i.getWidgetContext(e.uri);e.context=t}))},e.prototype.addDefaultValues=function(e){return e.attributes||(e.attributes={}),e.widgets||(e.widgets={}),e.widgetsManifest||(e.widgetsManifest={}),e.views||(e.views={}),e.sections||(e.sections={}),e.dialogs||(e.dialogs={}),e.pages||(e.pages={}),e.layouts||(e.layouts={}),e.dataSources||(e.dataSources={}),e.messageConfigs||(e.messageConfigs={}),this.addDefaultPageVisible(e),e},e.prototype.addDefaultPageVisible=function(e){Object.keys(e.pages).forEach((function(t){void 0===e.pages[t].isVisible&&(e.pages[t].isVisible=!0)}))},e.prototype.addDefaultLabelAndIcon=function(e){var t=this;Object.keys(e.pages).forEach((function(r){e.pages[r].label||(e.pages[r].label=i.getUniqueLabel(e,"page",t.intl.formatMessage({id:"page",defaultMessage:v.default.page})))})),Object.keys(e.dialogs||{}).forEach((function(r){e.dialogs[r].label||(e.dialogs[r].label=i.getUniqueLabel(e,"dialog",t.intl.formatMessage({id:"dialog",defaultMessage:v.default.dialog})))})),e.layouts&&Object.keys(e.layouts).filter((function(t){return e.layouts[t].type===S.LayoutType.FlowLayout})).forEach((function(r){var n=e.layouts[r];Object.keys(n.content||{}).filter((function(e){return n.content[e].type===S.LayoutItemType.Widget})).map((function(e){return n.content[e].widgetId})).forEach((function(r){var n=e.widgets[r];if(n&&!n.label&&"widgets/layout/row/"===n.uri){var o=t.intl.formatMessage({id:"block",defaultMessage:v.default.block});n.label=i.getUniqueLabel(e,"widget",o)}}))})),i.getAllWidgets(e).forEach((function(t){i.addWidgetDefaultLabelAndIcon(e,t)})),Object.keys(e.sections||{}).forEach((function(r){var n=e.sections[r];n.label||(n.label=i.getUniqueLabel(e,"section",t.intl.formatMessage({id:"section",defaultMessage:v.default.section})))})),Object.keys(e.views||{}).forEach((function(r){var n=e.views[r];n.label||(n.label=i.getUniqueLabel(e,"view",t.intl.formatMessage({id:"view",defaultMessage:v.default.view})))})),i.addLayoutLabel(e)},e}();t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(6),i=r(9),a=function(){function e(){var e=this;this.initialize=function(t){var r=!(!t||!t.enable);return r?Promise.all([e.initializeGtag(),e.createTracker(t)]).then((function(){e.enable=r}),function(e){throw this.enable=!1,new Error(e)}.bind(e)):(e.enable=r,Promise.resolve())},this.initializeGtag=function(){return e.gtag?Promise.resolve():o.loadModule("gtm").then((function(){var t=window;t.dataLayer=t.dataLayer||[],e.gtag=function(){t.dataLayer.push(arguments)},e.gtag("js",new Date)}))},this.compareGoogleAnalytics=function(t){if(void 0===t&&(t=i({})),e.enable){var r=e.googleAnalytics||i({});t!==r&&(t.trackId!==r.trackId&&(r.trackId&&e.disableGaTrackForGtag(r.trackId,!0),t.trackId&&e.addGaTrackIdToGtag(t.trackId,t.anonymizeip)),t.dimensions!==r.dimensions&&e.updateGgTrackerDimensions(e.track,t.dimensions),t.metrics!==r.metrics&&e.updateGgTrackerMetrics(e.track,t.metrics),t.anonymizeip!==r.anonymizeip&&e.updateGgTrackerAnonymizeip(t.trackId,t.anonymizeip),e.googleAnalytics=t)}},this.disableGaTrackForGtag=function(e,t){void 0===t&&(t=!0),e&&(window["ga-disable-"+e]=t)},this.addGaTrackIdToGtag=function(t,r){void 0===r&&(r=!0),e.gtag&&(e.disableGaTrackForGtag(t,!1),e.gtag("config",t,{anonymize_ip:r}))},this.updateGgTrackerDimensions=function(t,r){var n=e.getGgTracker(t);n&&(n.dimensions=r)},this.updateGgTrackerMetrics=function(t,r){var n=e.getGgTracker(t);n&&(n.metrics=r)},this.updateGgTrackerAnonymizeip=function(t,r){void 0===r&&(r=!0),e.gtag&&e.gtag("config",t,{anonymize_ip:r})},this.getGgTracker=function(e){return e&&e.trackers&&e.trackers.find((function(e){return"google"===e.name}))},this.mutablePortalUser=function(){var e=n.getAppStore().getState().portalSelf.asMutable();return e.user=e.user.asMutable(),e},this.isTrackAvailable=function(){return e.enable,!!e.enable},n.observeStore(this.onStoreChange.bind(this),["appConfig","analytics"])}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.onStoreChange=function(e,t){var r=this;void 0===e&&(e=i({})),void 0===t&&(t=i({})),t.enable!==e.enable?this.initialize(t).then((function(){return r.compareGoogleAnalytics(t&&t.google)})):this.compareGoogleAnalytics(t&&t.google)},e.prototype.createTracker=function(e){var t=this;if(this.track)return Promise.resolve(this.track);var r={google:e&&e.google,portal:this.mutablePortalUser()};return o.loadModule("jimu-core/telemetry").then((function(e){return t.track=new e(r),t.track}))},e.prototype.logPageView=function(e){if(this.isTrackAvailable())return this.track.logPageView(e)},e.prototype.logEvent=function(e){if(this.isTrackAvailable())return this.track.logEvent(e)},e.prototype.logError=function(e){if(this.isTrackAvailable())return this.track.logError(e)},e}();t.TrackingManager=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(20),i=r(3),a=r(12),s=r(21);t.initPortalSelf=function(e){var t=s.default.getInstance(),r=t.handleAuthError.bind(t);return n.request(o.getPortalRestUrl(e)+"portals/self",{authentication:t.getMainSession(),httpMethod:"GET"}).then((function(t){if(!t.isPortal){var r="https://"+t.urlKey+"."+t.customBaseUrl;t.urlKey&&!o.isSamePortalUrl(e,r)&&i.getAppStore().dispatch(a.setPortalInfo(r))}i.getAppStore().dispatch(a.setPortalSelf(t))})).catch((function(e){r(e,!1)}))}},function(e){e.exports=JSON.parse('{"exbVersion":"1.1.0","exbBuildNum":"436","exbBuildCommit":"445a8e6309d1ac75c3298a7b79e0ec709c6aefec","exbExtensionsBuildCommit":"d07af8176868c5b502d2c719eb2964dc13dae0cb","exbBuildDate":"20200720.231117.CST","productVersion":"ArcGIS Experience Builder"}')},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(56),a=r(4),s=r(41),u=r(57),c=r(6),l=r(17),f=r(14),d=function(){function e(){}return e.prototype.upgrade=function(e,t,r,n){if(!i.valid(t)||!i.valid(r))return Promise.resolve();if(!this.checkVersion())return Promise.resolve();var o=this.getVersionIndex(t),a=this.getVersionIndex(r);if(o>a)throw Error("New version should higher than old version.");if(o===a)return this.versions[a]&&Promise.resolve(this.versions[a].upgrader(e,n));var s=e;return this.versions.slice(o+1,a+1).filter((function(e){return null==e?void 0:e.upgrader})).reduce((function(e,t){return e.then((function(e){return Promise.resolve(t.upgrader(e,n))}))}),Promise.resolve(s))},e.prototype.getVersionIndex=function(e){var t=this.versions.findIndex((function(t){return i.eq(e,t.version)}));if(t>-1)return t;for(var r=0;r<this.versions.length-1;r++)if(i.gt(e,this.versions[r].version)&&i.lt(e,this.versions[r+1].version))return r;return i.lt(e,this.versions[0].version)?-1:i.gt(e,this.versions[this.versions.length-1].version)?this.versions.length:void 0},e.prototype.checkVersion=function(){for(var e=0;e<this.versions.length-1;e++){if(!i.valid(this.versions[e].version))return console.error("Invalid version.",this.versions[e].version),!1;if(i.gt(this.versions[e].version,this.versions[e+1].version))return console.error("Version order error.",this.versions[e].version,this.versions[e+1]),!1}return!0},e}();t.BaseVersionManager=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versions=[{version:"1.0.0",description:"First release.",upgrader:function(e){var t,r=e;return delete r.widgetsManifest,(t=r).widgets&&Object.keys(t.widgets).forEach((function(e){var r,n=t.widgets[e];"widgets/common/controller/"===n.uri&&(null===(r=n.layouts)||void 0===r?void 0:r.openwidget)&&(n.layouts._openwidget=n.layouts.openwidget,delete n.layouts.openwidget)})),r=function(e){var t;return Object.keys(null!==(t=e.layouts)&&void 0!==t?t:{}).forEach((function(t){var r,n;Object.keys(null!==(n=null===(r=e.layouts[t])||void 0===r?void 0:r.content)&&void 0!==n?n:{}).forEach((function(r){var n,o,i,a,s=e.layouts[t].content[r];(null===(n=null==s?void 0:s.setting)||void 0===n?void 0:n.fitContainer)&&(s.setting.heightMode="fit",(u=null!==(o=s.setting.autoProps)&&void 0!==o?o:{}).height="STRETCH",s.setting.autoProps=u,delete s.setting.fitContainer);if(null===(i=null==s?void 0:s.setting)||void 0===i?void 0:i.autoHeight){var u=null!==(a=s.setting.autoProps)&&void 0!==a?a:{},c=s.bbox;null!=c.top&&null!=c.bottom?u.height="STRETCH":u.height="AUTO",s.setting.autoProps=u,delete s.setting.autoHeight}}))})),e}(r=t)}},{version:"1.1.0",description:"1.1.0",upgrader:function(e){var t=function(e){var t;return Object.keys(null!==(t=e.messageConfigs)&&void 0!==t?t:{}).forEach((function(t){var r,n=null===(r=e.messageConfigs[t])||void 0===r?void 0:r.actions,o=e.widgets||{};n&&n.forEach((function(e){var t,r,n,i,a,s;if("widgets/common/list/"===(null===(t=o[null==e?void 0:e.widgetId])||void 0===t?void 0:t.uri)){if(e.config=e.config||{},e.config.actionUseDataSource&&e.config.actionUseDataSource.dataSourceId){var u=null===(r=e.config.actionUseDataSource)||void 0===r?void 0:r.fields;e.config.actionUseDataSource=null===(n=o[e.widgetId])||void 0===n?void 0:n.useDataSources[0],e.config.actionUseDataSource.fields=u}if(e.config.messageUseDataSource&&e.config.messageUseDataSource.dataSourceId)if("widgets/common/list/"===(null===(i=o[null==e?void 0:e.messageWidgetId])||void 0===i?void 0:i.uri)){var c=null===(a=e.config.messageUseDataSource)||void 0===a?void 0:a.fields;e.config.messageUseDataSource=null===(s=o[e.messageWidgetId])||void 0===s?void 0:s.useDataSources[0],e.config.messageUseDataSource.fields=c}else e.config.messageUseDataSource.mainDataSourceId=e.config.messageUseDataSource.dataSourceId;e.actionId=e.actionId.replace(e.widgetId+"-filter","filter-data-record-action"),e.actionName=e.actionName.replace("filter","filter data record action"),e.version="1.1.0",delete e.widgetId}}))})),e},r=function(e,t,r,n){var o;return Object.keys(null!==(o=e.widgets)&&void 0!==o?o:{}).forEach((function(o){var i=function(e,t,r){var o=(null==t?void 0:t.parts)&&(null==t?void 0:t.parts[e]);if(!o)return null;if(o.type===l.ExpressionPartType.Field){var i=e>0?t.parts[e-1]:null,a=e>1?t.parts[e-2]:null,s=t.parts[e+1];if((null==a?void 0:a.type)===l.ExpressionPartType.Function&&"("===(null==i?void 0:i.exp)&&")"===(null==s?void 0:s.exp))return o;if(r&&o.dataSourceId===r)o.isFromRepeatedDataSourceContext=!0;else if(o.dataSourceId&&!o.isFromRepeatedDataSourceContext){var u=0===o.dataSourceId.split("-").reverse()[0].indexOf(n)?o.dataSourceId.split("-").reverse().slice(1).reverse().join("-"):o.dataSourceId;o.dataSourceId=u+"-"+f.SELECTION_DATA_VIEW_ID}}return o},a=function(e,t){var n,o,a,s;if("widgets/common/image/"===e.uri||"widgets/common/button/"===e.uri){("widgets/common/image/"===e.uri?["altTextExpression","srcExpression","toolTipExpression","linkParam.expression"]:["textExpression","toolTipExpression","linkParam.expression"]).forEach((function(r){var n,o,a,s=r.split("."),u=1===s.length?(null===(n=null==e?void 0:e.config)||void 0===n?void 0:n.functionConfig)&&e.config.functionConfig[s[0]]:(null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.functionConfig)&&e.config.functionConfig[s[0]]&&e.config.functionConfig[s[0]][s[1]];null===(a=null==u?void 0:u.parts)||void 0===a||a.forEach((function(e,r){i(r,u,t)}))}))}else"widgets/common/embed/"===e.uri?null===(a=null===(o=null===(n=null==e?void 0:e.config)||void 0===n?void 0:n.expression)||void 0===o?void 0:o.parts)||void 0===a||a.forEach((function(r,n){i(n,e.config.expression,t)})):"widgets/common/text/"===e.uri&&(null===(s=e.config)||void 0===s?void 0:s.text)&&(e.config.text=r.editExpressionPart(e.config.text,(function(e,r){return i(e,r,t)})));return e},s=e.widgets[o];f.PROVIDE_REPEATED_DATA_SOURCE_CONTEXT_WIDGET_URI.some((function(e){return e===s.uri}))?t.getChildrenWidgetsOrSections(e,o,u.LayoutItemType.Widget,!0).forEach((function(t){var r=(null==s?void 0:s.useDataSources)&&s.useDataSources[0]&&s.useDataSources[0].dataSourceId;e.widgets[t]=a(e.widgets[t],r)})):s=a(s)})),e};return Promise.all([c.loadModule("jimu-layouts/layout-runtime"),c.loadModule("jimu-ui")]).then((function(n){var o,i,c=n[0],l=n[1],f=e;return o=f,Object.keys(null!==(i=o.dataSources)&&void 0!==i?i:{}).forEach((function(e){var t,r=o.dataSources[e];"FEATURE_QUERY"===r.type?r.type=a.DataSourceTypes.FeatureLayer:r.isOutputFromWidget&&(null===(t=null==r?void 0:r.originDataSources)||void 0===t||t.forEach((function(e){e.mainDataSourceId=e.dataSourceId})))})),f=function(e){var t;return Object.keys(null!==(t=e.layouts)&&void 0!==t?t:{}).forEach((function(t){var r,n=e.layouts[t],o=null==n?void 0:n.type;Object.keys(null!==(r=null==n?void 0:n.content)&&void 0!==r?r:{}).forEach((function(e){var t,r,i,a,s,c,l=n.content[e],f=null!==(r=null===(t=l.setting)||void 0===t?void 0:t.autoProps)&&void 0!==r?r:{};!0===f.width?(o===u.LayoutType.FixedLayout?f.left||f.right?f.width="AUTO":f.width="STRETCH":f.width="AUTO",l.setting.autoProps=f):!1===f.width&&(f.width="CUSTOM",l.setting.autoProps=f),!0===(null===(i=l.setting)||void 0===i?void 0:i.fitContainer)?f.height="STRETCH":!1===(null===(a=l.setting)||void 0===a?void 0:a.fitContainer)&&(null===(s=l.bbox)||void 0===s?void 0:s.height)?f.height="CUSTOM":!0===f.height?(o===u.LayoutType.FixedLayout?f.top||f.bottom?f.height="AUTO":f.height="STRETCH":f.height="AUTO",l.setting.autoProps=f):!1===f.height&&(f.height="CUSTOM",l.setting.autoProps=f),(null===(c=l.setting)||void 0===c?void 0:c.heightMode)&&null==f.height&&("auto"===l.setting.heightMode?(f.height="AUTO",l.setting.autoProps=f):"fit"===l.setting.heightMode?(f.height="STRETCH",l.setting.autoProps=f):"fixed"===l.setting.heightMode&&(f.height="CUSTOM",l.setting.autoProps=f))}))})),e}(f=function(e,n,o){var i,a=s.getIntl().formatMessage({id:"upgradedFrom"});return Object.keys(null!==(i=e.widgets)&&void 0!==i?i:{}).forEach((function(t){var r,o=e.widgets[t];(null!==(r=o.useDataSources)&&void 0!==r?r:[]).forEach((function(r,i){var s,c,l,f,d,p,h,g,m,v,y;if(r.query||"widgets/arcgis/feature-info/"===o.uri&&(null===(p=o.config)||void 0===p?void 0:p.limitGraphics)||"widgets/common/list/"===o.uri){var b="_from_10_"+t+"_"+i,w=e.dataSources||{},S={id:b,label:a,where:null===(h=r.query)||void 0===h?void 0:h.where,orderBy:null===(m=null===(g=r.query)||void 0===g?void 0:g.orderBy)||void 0===m?void 0:m.filter((function(e){return!!(null==e?void 0:e.jimuFieldName)})),maximum:"widgets/arcgis/feature-info/"===o.uri?null===(v=o.config)||void 0===v?void 0:v.maxGraphics:"widgets/common/list/"===o.uri&&(null===(y=o.config)||void 0===y?void 0:y.maxItems)},O=r.dataSourceId,I=r.rootDataSourceId,_=O+"-"+b;if(r.dataSourceId=_,r.mainDataSourceId=O,r.dataViewId=b,n.getChildrenWidgetsOrSections(e,t,u.LayoutItemType.Widget,!0).forEach((function(t){var r,n=e.widgets[t];if((null!==(r=n.useDataSources)&&void 0!==r?r:[]).forEach((function(e,t){e.dataSourceId===O&&(e.dataSourceId=_,e.mainDataSourceId=O,e.dataViewId=b)})),"widgets/common/image/"===n.uri||"widgets/common/button/"===n.uri){("widgets/common/image/"===n.uri?["altTextExpression","srcExpression","toolTipExpression","linkParam.expression"]:["textExpression","toolTipExpression","linkParam.expression"]).forEach((function(e){var t,r,o,i=e.split("."),a=1===i.length?(null===(t=null==n?void 0:n.config)||void 0===t?void 0:t.functionConfig)&&n.config.functionConfig[i[0]]:(null===(r=null==n?void 0:n.config)||void 0===r?void 0:r.functionConfig)&&n.config.functionConfig[i[0]]&&n.config.functionConfig[i[0]][i[1]];null===(o=null==a?void 0:a.parts)||void 0===o||o.forEach((function(e){e.dataSourceId===O&&(e.dataSourceId=_)}))}))}else"widgets/common/text/"===n.uri&&(n.config.text=n.config.text.replace(new RegExp(O,"g"),_))})),w[O])w[O].dataViews?w[O].dataViews[b]=S:w[O].dataViews=((s={})[b]=S,s);else if(w[I]){var E=O.substr(I.length+1);w[I].childDataSourceJsons?w[I].childDataSourceJsons[E]?w[I].childDataSourceJsons[E].dataViews?w[I].childDataSourceJsons[E].dataViews[b]=S:w[I].childDataSourceJsons[E].dataViews=((c={})[b]=S,c):w[I].childDataSourceJsons[E]={id:O,dataViews:(l={},l[b]=S,l)}:w[I].childDataSourceJsons=((f={})[E]={id:O,dataViews:(d={},d[b]=S,d)},f)}else console.error("bad config ds.",r);Object.keys(w).forEach((function(e){w[e].originDataSources&&w[e].originDataSources.forEach((function(e){e.dataSourceId===O&&(e.dataSourceId=_,e.mainDataSourceId=O,e.dataViewId=b)}))})),delete r.query}else r.mainDataSourceId||(r.mainDataSourceId=r.dataSourceId)}))})),t(r(e,n,o,"_from_10_"))}(f=o,c.searchUtils,l.richTextUtils))}))}}],t}return o(t,e),t}(d);t.AppVersionManager=p},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(125),s=r(6),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyboardTrigger=function(e){-1===e.key.indexOf("-manual")&&s.getJimuForBuilderModules().appBuilderSync.letBuilderResponseToKeyboard(e)},t.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},t}return o(t,e),t.prototype.render=function(){return this.isMac()?i.createElement(a.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"command+keys":function(){return!1}}}):i.createElement(a.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"ctrl+keys":function(){return!1}}})},t}(i.PureComponent);t.default=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(200),s=function(e){function t(t){var r=e.call(this,t)||this;return r.subs=[],r.keyboardListener=a.default(t.eventName,r.props.element),r.props.onKeyboardTrigger&&r.keyboardListener.setKeyboardTriggerFunction(r.props.onKeyboardTrigger),r}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.bindings,n=t.monitor;Object.keys(r).forEach((function(t){var n=r[t],o=e.keyboardListener.subscribe(t,n);e.subs.push(o)})),n&&this.keyboardListener.setMonitor(n)},t.prototype.componentWillUnmount=function(){this.subs.forEach((function(e){return e.unsubscribe()}))},t.prototype.render=function(){return null},t.defaultProps={eventName:"keydown",bindings:{},monitor:null},t}(i.PureComponent);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return!(!e||!e.tagName)&&("BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&"true"===e.contentEditable||"SPAN"===e.tagName&&"true"===e.contentEditable)}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(e){function t(t){var r=e.call(this,t)||this;return r.state={error:null},r}return o(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e})},t.prototype.render=function(){return this.state.error?i.createElement("h1",null,this.state.error.message):this.props.children},t}(i.Component);t.ErrorBoundary=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(37),s=r(16),u=r(5),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.componentDidUpdate=function(e){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),e.dataSourceInfo!==this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery(),this.handleAutoRefresh()},t.prototype.render=function(){var e=this.props,t=e.useDataSource,r=e.dataSource,n=e.dataSourceInfo,o=e.children,a=e.query;return t?r&&n?o?"function"==typeof o?o(r,n,a):o:null:i.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"}):(console.log("No data source configured."),null)},t.prototype.doQuery=function(){if(this.props.dataSource){var e=this.props,t=e.dataSource,r=e.query,n=e.queryCount,o=e.widgetId,i=e.localId,a=e.queryScope,s=t;if(s.load&&s.query&&r){var u={widgetId:o||i,refresh:this.props.refresh,scope:a};if(s.load(r,u),n){var c=Object.assign({},r);s.loadCount(c,u)}}}},t.prototype.handleAutoRefresh=function(){if(this.props.dataSource){var e=this.props.dataSource;e.stopAutoRefresh&&e.startAutoRefresh&&(window.jimuConfig.isInBuilder&&this.props.appMode===u.AppMode.Design?e.stopAutoRefresh():e.startAutoRefresh())}},t.prototype.createDataSource=function(){var e=this,t=this.props,r=t.dataSourceManager,n=t.useDataSource,o=t.localId;n&&r.createDataSourceByUseDataSource(n,o).then((function(e){})).catch((function(t){t.dataSourceId!==n.dataSourceId&&t.dataSourceId!==n.rootDataSourceId||e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}))},t}(i.PureComponent);t.DataSourceComponent=a.connect((function(e,t){var r=s.default.getInstance(),n=window.jimuConfig.isBuilder?e.appStateInBuilder:e;if(!n||!t.useDataSource)return{dataSourceInfo:null,dataSourceJson:null,rootDataSourceJson:null,dataSource:null,dataSourceManager:r,belongToDataSourceInfo:null,appMode:null};var o,i=t.useDataSource;o=t.localId?i.dataViewId?r.getLocalDataSourceId(r.getDataViewDataSourceId(i.mainDataSourceId,i.dataViewId),t.localId):r.getLocalDataSourceId(i.mainDataSourceId,t.localId):i.dataSourceId;var a=r.getDataSource(o);return{dataSourceInfo:n.dataSourcesInfo[o],dataSourceJson:n.appConfig.dataSources[i.mainDataSourceId],rootDataSourceJson:n.appConfig.dataSources[i.rootDataSourceId],dataSource:a,dataSourceManager:r,belongToDataSourceInfo:(null==a?void 0:a.isDataView)||(null==a?void 0:a.isLocal)?n.dataSourcesInfo[a.belongToDataSource.id]:null,appMode:n.appRuntimeInfo.appMode}}))(c),t.default=t.DataSourceComponent},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(16),s=r(128),u=r(37),c=r(9),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDataSourceCreated=function(){var e=t.props.onDataSourceCreated;(void 0===e?function(){}:e)(t.getDataSources())},t.handleDataSourceInfoChange=function(){var e=t.props.onDataSourceInfoChange;(void 0===e?function(){}:e)(t.getDataSourcesInfo())},t.getDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n={},o=a.default.getInstance();return r.forEach((function(e){return n[e.dataSourceId]=o.getDataSource(e.dataSourceId)})),n},t.getDataSourcesInfo=function(){var e=t.props.useDataSources,r={};return(void 0===e?[]:e).forEach((function(e){r[e.dataSourceId]=t.props[e.dataSourceId]})),r},t.hasLoadedDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n=t.getDataSources();return r.every((function(e){return!!n[e.dataSourceId]}))},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.useDataSources,n=void 0===r?c([]):r,o=t.queries,a=void 0===o?{}:o,u=t.widgetId,l=t.children;if(!n)return null;var f=n.asMutable().map((function(t,r){return i.createElement(s.default,{key:r,useDataSource:t,query:a[t.dataSourceId],widgetId:u,onDataSourceCreated:e.handleDataSourceCreated,onDataSourceInfoChange:e.handleDataSourceInfoChange})}));return l?i.createElement(i.Fragment,null,f,"function"==typeof l?l(this.getDataSources(),this.getDataSourcesInfo()):l):f},t}(i.PureComponent);t.MultipleDataSourceComponentInner=l;t.default=u.connect((function(e,t){var r={};return t.useDataSources&&t.useDataSources.forEach((function(t){return r[t.dataSourceId]=e.dataSourcesInfo[t.dataSourceId]})),r}))(l)},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return c.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,i,a,s,u,c=0,l=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=n,i=o;return n=o=void 0,c=t,a=e.apply(i,r)}function b(e){return c=e,s=setTimeout(S,t),l?y(e):a}function w(e){var r=e-u;return void 0===u||r>=t||r<0||m&&e-c>=i}function S(){var e=p();if(w(e))return O(e);s=setTimeout(S,function(e){var r=t-(e-u);return m?d(r,i-(e-c)):r}(e))}function O(e){return s=void 0,v&&n?y(e):(n=o=void 0,a)}function I(){var e=p(),r=w(e);if(n=arguments,o=this,u=e,r){if(void 0===s)return b(u);if(m)return s=setTimeout(S,t),y(u)}return void 0===s&&(s=setTimeout(S,t)),a}return t=g(t)||0,h(r)&&(l=!!r.leading,i=(m="maxWait"in r)?f(g(r.maxWait)||0,t):i,v="trailing"in r?!!r.trailing:v),I.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=u=o=s=void 0},I.flush=function(){return void 0===s?a:O(p())},I}}).call(this,r(28))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.index&&(this.index=e.index),e.widgetId&&(this.widgetId=e.widgetId)}return e.prototype.destroy=function(){},e}();t.AbstractDataAction=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isSupported=function(e,t){return!0},t.prototype.onExecute=function(e,t){return Promise.resolve(!0)},t}(i);t.DummnyDataAction=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(79),u=r(16),c=r(53),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="filter data record action",t}return o(t,e),t.prototype.filterMessageType=function(e,t){return e==s.MessageType.DataRecordsSelectionChange||e==s.MessageType.SelectDataRecord||e==s.MessageType.ExtentChange},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"filter-data-record-action"},t.prototype.onRemoveListen=function(e,t){if(this.lastMessage&&this.lastMessage.type===e&&this.lastMessage.widgetId===t){if(this.lastActionConfig&&this.lastActionConfig.actionUseDataSource&&this.lastActionConfig.actionUseDataSource.dataSourceId){var r=u.default.getInstance().getDataSource(this.lastActionConfig.actionUseDataSource.dataSourceId);r&&this.lastMessage.type===s.MessageType.DataRecordsSelectionChange&&r.updateQueryParams(null,this.id),r&&this.lastMessage.type===s.MessageType.ExtentChange&&r.updateQueryParams(null,this.id),this.lastActionConfig=null}this.lastMessage=null}},t.prototype.onExecute=function(e,t){var r;return i(this,void 0,void 0,(function(){var n,o,i,l,f,d,p,h,g,m,v,y,b,w,S,O,I,_,E,T,C;return a(this,(function(a){switch(a.label){case 0:switch(this.lastMessage=e,this.lastActionConfig=t,e.type){case s.MessageType.DataRecordsSelectionChange:return[3,1];case s.MessageType.ExtentChange:return[3,5]}return[3,9];case 1:return n=null,t?t.messageUseDataSource&&t.actionUseDataSource?e.records.length>0&&e.records[0].dataSource.getMainDataSource().id!==t.messageUseDataSource.mainDataSourceId?[2,Promise.resolve(!0)]:(S=u.default.getInstance(),o=S.getDataSource(t.messageUseDataSource.mainDataSourceId),(O=S.getDataSource(t.actionUseDataSource.dataSourceId))?[3,3]:[4,S.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,4]:[3,4];case 2:O=a.sent(),a.label=3;case 3:if(o&&O){if(t.enabledDataRelationShip){if(i=null,l=null,t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?(f=o.getSchema(),d=f&&f.fields&&Object.keys(f.fields).find((function(e){return"esriFieldTypeOID"===f.fields[e].esriType})),i=f&&f.fields&&f.fields[d],l=i):(p=t.messageUseDataSource.fields[0],h=t.actionUseDataSource.fields[0],i=o.getSchema().fields[p],l=O.getSchema().fields[h]),E="",i&&l){for(g=i.name,m=i.type,v=e,y=[],b=0;b<v.records.length;b++)w=v.records[b].getData()[g],y.indexOf(""+this.formatValue(w,m))>-1||y.push(""+this.formatValue(v.records[b].getData()[g],m));E=l.name+" IN ",E=y.length>0?E+"("+y.join(", ")+")":""}e.records.length>0?(T=t.sqlExprObj?c.getArcGISSQL(t.sqlExprObj,O).sql:null)&&(E=E?E+" AND "+T:T):E="",n={outFields:["*"],where:E,returnGeometry:!0}}else E="",e.records.length>0?(T=t.sqlExprObj?c.getArcGISSQL(t.sqlExprObj,O).sql:null)&&(E=T):E="",n={outFields:["*"],where:E,returnGeometry:!0};O.updateQueryParams(n,this.id)}a.label=4;case 4:return[2,Promise.resolve(!0)];case 5:return t&&t.actionUseDataSource?(S=u.default.getInstance(),(O=S.getDataSource(t.actionUseDataSource.dataSourceId))?[3,7]:[4,S.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,8];case 6:O=a.sent(),a.label=7;case 7:I=null,O&&(_=null===(r=e)||void 0===r?void 0:r.extent,E="",(T=t.sqlExprObj?c.getArcGISSQL(t.sqlExprObj,O).sql:null)&&(E=T),C=t.enableQueryWithCurrentExtent?_.toJSON():{},I={geometry:C,outFields:["*"],where:E,returnGeometry:!0},O.updateQueryParams(I,this.id)),a.label=8;case 8:return[2,Promise.resolve(!0)];case 9:return[3,10];case 10:return[2]}}))}))},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(s.AbstractMessageAction);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(228),o=r(229),i=r(230),a=r(231),s=r(232),u=r(233),c=r(35),l=r(3);function f(){var e,t;return null!==(t=null===(e=l.getAppStore().getState().appContext)||void 0===e?void 0:e.isRTL)&&void 0!==t&&t}function d(e){return Math.abs(e-Math.round(e))<1e-7}function p(e,t,r){return Math.max(t,Math.min(e,r))}t.isIntegerProgress=d,t.getIndexFromProgress=function(e,t){var r,n,o=p(e,0,1)*(t-1),i=Math.floor(o);return n=i,r=p(r=(n=d(o)?Math.round(o)-1:i)+1,0,t-1),{previousIndex:n=p(n,0,t-1),progress:o,currentIndex:r}},t.clamp=p,t.getTransition=function(e,t){switch(void 0===t&&(t=c.TransitionDirection.Horizontal),e){case c.TransitionType.Cover:return new o.CoverTransition(f(),t);case c.TransitionType.Cube:return new s.CubeTransition(f(),t);case c.TransitionType.Fade:return new i.FadeTransition;case c.TransitionType.Push:return new a.PushTransition(f(),t);case c.TransitionType.Box:return new n.BoxTransition(f(),t);default:return new u.NoTransition}}},,,function(e,t,r){"use strict";r.r(t),r.d(t,"ApplicationSession",(function(){return a})),r.d(t,"UserSession",(function(){return h})),r.d(t,"fetchToken",(function(){return i})),r.d(t,"generateToken",(function(){return c}));var n=r(1),o=r(103);function i(e,t){var r=t;return r.rawResponse=!1,Object(o.d)(e,r).then((function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t}))}var a=function(){function e(e){this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.expires=e.expires,this.portal=e.portal||"https://www.arcgis.com/sharing/rest",this.duration=e.duration||7200}return e.prototype.getToken=function(e,t){return this.token&&this.expires&&this.expires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequest||(this._pendingTokenRequest=this.refreshToken(t)),this._pendingTokenRequest)},e.prototype.refreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"client_credentials",expiration:this.duration}},e);return i(this.portal+"/oauth2/token/",r).then((function(e){return t._pendingTokenRequest=null,t.token=e.token,t.expires=e.expires,e.token}))},e.prototype.refreshSession=function(){var e=this;return this.refreshToken().then((function(){return e}))},e}(),s=r(104),u=r(38);function c(e,t){var r=t;return"undefined"!=typeof window&&window.location&&window.location.host?r.params.referer=window.location.host:r.params.referer=o.b,Object(o.d)(e,r)}var l=/^https?:\/\/(\S+)\.arcgis\.com.+/;function f(e){return l.test(e)}function d(e){if(!l.test(e))return null;var t=e.match(l)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function p(e,t){var r=Object(s.a)(function(e){if(!l.test(e))return e;switch(d(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),n=Object(s.a)(e).replace(/https?:\/\//,"");return new RegExp(n,"i").test(r)}var h=function(){function e(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Object(s.a)(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return e.beginOAuth2=function(t,r){void 0===r&&(r=window);var i,a=n.a({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,state:t.clientId,locale:""},t),s=a.portal,c=a.provider,l=a.clientId,f=a.duration,d=a.redirectUri,p=a.popup,h=a.state,g=a.locale,m=a.params;if(i="arcgis"===c?s+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+f+"&redirect_uri="+encodeURIComponent(d)+"&state="+h+"&locale="+g:s+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+c+"&autoAccountCreateForSocial=true&response_type=token&expiration="+f+"&redirect_uri="+encodeURIComponent(d)+"&state="+h+"&locale="+g,m&&(i=i+"&"+Object(u.b)(m)),p){var v,y=((v={promise:null,resolve:null,reject:null}).promise=new Promise((function(e,t){v.resolve=e,v.reject=t})),v);return r["__ESRI_REST_AUTH_HANDLER_"+l]=function(t,r){if(t){var n=JSON.parse(t);y.reject(new o.a(n.errorMessage,n.error))}else if(r){var i=JSON.parse(r);y.resolve(new e({clientId:l,portal:s,ssl:i.ssl,token:i.token,tokenExpires:new Date(i.expires),username:i.username}))}},r.open(i,"oauth-window","height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes"),y.promise}r.location.href=i},e.completeOAuth2=function(t,r){void 0===r&&(r=window);var i=n.a({portal:"https://www.arcgis.com/sharing/rest",popup:!0},t),a=i.portal,s=i.clientId,u=i.popup;function c(t,n){try{var i;if(u&&r.opener&&r.opener.parent&&r.opener.parent["__ESRI_REST_AUTH_HANDLER_"+s])return(i=r.opener.parent["__ESRI_REST_AUTH_HANDLER_"+s])&&i(t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close();if(u&&r!==r.parent&&r.parent&&r.parent["__ESRI_REST_AUTH_HANDLER_"+s])return(i=r.parent["__ESRI_REST_AUTH_HANDLER_"+s])&&i(t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close()}catch(e){throw new o.a('Unable to complete authentication. It\'s possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".')}if(t)throw new o.a(t.errorMessage,t.error);return new e({clientId:s,portal:a,ssl:n.ssl,token:n.token,tokenExpires:n.expires,username:n.username})}var l=r.location.href.match(/access_token=(.+)&expires_in=(.+)&username=([^&]+)/);if(!l){var f=r.location.href.match(/error=(.+)&error_description=(.+)/);return c({error:f[1],errorMessage:decodeURIComponent(f[2])})}var d=l[1],p=new Date(Date.now()+1e3*parseInt(l[2],10)-6e4),h=decodeURIComponent(l[3]);return c(void 0,{token:d,expires:p,ssl:r.location.href.indexOf("&ssl=true")>-1||r.location.href.indexOf("#ssl=true")>-1,username:h})},e.authorize=function(e,t){var r=n.a({portal:"https://arcgis.com/sharing/rest",duration:20160},e),o=r.portal,i=r.clientId,a=r.duration,s=r.redirectUri;t.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+i+"&duration="+a+"&response_type=code&redirect_uri="+encodeURIComponent(s)}),t.end()},e.exchangeAuthorizationCode=function(t,r){var o=n.a({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},t),a=o.portal,s=o.clientId,u=o.redirectUri,c=o.refreshTokenTTL;return i(a+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:s,redirect_uri:u,code:r}}).then((function(t){return new e({clientId:s,portal:a,ssl:t.ssl,redirectUri:u,refreshToken:t.refreshToken,refreshTokenTTL:c,refreshTokenExpires:new Date(Date.now()+1e3*(c-1)),token:t.token,tokenExpires:t.expires,username:t.username})}))},e.deserialize=function(t){var r=JSON.parse(t);return new e({clientId:r.clientId,refreshToken:r.refreshToken,refreshTokenExpires:new Date(r.refreshTokenExpires),username:r.username,password:r.password,token:r.token,tokenExpires:new Date(r.tokenExpires),portal:r.portal,ssl:r.ssl,tokenDuration:r.tokenDuration,redirectUri:r.redirectUri,refreshTokenTTL:r.refreshTokenTTL})},e.fromCredential=function(t){return new e({portal:t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest",ssl:t.ssl,token:t.token,username:t.userId,tokenExpires:new Date(t.expires)})},Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!0,configurable:!0}),e.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},e.prototype.getUser=function(e){var t=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var r=this.portal+"/community/self",i=n.a({httpMethod:"GET",authentication:this},e,{rawResponse:!1});return this._pendingUserRequest=Object(o.d)(r,i).then((function(e){return t._user=e,t._pendingUserRequest=null,e})),this._pendingUserRequest},e.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then((function(e){return e.username}))},e.prototype.getToken=function(e,t){return r=this.portal,n=e,o=f(r),i=f(n),a=d(r),s=d(n),o&&i&&a===s||new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t);var r,n,o,i,a,s},e.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},e.prototype.serialize=function(){return JSON.stringify(this)},e.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new o.a("Unable to refresh token."))},e.prototype.getServerRootUrl=function(e){var t=Object(s.a)(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),r=(t[0],t[1]),n=t[2].split("/"),o=n[0],i=n.slice(1);return""+r+o.toLowerCase()+"/"+i.join("/")},e.prototype.getTokenForServer=function(e,t){var r=this,n=this.getServerRootUrl(e),i=this.trustedServers[n];return i&&i.expires&&i.expires.getTime()>Date.now()?Promise.resolve(i.token):(this._pendingTokenRequests[n]||(this._pendingTokenRequests[n]=Object(o.d)(n+"/rest/info").then((function(i){if(i.owningSystemUrl){if(p(i.owningSystemUrl,r.portal))return Object(o.d)(i.owningSystemUrl+"/sharing/rest/info",t);throw new o.a(e+" is not federated with "+r.portal+".","NOT_FEDERATED")}if(i.authInfo&&void 0!==r.trustedServers[n])return Promise.resolve({authInfo:i.authInfo});throw new o.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(e){return e.authInfo.tokenServicesUrl})).then((function(t){return r.token&&r.tokenExpires.getTime()>Date.now()?c(t,{params:{token:r.token,serverUrl:e,expiration:r.tokenDuration,client:"referer"}}):c(t,{params:{username:r.username,password:r.password,expiration:r.tokenDuration,client:"referer"}}).then((function(e){return r._token=e.token,r._tokenExpires=new Date(e.expires),e}))})).then((function(e){return r.trustedServers[n]={expires:new Date(e.expires),token:e.token},delete r._pendingTokenRequests[n],e.token}))),this._pendingTokenRequests[n])},e.prototype.getFreshToken=function(e){var t=this;return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then((function(e){return t._pendingTokenRequests[t.portal]=null,e.token}))),this._pendingTokenRequests[this.portal])},e.prototype.refreshWithUsernameAndPassword=function(e){var t=this,r=n.a({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return c(this.portal+"/generateToken",r).then((function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t}))},e.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t}))},e.prototype.refreshRefreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t}))},e}()},function(e,t,r){"use strict";r.r(t);var n=r(140),o=r.n(n),i=r(0),a=r(66),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=Object(a.a)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(11),l=r(27),f=r(26),d=u,p=function(e){return"theme"!==e&&"innerRef"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?d:p};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function e(t,r){var n,o,a;void 0!==r&&(n=r.label,a=r.target,o=t.__emotion_forwardProp&&r.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&r.shouldForwardProp(e)}:r.shouldForwardProp);var s=t.__emotion_real===t,u=s&&t.__emotion_base||t;"function"!=typeof o&&s&&(o=t.__emotion_forwardProp);var d=o||h(u),p=!d("as");return function(){var g=arguments,v=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&v.push("label:"+n+";"),null==g[0]||void 0===g[0].raw)v.push.apply(v,g);else{0,v.push(g[0][0]);for(var y=g.length,b=1;b<y;b++)v.push(g[b],g[0][b])}var w=Object(c.withEmotionCache)((function(e,t,r){return Object(i.createElement)(c.ThemeContext.Consumer,null,(function(n){var s=p&&e.as||u,c="",g=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=n}"string"==typeof e.className?c=Object(l.a)(t.registered,g,e.className):null!=e.className&&(c=e.className+" ");var b=Object(f.a)(v.concat(g),t.registered,m);Object(l.b)(t,b,"string"==typeof s);c+=t.key+"-"+b.name,void 0!==a&&(c+=" "+a);var w=p&&void 0===o?h(s):d,S={};for(var O in e)p&&"as"===O||w(O)&&(S[O]=e[O]);return S.className=c,S.ref=r||e.innerRef,Object(i.createElement)(s,S)}))}));return w.displayName=void 0!==n?n:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=u,w.__emotion_styles=v,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(t,n){return e(t,void 0!==n?m({},r||{},{},n):r).apply(void 0,v)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));t.default=v},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(28))},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.React=o;var i=r(46);t.ReactDOM=i;var a=r(37);t.ReactRedux=a;var s=r(47);t.queryString=s;var u=r(9);t.Immutable=u;var c=r(89);t.classNames=c;var l=r(260);t.uuidv1=l.v1;var f=r(11),d=r(137);t.styled=d.default;var p=r(152);t.xss=p;var h=r(69),g=r(39),m=r(97),v=r(159),y=r(161),b=r(165),w=r(166),S=r(167),O=r(98),I=r(168),_=r(170),E=r(172);t.invariant=E;var T=r(258);t.ReactResizeDetector=T.default;var C=r(86);t.ResizeObserver=C.default;var A=r(10);t.spring=A;var P=r(136),x=r(259),D=r(2),j=r(83),k=r(173),R=r(12);t.appActions=R;var M=r(19);t.utils=M;var N=r(15);t.urlUtils=N;var L=r(20);t.portalUrlUtils=L;var F=r(40);t.appConfigUtils=F;var U=r(178);t.themeUtils=U;var V=r(180);t.keyboardUtils=V;var B=r(181);t.privilegeUtils=B;var W=r(53);t.dataSourceUtils=W;var q=r(29);t.extensionSpec=q;var G=r(6);t.moduleLoader=G;var H=r(74);t.jimuHistory=H;var z=r(41);t.i18n=z;var $=r(113);t.requestUtils=$;var K=r(116);t.expressionUtils=K;var Y=r(115);t.dateUtils=Y;var J=r(36);t.FormattedDate=J.FormattedDate,t.FormattedMessage=J.FormattedMessage,t.FormattedNumber=J.FormattedNumber,t.FormattedPlural=J.FormattedPlural,t.FormattedRelativeTime=J.FormattedRelativeTime,t.FormattedTime=J.FormattedTime,t.IntlProvider=J.IntlProvider,t.injectIntl=J.injectIntl,t.createIntl=J.createIntl,t.createIntlCache=J.createIntlCache,t.useIntl=J.useIntl;var X=r(75);t.RepeatedDataSourceProvider=X.RepeatedDataSourceProvider,t.withRepeatedDataSource=X.withRepeatedDataSource;var Q=r(14);t.CONSTANTS=Q;var Z=r(118);t.BaseWidget=Z.default;var ee=r(55);t.WidgetManager=ee.default;var te=r(119);t.ConfigManager=te.default;var re=r(16);t.DataSourceManager=re.default;var ne=r(77);t.MessageManager=ne.default;var oe=r(21);t.SessionManager=oe.default,t.SessionChangedReasonType=oe.SessionChangedReasonType;var ie=r(32);t.ExtensionManager=ie.default;var ae=r(78);t.DataActionManager=ae.default;var se=r(52);t.ThemeManager=se.default;var ue=r(112);t.ServiceManager=ue.default;var ce=r(198);t.AppRoot=ce.default;var le=r(33);t.defaultMessages=le.default;var fe=r(51);t.MutableStoreManager=fe.default;var de=r(128);t.DataSourceComponent=de.default;var pe=r(129);t.MultipleDataSourceComponent=pe.default;var he=r(203);t.ExpressionResolverComponent=he.ExpressionResolverComponent,t.ExpressionResolverErrorCode=he.ExpressionResolverErrorCode;var ge=r(125);t.Keyboard=ge.default;var me=r(124);t.AppKeyboardComponent=me.default;var ve=r(122).exbVersion;t.version=ve;var ye=r(106),be={assign:r(204),defer:r(73),debounce:r(130),setValue:ye,isDeepEqual:r(48),throttle:r(205)};t.lodash=be;var we={restAuth:P,restFeatureLayer:x,restPortal:j,restRequest:D,Sanitizer:k.Sanitizer};t.esri=we;var Se={rgba:h,parseToRgb:g,rem:m,readableColor:v,lighten:y,darken:b,ellipsis:w,mix:S,stripUnit:O,math:I,borderRadius:_};t.polished=Se;var Oe=f.jsx;t.jsx=Oe;var Ie=f.css;t.css=Ie;var _e=f.Global;t.Global=_e;var Ee=f.ThemeContext;t.ThemeContext=Ee,n(r(57)),n(r(206)),n(r(50)),n(r(5)),n(r(107)),n(r(17)),n(r(114)),n(r(207)),n(r(4)),n(r(79)),n(r(208)),n(r(3)),n(r(120));var Te=r(213);t.LoadingHandler=Te.LoadingHandler,n(r(76)),n(r(214)),n(r(127)),n(r(131)),n(r(132)),n(r(54)),n(r(123)),n(r(215)),n(r(80)),n(r(227))},function(e,t,r){"use strict";var n=r(146);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case v:case m:case i:return t}}}function S(e){return w(e)===d}t.typeOf=w,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b)},t.isAsyncMode=function(e){return S(e)||w(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),s=0;s<i.length;s++){var u=i[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){var n=r(90),o=r(93),i=r(155);function a(e,t){return new i(t).process(e)}for(var s in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,n)t[s]=n[s];for(var s in o)t[s]=o[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,r){var n=r(91),o=r(154);r(92);function i(e){return null==e}function a(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return o(e,(function(e,t,o,u,c){var l=r[o],f=!1;if(!0===l?f=l:"function"==typeof l?f=l(u):l instanceof RegExp&&(f=l.test(u)),!0!==f&&(f=!1),u=s(o,u)){var d,p={position:t,sourcePosition:e,source:c,isWhite:f};return f?i(d=n(o,u,p))?o+":"+u:d:i(d=a(o,u,p))?void 0:d}}))},e.exports=a},function(e,t,r){var n=r(92);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,o=!1,i=0,a=0,s="";function u(){if(!o){var r=n.trim(e.slice(i,a)),u=r.indexOf(":");if(-1!==u){var c=n.trim(r.slice(0,u)),l=n.trim(r.slice(u+1));if(c){var f=t(i,s.length,c,l,r);f&&(s+=f+"; ")}}}i=a+1}for(;a<r;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||u():"\n"===c&&u()}return n.trim(s)}},function(e,t,r){var n=r(67).FilterCSS,o=r(90),i=r(93),a=i.parseTag,s=i.parseAttr,u=r(68);function c(e){return null==e}function l(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,l=t.onTagAttr,f=t.onIgnoreTagAttr,d=t.safeAttrValue,p=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;if(t.stripIgnoreTagBody){g=o.StripTagBody(t.stripIgnoreTagBody,i);i=g.onIgnoreTag}var m=a(e,(function(e,t,o,a,g){var m,v={sourcePosition:e,position:t,isClosing:g,isWhite:r.hasOwnProperty(o)};if(!c(m=n(o,a,v)))return m;if(v.isWhite){if(v.isClosing)return"</"+o+">";var y=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=u.trim(e.slice(0,-1))),{html:e,closing:r}}(a),b=r[o],w=s(y.html,(function(e,t){var r,n=-1!==u.indexOf(b,e);return c(r=l(o,e,t,n))?n?(t=d(o,e,t,h))?e+'="'+t+'"':e:c(r=f(o,e,t,n))?void 0:r:r}));a="<"+o;return w&&(a+=" "+w),y.closing&&(a+=" /"),a+=">"}return c(m=i(o,a,v))?p(a):m}),p);return g&&(m=g.remove(m)),m},e.exports=l},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var o=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return n[t]?"#"+n[t]:e};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(158)),o=a(r(98)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return function(t,r){void 0===r&&(r="16px");var a=t,s=r;if("string"==typeof t){if(!(0,n.default)(t,"px"))throw new i.default(69,e,t);a=(0,o.default)(t)}if("string"==typeof r){if(!(0,n.default)(r,"px"))throw new i.default(70,e,r);s=(0,o.default)(r)}if("string"==typeof a)throw new i.default(71,t,e);if("string"==typeof s)throw new i.default(72,r,e);return""+a/s+e}};t.default=s,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return e.substr(-t.length)===t},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){void 0===t&&(t="#000");void 0===r&&(r="#fff");return(0,n.default)(e)>.179?t:r};var n=o(r(160));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("transparent"===e)return 0;var t=(0,n.default)(e),r=Object.keys(t).map((function(e){var r=t[e]/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)})),o=r[0],i=r[1],a=r[2];return parseFloat((.2126*o+.7152*i+.0722*a).toFixed(3))};var n=o(r(39));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(71)),o=s(r(99)),i=s(r(100)),a=s(r(101));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if("transparent"===t)return t;var r=(0,i.default)(t);return(0,a.default)(u({},r,{lightness:(0,o.default)(0,1,r.lightness+parseFloat(e))}))}var l=(0,n.default)(c);t.default=l,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t,r=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(r,n,o),a=Math.min(r,n,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case r:t=(n-o)/u+(n<o?6:0);break;case n:t=(o-r)/u+2;break;default:t=(r-n)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)(e,t,r);if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)(e.hue,e.saturation,e.lightness);throw new o.default(1)};var n=i(r(102)),o=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,n.default)(e,t,r):"rgba("+(0,o.default)(e,t,r)+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,n.default)(e.hue,e.saturation,e.lightness):"rgba("+(0,o.default)(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new i.default(2)};var n=a(r(102)),o=a(r(70)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(71)),o=s(r(99)),i=s(r(100)),a=s(r(101));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if("transparent"===t)return t;var r=(0,i.default)(t);return(0,a.default)(u({},r,{lightness:(0,o.default)(0,1,r.lightness-parseFloat(e))}))}var l=(0,n.default)(c);t.default=l,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){void 0===e&&(e="100%");return{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(71)),o=a(r(69)),i=a(r(39));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t,r){if("transparent"===t)return r;if("transparent"===r)return t;var n=(0,i.default)(t),a=s({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),u=(0,i.default)(r),c=s({},u,{alpha:"number"==typeof u.alpha?u.alpha:1}),l=a.alpha-c.alpha,f=2*parseFloat(e)-1,d=((f*l==-1?f:f+l)/(1+f*l)+1)/2,p=1-d,h={red:Math.floor(a.red*d+c.red*p),green:Math.floor(a.green*d+c.green*p),blue:Math.floor(a.blue*d+c.blue*p),alpha:a.alpha+(c.alpha-a.alpha)*(parseFloat(e)/1)};return(0,o.default)(h)}var c=(0,n.default)(u);t.default=c,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=c(e),i=r.match(s);if(i&&!i.every((function(e){return e===i[0]})))throw new o.default(41);return""+function(e,t){var r,i=function(e){var t={};return t.symbols=e?a({},n.default.symbols,{},e.symbols):a({},n.default.symbols),t}(t),s=[i.symbols["("].prefix],c=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(i.symbols).map((function(e){return i.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var f=!1;do{var d=(r=l.exec(e))||[")",void 0],p=d[0],h=d[1],g=i.symbols[p],m=g&&!g.prefix&&!g.func,v=!g||!g.postfix&&!g.infix;if(h||(f?v:m))throw new o.default(37,r?r.index:e.length,e);if(f){var y=g.postfix||g.infix;do{var b=s[s.length-1];if((y.precedence-b.precedence||b.rightToLeft)>0)break}while(u(s,c));f="postfix"===y.notation,")"!==y.symbol&&(s.push(y),f&&u(s,c))}else if(g){if(s.push(g.prefix||g.func),g.func&&(!(r=l.exec(e))||"("!==r[0]))throw new o.default(38,r?r.index:e.length,e)}else c.push(+p),f=!0}while(r&&s.length);if(s.length)throw new o.default(39,r?r.index:e.length,e);if(r)throw new o.default(40,r?r.index:e.length,e);return c.pop()}(c(r.replace(s,"")),t)+(i?c(i[0]):"")};var n=i(r(169)),o=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function u(e,t){var r,n=e.pop();return t.push(n.f.apply(n,(r=[]).concat.apply(r,t.splice(-n.argCount)))),n.precedence}function c(e){return e.split("").reverse().join("")}e.exports=t.default},function(e,t,r){"use strict";function n(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}t.__esModule=!0,t.default=void 0;var o={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:n,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:n,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r,i,a=(0,n.default)(e);if(!t&&0!==t)throw new o.default(62);if("Top"===a||"Bottom"===a)return(r={})["border"+a+"RightRadius"]=t,r["border"+a+"LeftRadius"]=t,r;if("Left"===a||"Right"===a)return(i={})["borderTop"+a+"Radius"]=t,i["borderBottom"+a+"Radius"]=t,i;throw new o.default(63)};var n=i(r(171)),o=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.default=n,e.exports=t.default},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Sanitizer",(function(){return de}));var n,o,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString,f=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))});var d=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=f(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==c};function p(e,t){return e(t={exports:{}},t.exports),t.exports}function h(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var g=/javascript\s*\:/gim;var m={whiteList:h(),getDefaultWhiteList:h,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return g.test(t)?"":t}},v=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},y=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var b=function(e,t){";"!==(e=y(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,o=0,i=0,a="";function s(){if(!n){var r=v(e.slice(o,i)),s=r.indexOf(":");if(-1!==s){var u=v(r.slice(0,s)),c=v(r.slice(s+1));if(u){var l=t(o,a.length,u,c,r);l&&(a+=l+"; ")}}}o=i+1}for(;i<r;i++){var u=e[i];if("/"===u&&"*"===e[i+1]){var c=e.indexOf("*/",i+2);if(-1===c)break;o=(i=c+1)+1,n=!1}else"("===u?n=!0:")"===u?n=!1:";"===u?n||s():"\n"===u&&s()}return v(a)};function w(e){return null==e}function S(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||m.whiteList,e.onAttr=e.onAttr||m.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||m.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||m.safeAttrValue,this.options=e}S.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,o=t.onIgnoreAttr,i=t.safeAttrValue;return b(e,(function(e,t,a,s,u){var c=r[a],l=!1;if(!0===c?l=c:"function"==typeof c?l=c(s):c instanceof RegExp&&(l=c.test(s)),!0!==l&&(l=!1),s=i(a,s)){var f,d={position:t,sourcePosition:e,source:u,isWhite:l};return l?w(f=n(a,s,d))?a+":"+s:f:w(f=o(a,s,d))?void 0:f}}))};var O=S,I=p((function(e,t){for(var r in(t=e.exports=function(e,t){return new O(t).process(e)}).FilterCSS=O,m)t[r]=m[r]})),_=(I.FilterCSS,function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}),E=function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},T=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},C=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},A=I.FilterCSS,P=I.getDefaultWhiteList;function x(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var D=new A;function j(e){return e.replace(k,"&lt;").replace(R,"&gt;")}var k=/</g,R=/>/g,M=/"/g,N=/&quot;/g,L=/&#([a-zA-Z0-9]*);?/gim,F=/&colon;?/gim,U=/&newline;?/gim,V=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,B=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,W=/u\s*r\s*l\s*\(.*/gi;function q(e){return e.replace(M,"&quot;")}function G(e){return e.replace(N,'"')}function H(e){return e.replace(L,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function z(e){return e.replace(F,":").replace(U," ")}function $(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return T(t)}function K(e){return e=$(e=z(e=H(e=G(e))))}function Y(e){return e=j(e=q(e))}var J=/<!--[\s\S]*?-->/g;var X={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:x,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:function(e,t,r,n){if(r=K(r),"href"===t||"src"===t){if("#"===(r=T(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(V.lastIndex=0,V.test(r))return""}else if("style"===t){if(B.lastIndex=0,B.test(r))return"";if(W.lastIndex=0,W.test(r)&&(V.lastIndex=0,V.test(r)))return"";!1!==n&&(r=(n=n||D).process(r))}return r=Y(r)},escapeHtml:j,escapeQuote:q,unescapeQuote:G,escapeHtmlEntities:H,escapeDangerHtml5Entities:z,clearNonPrintableCharacter:$,friendlyAttrValue:K,escapeAttrValue:Y,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(i,a,s){if(function(t){return!!r||-1!==_(e,t)}(i)){if(s.isClosing){var u="[/removed]",c=s.position+u.length;return n.push([!1!==o?o:s.position,c]),o=!1,u}return o||(o=s.position),"[removed]"}return t(i,a,s)},remove:function(e){var t="",r=0;return E(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},stripCommentTag:function(e){return e.replace(J,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:D,getDefaultCSSWhiteList:P};function Q(e){var t=C(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=T(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Z(e){return"</"===e.slice(0,2)}var ee=/[^a-zA-Z0-9_:\.\-]/gim;function te(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function re(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ne(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var oe={parseTag:function(e,t,r){var n="",o=0,i=!1,a=!1,s=0,u=e.length,c="",l="";for(s=0;s<u;s++){var f=e.charAt(s);if(!1===i){if("<"===f){i=s;continue}}else if(!1===a){if("<"===f){n+=r(e.slice(o,s)),i=s,o=s;continue}if(">"===f){n+=r(e.slice(o,i)),c=Q(l=e.slice(i,s+1)),n+=t(i,n.length,c,l,Z(l)),o=s+1,i=!1;continue}if(('"'===f||"'"===f)&&"="===e.charAt(s-1)){a=f;continue}}else if(f===a){a=!1;continue}}return o<e.length&&(n+=r(e.substr(o))),n},parseAttr:function(e,t){var r=0,n=[],o=!1,i=e.length;function a(e,r){if(!((e=(e=T(e)).replace(ee,"").toLowerCase()).length<1)){var o=t(e,r||"");o&&n.push(o)}}for(var s=0;s<i;s++){var u,c=e.charAt(s);if(!1!==o||"="!==c)if(!1===o||s!==r||'"'!==c&&"'"!==c||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(u=te(e,s))){a(T(e.slice(r,s))),o=!1,r=s+1;continue}s=u-1;continue}if(-1===(u=re(e,s-1))){a(o,ne(T(e.slice(r,s)))),o=!1,r=s+1;continue}}else;else{if(-1===(u=e.indexOf(c,s+1)))break;a(o,T(e.slice(r+1,u))),o=!1,r=(s=u)+1}else o=e.slice(r,s),r=s+1}return r<e.length&&(!1===o?a(e.slice(r)):a(o,ne(T(e.slice(r))))),T(n.join(" "))}},ie=I.FilterCSS,ae=oe.parseTag,se=oe.parseAttr;function ue(e){return null==e}function ce(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=X.onIgnoreTagStripAll),e.whiteList=e.whiteList||X.whiteList,e.onTag=e.onTag||X.onTag,e.onTagAttr=e.onTagAttr||X.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||X.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||X.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||X.safeAttrValue,e.escapeHtml=e.escapeHtml||X.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ie(e.css))}ce.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,o=t.onIgnoreTag,i=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,u=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=X.stripBlankChar(e)),t.allowCommentTag||(e=X.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=X.StripTagBody(t.stripIgnoreTagBody,o);o=l.onIgnoreTag}var f=ae(e,(function(e,t,l,f,d){var p,h={sourcePosition:e,position:t,isClosing:d,isWhite:r.hasOwnProperty(l)};if(!ue(p=n(l,f,h)))return p;if(h.isWhite){if(h.isClosing)return"</"+l+">";var g=function(e){var t=C(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=T(e.slice(t+1,-1)))[e.length-1];return r&&(e=T(e.slice(0,-1))),{html:e,closing:r}}(f),m=r[l],v=se(g.html,(function(e,t){var r,n=-1!==_(m,e);return ue(r=i(l,e,t,n))?n?(t=s(l,e,t,c))?e+'="'+t+'"':e:ue(r=a(l,e,t,n))?void 0:r:r}));f="<"+l;return v&&(f+=" "+v),g.closing&&(f+=" /"),f+=">"}return ue(p=o(l,f,h))?u(f):p}),u);return l&&(f=l.remove(f)),f};var le=ce,fe=p((function(e,t){function r(e,t){return new le(t).process(e)}for(var n in(t=e.exports=r).filterXSS=r,t.FilterXSS=le,X)t[n]=X[n];for(var n in oe)t[n]=oe[n];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}));fe.filterXSS,fe.FilterXSS;class de{constructor(e,t){let r;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:(e,t,r,n)=>"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?this.sanitizeUrl(r):fe.safeAttrValue(e,t,r,n)},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach(t=>{"whiteList"===t?r.whiteList=this._extendObjectOfArrays([this.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList),this.xssFilterOptions=r,this._xssFilter=new fe.FilterXSS(r)}sanitize(e,t={}){switch(typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}}sanitizeUrl(e){const t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?fe.escapeAttrValue(e):""}validate(e,t={}){const r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}}_extendObjectOfArrays(e){const t={};return e.forEach(e=>{Object.keys(e).forEach(r=>{Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]})}),t}_iterateOverObject(e,t={}){try{let r,n=!1;if(Array.isArray(e))r=e.reduce((e,r)=>{const o=this.validate(r,t);return o.isValid?e.concat([r]):(n=!0,e.concat([o.sanitized]))},[]);else{if(!d(e)){if(t.allowUndefined&&void 0===e)return;return null}r=Object.keys(e).reduce((r,o)=>{const i=e[o],a=this.validate(i,t);return a.isValid?r[o]=i:(n=!0,r[o]=a.sanitized),r},{})}return n?r:e}catch(e){return null}}_trim(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(12),i=r(5),a=r(32),s=r(29),u=r(15),c=r(51),l=r(4);function f(e,t){var r,n,o,i,a=e.appConfig,s=t.appConfig,u=Object.keys(a.widgets).filter((function(e){return!s.widgets[e]}));e=e.set("widgetsRuntimeInfo",e.widgetsRuntimeInfo.without.apply(e.widgetsRuntimeInfo,u)).set("widgetsState",e.widgetsState.without.apply(e.widgetsState,u)).set("widgetsMutableStateVersion",e.widgetsMutableStateVersion.without.apply(e.widgetsMutableStateVersion,u));var c=Object.keys(a.dataSources).filter((function(e){return!s.dataSources[e]}));e=e.set("dataSourcesInfo",e.dataSourcesInfo.without.apply(e.dataSourcesInfo,c));var l=Object.keys(a.views).filter((function(e){return!s.views[e]}));if(l.indexOf(e.appRuntimeInfo.currentViewId)>-1&&(e=e.setIn(["appRuntimeInfo","currentViewId"],void 0)),l.forEach((function(t){var r,n,o,i,s,u,c=Object.keys(a.sections||{}).find((function(e){return a.sections[e].views.indexOf(t)>-1}));(null===(r=e.appRuntimeInfo.sectionNavInfos)||void 0===r?void 0:r[c])&&((null===(n=e.appRuntimeInfo.sectionNavInfos)||void 0===n?void 0:n[c].currentViewId)===t&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"currentViewId"],null)),(null===(o=e.appRuntimeInfo.sectionNavInfos)||void 0===o?void 0:o[c].previousViewId)===t&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"previousViewId"],null)),(null===(s=null===(i=e.appRuntimeInfo.sectionNavInfos)||void 0===i?void 0:i[c].visibleViews)||void 0===s?void 0:s.find((function(e){return e===t})))&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"visibleViews"],null===(u=e.appRuntimeInfo.sectionNavInfos)||void 0===u?void 0:u[c].visibleViews.filter((function(e){return e!==t})))))})),Object.keys(a.sections||{}).filter((function(e){return!s.sections[e]})).forEach((function(t){var r;(null===(r=e.appRuntimeInfo.sectionNavInfos)||void 0===r?void 0:r[t])&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos"],e.appRuntimeInfo.sectionNavInfos.without(t)))})),e.appRuntimeInfo.currentPageId&&!s.pages[e.appRuntimeInfo.currentPageId]){var f=Object.keys(s.pages).find((function(e){return s.pages[e].isDefault}));e=e.setIn(["appRuntimeInfo","currentPageId"],f)}if(e.appRuntimeInfo.clipboard){var d=e.appRuntimeInfo.clipboard,p=d.layoutId,h=d.layoutItemId;(null===(n=null===(r=s.layouts[p])||void 0===r?void 0:r.content)||void 0===n?void 0:n[h])||(e=e.set("appRuntimeInfo",e.appRuntimeInfo.without("clipboard")))}if(e.appRuntimeInfo.selection){var g=e.appRuntimeInfo.selection;p=g.layoutId,h=g.layoutItemId;(null===(i=null===(o=s.layouts[p])||void 0===o?void 0:o.content)||void 0===i?void 0:i[h])||(e=e.set("appRuntimeInfo",e.appRuntimeInfo.without("selection")))}return e=e.set("appConfig",s)}function d(e,t){var r;return r=e.appConfig&&e.appConfig.pages?e.appConfig.pages[t]:{},e.setIn(["appRuntimeInfo","activeLayout"],r.layout||null).setIn(["appRuntimeInfo","editingSectionId"],null).setIn(["appRuntimeInfo","selection"],null)}function p(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Opened)}function h(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Closed)}function g(e,t){return Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),e=e.setIn(["appRuntimeInfo","selection"],t)}function m(e,t,r){var n,o,i,a,s,u,c,l;if((null===(n=r.visibleViews)||void 0===n?void 0:n.length)>0?(l=r.visibleViews,c=r.visibleViews.length):c=null!==(a=null==(l=null!==(i=null===(o=e.appConfig.sections[t])||void 0===o?void 0:o.views)&&void 0!==i?i:[])?void 0:l.length)&&void 0!==a?a:0,r.useProgress&&(!r.currentViewId||!r.previousViewId)){var f=function(e,t){var r,n,o=v(e,0,1)*(t-1),i=Math.floor(o);n=i,n=function(e){return Math.abs(e-Math.round(e))<1e-7}(o)?Math.round(o)-1:i;return r=v(r=n+1,0,t-1),{previousIndex:n=v(n,0,t-1),progress:o,currentIndex:r}}(r.progress,c),d=f.currentIndex,p=f.previousIndex;r.currentViewId=l[d],r.previousViewId=l[p]}if(null==r.progress){d=l.indexOf(r.currentViewId);r.progress=l.length>1?d/(l.length-1):1}if(null==r.previousViewId){var h=null===(u=null===(s=e.appRuntimeInfo)||void 0===s?void 0:s.sectionNavInfos)||void 0===u?void 0:u[t];if(null==h?void 0:h.currentViewId)r.previousViewId=h.currentViewId;else{d=l.indexOf(r.currentViewId);r.previousViewId=d>0?l[d-1]:l[c-1]}}return r}function v(e,t,r){return Math.max(t,Math.min(e,r))}t.default=function(e,t){var r,v;if(!e)return v={appConfig:null,portalUrl:null,portalSelf:null,widgetsRuntimeInfo:n({}),widgetsPreloadProps:n({}),dataSourcesPreloadData:n({}),appContext:null,appRuntimeInfo:n({}),isNetworkOffLine:null,browserSizeMode:null,appPath:window.location.pathname,appId:null,appInfo:n({}),appI18nMessages:n({}),queryObject:null,dataSourcesInfo:n({}),jimuMapViewsInfo:n({}),widgetsState:n({}),widgetsMutableStateVersion:n({}),dynamicModules:n({}),theme:n({}),token:null,user:null,overlays:n([])},n(v);if(t.type.indexOf("@@")>-1)return e;switch(t.type){case o.ActionKeys.InitStoreExtensionState:return function(e,t){var r=a.default.getInstance().getExtensionById(t.extensionId),n=r.getStoreKey().split(".");if(e.getIn(n))return e;return e=e.setIn(n,r.getInitLocalState())}(e,t);case o.ActionKeys.AppConfigLoaded:return function(e,t){var r=t.appConfig.attributes.portalUrl,n=t.appConfig.attributes.clientId,o=e.set("appConfig",t.appConfig);r&&o.portalUrl!==r&&(o=o.set("portalUrl",r));n&&o.clientId!==n&&(o=o.set("clientId",n));if(!o.appRuntimeInfo.currentPageId){var i=Object.keys(t.appConfig.pages).find((function(e){return t.appConfig.pages[e].isDefault}));o=o.setIn(["appRuntimeInfo","currentPageId"],i)}return o}(e,t);case o.ActionKeys.SetPortalUrl:return e.set("portalUrl",t.portalUrl);case o.ActionKeys.SetPortalInfo:return e=e.set("portalUrl",t.portalUrl),t.clientId&&(e=e.set("clientId",t.clientId)),e;case o.ActionKeys.SetPortalSelf:return e.set("portalSelf",t.portalSelf);case o.ActionKeys.AppConfigChanged:return f(e,t);case o.ActionKeys.AppPathChanged:return function(e,t){e=e.set("appPath",t.path);var r=u.parseAppPath(location.pathname).pageId;r||(r=e.appConfig&&Object.keys(e.appConfig.pages).find((function(t){return e.appConfig.pages[t].isDefault})));r&&(e=d(e=e.setIn(["appRuntimeInfo","currentPageId"],r),r));return e}(e,t);case o.ActionKeys.AppInfoChanged:return e.set("appInfo",e.appInfo.merge(t.appInfo));case o.ActionKeys.AppContextInit:return e.set("appContext",t.appContext);case o.ActionKeys.AppIdChanged:return e.set("appId",t.appId);case o.ActionKeys.I18nMessagesLoaded:return function(e,t){0;return e.set("appI18nMessages",e.appI18nMessages.merge(t.messages))}(e,t);case o.ActionKeys.QueryObjectChanged:return function(e,t){var r;e=e.set("queryObject",n(t.query)),t.query.dlg?e.appRuntimeInfo.currentDialogId&&(null===(r=e.appConfig.dialogs)||void 0===r?void 0:r[e.appRuntimeInfo.currentDialogId].isSplash)||(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.query.dlg)):e=e.setIn(["appRuntimeInfo","currentDialogId"],null);if(t.query.views&&e.appConfig){var o=u.getSectionNavInfoFromQueryObject(t.query,e.appConfig);Object.keys(o).forEach((function(t){var r,n,i;if((null===(i=null===(n=null===(r=e.appRuntimeInfo)||void 0===r?void 0:r.sectionNavInfos)||void 0===n?void 0:n[t])||void 0===i?void 0:i.currentViewId)!==o[t].currentViewId){var a=m(e,t,o[t]);e=e.setIn(["appRuntimeInfo","sectionNavInfos",t],a)}}))}t.query.page&&(e=d(e=e.setIn(["appRuntimeInfo","currentPageId"],t.query.page),t.query.page));return e}(e,t);case o.ActionKeys.SetAppInBuilder:return e.set("appContext",e.appContext.merge({isInBuilder:!0}));case o.ActionKeys.WidgetClassLoaded:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"isClassLoaded"],!0).setIn(["widgetsRuntimeInfo",t,"isReadyInjectDataSource"],e.appConfig.widgets[t].manifest.properties.autoBindDataSource)}(e,t.widgetId);case o.ActionKeys.WidgetConfigLoaded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config);case o.ActionKeys.WidgetConfigUpgraded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config).setIn(["appConfig","widgets",t.widgetId,"version"],e.appConfig.widgets[t.widgetId].manifest.version);case o.ActionKeys.OpenWidget:return p(e,t.widgetId);case o.ActionKeys.OpenWidgets:return function(e,t){return t.forEach((function(t){e=p(e,t)})),e}(e,t.widgetIds);case o.ActionKeys.CloseWidget:return h(e,t.widgetId);case o.ActionKeys.CloseWidgets:return function(e,t){return t.forEach((function(t){e=h(e,t)})),e}(e,t.widgetIds);case o.ActionKeys.ActivateWidget:return function(e,t){var r;if(!(null===(r=e.appConfig.widgets[t])||void 0===r?void 0:r.manifest.properties.needActiveState))return e;var n=Object.keys(e.widgetsRuntimeInfo).filter((function(t){return e.widgetsRuntimeInfo[t].state===i.WidgetState.Active}));e.appConfig.widgets[t].manifest.properties.deactivateOtherWidgets&&n.forEach((function(t){e=e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Opened)}));return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Active)}(e,t.widgetId);case o.ActionKeys.SetWidgetIsInlineEditingState:return!1===t.isInlineEditing?e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!1):(Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!0));case o.ActionKeys.SetWidgetReadyInjectDataSource:return e.setIn(["widgetsRuntimeInfo",t.widgetId,"isReadyInjectDataSource"],!0);case o.ActionKeys.SetWidgetPreloadProps:return e.setIn(["widgetsPreloadProps",t.widgetId],t.props);case o.ActionKeys.SetDataSourcePreloadData:return e.setIn(["dataSourcesPreloadData",t.dataSourceId],t.data);case o.ActionKeys.LayoutClassLoaded:return e.setIn(["isLayoutClassLoaded",t.layoutName],!0);case o.ActionKeys.DataSourceInstanceStatusChanged:return t.status!==l.DataSourceStatus.NotCreated||e.appConfig.dataSources[t.dataSourceId]?e.setIn(["dataSourcesInfo",t.dataSourceId,"instanceStatus"],t.status):e.set("dataSourcesInfo",e.dataSourcesInfo.without(t.dataSourceId));case o.ActionKeys.DataSourceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"status"],t.status);case o.ActionKeys.DataSourceCountStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"countStatus"],t.countStatus);case o.ActionKeys.DataSourceSaveStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"saveStatus"],t.saveStatus);case o.ActionKeys.DataSourceVersionAdded:var y=e.dataSourcesInfo[t.dataSourceId]&&e.dataSourcesInfo[t.dataSourceId].version?e.dataSourcesInfo[t.dataSourceId].version:0;return e.setIn(["dataSourcesInfo",t.dataSourceId,"version"],y+1);case o.ActionKeys.ChangeDataSourceGDBVersion:return e.setIn(["dataSourcesInfo",t.dataSourceId,"gdbVersion"],t.gdbVersion);case o.ActionKeys.JimuMapViewAdded:case o.ActionKeys.JimuMapViewUpdated:return e.setIn(["jimuMapViewsInfo",t.jimuMapViewId],t.jimuMapViewInfo);case o.ActionKeys.JimuMapViewRemoved:var b;return b=e.jimuMapViewsInfo.without(t.jimuMapViewId),e.setIn(["jimuMapViewsInfo"],b);case o.ActionKeys.DataSourceSelectedIndexesChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],t.selectedIndexes).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],null);case o.ActionKeys.DataSourceSelectedIdsChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],t.selectedIds).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],null);case o.ActionKeys.SetDataNeedRefresh:return e.setIn(["dataSourcesInfo",t.dataSourceId,"needRefresh"],t.refresh);case o.ActionKeys.UpdateWidgetQuery:return e.setIn(["dataSourcesInfo",t.dataSourceId,"widgetQueries",t.widgetId],t.query);case o.ActionKeys.WidgetStatePropChange:return function(e,t){var r=t.propKey.split(".");return e.setIn(["widgetsState",t.widgetId].concat(r),t.value)}(e,t);case o.ActionKeys.WidgetMutableStatePropChange:return function(e,t){var r=t.propKey.split("."),n=e.widgetsMutableStateVersion[t.widgetId]||0;return c.default.getInstance().updateStateValue([t.widgetId].concat(r),t.value),e.setIn(["widgetsMutableStateVersion",t.widgetId],++n)}(e,t);case o.ActionKeys.SessionStart:return e.set("token",t.token);case o.ActionKeys.UserSignIn:return e.set("user",n(t.user));case o.ActionKeys.UserSignOut:return e.merge({token:null,user:null});case o.ActionKeys.BrowserSizeModeChanged:return e.set("browserSizeMode",t.browserSizeMode);case o.ActionKeys.NetworkStatusChanged:return e.set("isNetworkOffLine",t.isOffLine);case o.ActionKeys.DynamicModuleLoaded:return e;case o.ActionKeys.CurrentViewChanged:return(null===(r=e.appRuntimeInfo)||void 0===r?void 0:r.currentViewId)!==t.viewId?e.setIn(["appRuntimeInfo","currentViewId"],t.viewId):e;case o.ActionKeys.CurrentPageChanged:return d(e=e.setIn(["appRuntimeInfo","currentPageId"],t.pageId),t.pageId);case o.ActionKeys.CurrentDialogChanged:return(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.dialogId)).setIn(["appRuntimeInfo","currentDialogId"],t.dialogId);case o.ActionKeys.SelectionChanged:return g(e,t.selection);case o.ActionKeys.AppModeChanged:return e.setIn(["appRuntimeInfo","appMode"],t.mode).setIn(["appRuntimeInfo","animationPreview"],null);case o.ActionKeys.AppRuntimeInfoInit:return e.set("appRuntimeInfo",t.info);case o.ActionKeys.UpdateStoreState:return t.state;case o.ActionKeys.ThemeVariablesChanged:return e.set("theme",n(t.theme));case o.ActionKeys.ActivePagePartChanged:return e.setIn(["appRuntimeInfo","activePagePart"],t.part);case o.ActionKeys.OpenOverlay:return(null==e?void 0:e.overlays.indexOf(t.id))>-1?e:e.set("overlays",e.overlays.concat([t.id]));case o.ActionKeys.CloseOverlay:return(null==e?void 0:e.overlays.indexOf(t.id))>-1?e.set("overlays",e.overlays.filter((function(e){return e!==t.id}))):e;case o.ActionKeys.ActiveOverlay:var w=null==e?void 0:e.overlays;return(null==w?void 0:w.indexOf(t.id))<0||(null==w?void 0:w.indexOf(t.id))===(null==w?void 0:w.length)-1?e:(w=(w=w.filter((function(e){return e!==t.id}))).concat([t.id]),e.set("overlays",w));case o.ActionKeys.SetIsBusy:return e.setIn(["appRuntimeInfo","isBusy"],t.isBusy);case o.ActionKeys.ZoomScaleChanged:return e.setIn(["appRuntimeInfo","zoomScale"],t.zoomScale);case o.ActionKeys.LayoutChanged:return g(f(e,{appConfig:t.appConfig,type:o.ActionKeys.AppConfigChanged}),t.selection);case o.ActionKeys.ClipboardChanged:return e.setIn(["appRuntimeInfo","clipboard"],t.item);case o.ActionKeys.SectionNavInfoChanged:var S=m(e,t.sectionId,t.navInfo);return e.setIn(["appRuntimeInfo","sectionNavInfos",t.sectionId],S);case o.ActionKeys.ClosedDialogIdsChanged:return e.setIn(["appRuntimeInfo","closedDialogIds"],t.dialogs);case o.ActionKeys.SetupAnimationPreview:return e.setIn(["appRuntimeInfo","animationPreview"],t.data);case o.ActionKeys.ClearAnimationPreview:return e.set("appRuntimeInfo",e.appRuntimeInfo.without("animationPreview"));case o.ActionKeys.SetHasNewVersion:return e.set("hasNewVersion",t.hasNew);default:return function(e,t){for(var r=a.default.getInstance().getExtensions(s.ExtensionPoints.ReduxStore),n=0;n<r.length;n++){var o=r[n];if(o.getActions().indexOf(t.type)>-1){var i=o.getStoreKey().split("."),u=e.getIn(i);return e.setIn(i,o.getReducer()(u,t,e))}}return e}(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(20);function i(){if(window.jimuConfig.packagesInAppFolder)return"./resources";var e=null,t=(e=window.jimuConfig.isBuilder?n.getAppStore().getState().appStateInBuilder:n.getAppStore().getState())&&e.appId;return window.jimuConfig.isDevEdition?window.location.origin+"/apps/"+t+"/resources":o.getHostUrlByOrgUrl(n.getAppStore().getState().portalUrl)+"/sharing/rest/content/items/"+t+"/resources"}function a(e,t){var r,n=[],o=[];function i(e){var t=e.obj,r=e.key,n={obj:t,key:r};return"number"==typeof e.i?(n.i=e.i,n.value=t[r][e.i]):n.value=t[r],n}function a(e){for(var t in e)"object"==typeof e[t]?Array.isArray(e[t])?u(e,t):a(e[t]):"string"==typeof e[t]&&s(e,t)}function s(e,a,s){"number"==typeof s?t.matchFunction(e[a][s])&&((r=t.matchHandle(i({obj:e,key:a,i:s})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r)):t.matchFunction(e[a])&&((r=t.matchHandle(i({obj:e,key:a})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r))}function u(e,t){for(var r=0;r<e[t].length;r++)"string"==typeof e[t][r]?s(e,t,r):"object"==typeof e[t][r]&&a(e[t][r])}return a(e),o.length>0?Promise.all(o).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(null)})):Promise.resolve(e)}t.getRealAppResourceUrl=i,t.appendPortalInfoToResource=function(e,t){var r=i(),n=new RegExp("^"+r),o=new RegExp("^\\$\\{appResourceUrl\\}+(.)");return a(e,{matchFunction:function(e){return o.test(e)||n.test(e)},matchHandle:function(e){var n=e.obj,o=e.key,i=null;i=(i=t?e.value+"?token="+t:e.value).replace("${appResourceUrl}",r),n=e.obj,o=e.key,"number"==typeof e.i?n[o][e.i]=i:n[o]=i}})},t.cleanPortalInfoFromResource=function(e){var t=i(),r=new RegExp("^"+t),n=new RegExp("^(.)+?token=");return a(e,{matchFunction:function(e){return n.test(e)||r.test(e)},matchHandle:function(e){var r=e.obj,n=e.key,o=e.value.split("?")[0];o=o.replace(t,"${appResourceUrl}"),"number"==typeof e.i?r[n][e.i]=o:r[n]=o}}),e},t.replaceAppConfigNodeValue=a},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}r.r(t);var o=n();o.withExtraArgument=n,t.default=o},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(137),a=r(72);t.withTheme=a.withTheme;var s=r(11),u=r(52),c=r(107),l=r(3),f=r(49),d=r(48),p=r(39),h=r(63),g=r(108),m=r(9),v=p,y=/^var\(--(.+?)\)$/;function b(e,t,r){if(!e||!t||!r)return null;var n,o=f(r,e),i=f(r,["palette",e]),a=o&&i&&Object.keys(i).find((function(e){if(d(v(i[e]),v(o)))return e}));return a&&(n=parseInt(a)+100*t),n}function w(e,t){if("string"!=typeof e)return null;if(!t){var r=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme;t=u.default.getInstance().getThemeVariables(r)}return f(t,e)}function S(){if(window.jimuConfig.isInBuilder)return window.parent._appState}t.withStyles=function(e,t){var r=t||e.displayName||e.name||"";return i.default(e)((function(e){return u.default.getInstance().getComponentStyles(r,e)}))},t.getThemeNameFromUri=function(e){if(!e)return null;var t=e.split("/"),r=null;return t.length>1?r=t.pop():1===t.length&&(r=t[0]),r},t.lighten=function(e,t,r){if(!e||!t||!r)return null;var n=f(r,["palette",e]),o=b(e,-t,r);return o<100?r.white:n[o]},t.darken=function(e,t,r){if(!e||!t||!r)return null;var n=f(r,["palette",e]),o=b(e,t,r);return o>900?r.black:n[o]},t.valueOf=w,t.pathOf=function(e,t,r){if("string"!=typeof e)return e;if(/^var\(--(.+?)\)$/.test(e))return e;if(!r){var n=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme;r=u.default.getInstance().getThemeVariables(n)}var o=r.colors.palette;if(!o)return e;var i=e,a=[100,200,300,400,500,600,700,800,900],s=!1;return Object.keys(c.ThemeThemeColorKeys).some((function(r){r=r.toLowerCase();var n=o[r];return a.some((function(o){return n[o]===e&&(s=!0,i=t?"var(--"+r+"-"+o+")":"colors.palette."+r+"."+o,!0)})),s})),i},t.varsOf=function(e,t){return t||(t=l.getAppStore()&&l.getAppStore().getState().appConfig&&l.getAppStore().getState().appConfig.theme),u.default.getInstance().getRawThemeVariables(t).getIn(["components",e])},t.isCSSVar=function(e){return y.test(e)},t.color=function(e,t){if("string"!=typeof e)return null;var r,n="colors";return(r=this.isCSSVar(e)?e.match(y)[1].split("-"):e.split(".")).length>1&&parseInt(r[1])%100==0&&(n="colors.palette"),w(n+"."+r.join("."),t)||e},t.withBuilderStyle=function(e,t){if(!window.jimuConfig.isInBuilder)return e;var r=function(){if(window.jimuConfig.isInBuilder)return window.parent._themeManager}(),u=S(),c=u.appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),l=t||e.displayName||e.name||"",f=i.default(e)((function(e){return r.getComponentStyles(l,e)}));return function(e){return o.createElement(a.ThemeProvider,{theme:r.getThemeVariables(u.appConfig.theme)},o.createElement(s.CacheProvider,{value:c},o.createElement(f,n({},e))))}},t.withBuilderTheme=function(e,t){if(!window.jimuConfig.isInBuilder)return e;var r=S(),i=r.appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),u=a.withTheme(e);return function(e){return o.createElement(a.ThemeProvider,{theme:r.theme},o.createElement(s.CacheProvider,{value:i},o.createElement(u,n({},e))))}},t.getBuilderThemeVariables=function(){return window.jimuConfig.isInBuilder?S().theme:null},t.getMappedShareThemeVariables=function(e){var t,r,o,i=l.getAppStore().getState(),a=null===(r=null===(t=null==i?void 0:i.portalSelf)||void 0===t?void 0:t.portalProperties)||void 0===r?void 0:r.sharedTheme;if(a){var s=a.header,u=a.body,c=a.button,f=a.logo,d=a.fonts;o=m({sharedThemeVariables:{header:n(n({},s.background&&{bg:s.background}),s.text&&{color:s.text}),body:n(n(n({},u.background&&{bg:u.background}),u.text&&{color:u.text}),u.link&&{link:u.link}),button:n(n({},c.background&&{bg:c.background}),c.text&&{color:c.text}),logo:f,fonts:d}}),e&&(o=m({colors:n({},c.background&&{primary:c.background}),header:o.sharedThemeVariables.header,body:o.sharedThemeVariables.body,components:n({},c.text&&{button:{variants:{primary:{default:{color:c.text}}}}}),link:{color:u.link,hover:{color:u.link}}}))}return o},t.getThemeVariablesByCategory=function(e,t){var r,o,i,a,s,f,d,p=c.COMPONENT_CATEGORIES[e],h=null===(i=null===(o=null===(r=l.getAppStore())||void 0===r?void 0:r.getState())||void 0===o?void 0:o.appConfig)||void 0===i?void 0:i.theme;window.jimuConfig.isBuilder&&!t&&(h=null===(d=null===(f=null===(s=null===(a=l.getAppStore())||void 0===a?void 0:a.getState())||void 0===s?void 0:s.appStateInBuilder)||void 0===f?void 0:f.appConfig)||void 0===d?void 0:d.theme);var g=u.default.getInstance().getThemeVariables(h);return p.map((function(e){var t,r=g.getIn(["components",e]),o=null!==(t=null==r?void 0:r.variants)&&void 0!==t?t:m({default:r});if("navButtonGroup"===e){var i=m({});return["default","primary","tertiary"].forEach((function(e){var t,r=null===(t=o[e])||void 0===t?void 0:t.item,a=g.getIn(["components","button","variants",e]).merge(null!=r?r:{},{deep:!0});i=i.set(e,n(n({},o[e]),{item:a}))})),{component:e,styles:i}}return{component:e,styles:o}}))}},function(e,t,r){
/*!
 * Converts CSS stylesheets between left-to-right and right-to-left.
 * https://github.com/cssjanus/cssjanus
 *
 * Copyright 2008 Google Inc.
 * Copyright 2010 Trevor Parscal
 */
var n;function o(e,t){var r=[],n=0;function o(e){return r.push(e),t}function i(){return r[n++]}return{tokenize:function(t){return t.replace(e,o)},detokenize:function(e){return e.replace(new RegExp("("+t+")","g"),i)}}}n=new function(){var e="(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",t="(?:[_a-z0-9-]|[^\\u0020-\\u007e]|"+e+")",r="(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))(?:[_a-z0-9-]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))*)?",n="((?:-?"+r+")|(?:inherit|auto))",i="(#?"+t+"+|(?:rgba?|hsla?)\\([ \\d.,%-]+\\))",a="(?:[!#$%&*-~]|[^\\u0020-\\u007e]|"+e+")*?",s="(?!("+t+"|\\r?\\n|\\s|#|\\:|\\.|\\,|\\+|>|\\(|\\)|\\[|\\]|=|\\*=|~=|\\^=|'[^']*'])*?{)",u="(?!"+a+"['\"]?\\s*\\))",c="(?="+a+"['\"]?\\s*\\))",l="(\\s*(?:!important\\s*)?[;}])",f=new RegExp("`TMP`","g"),d=new RegExp("\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\/","gi"),p=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/"+s+"[^;}]+;?)","gi"),h=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/[^\\}]*?})","gi"),g=new RegExp("(direction\\s*:\\s*)ltr","gi"),m=new RegExp("(direction\\s*:\\s*)rtl","gi"),v=new RegExp("(^|[^a-zA-Z])(left)(?![a-zA-Z])"+u+s,"gi"),y=new RegExp("(^|[^a-zA-Z])(right)(?![a-zA-Z])"+u+s,"gi"),b=new RegExp("(^|[^a-zA-Z])(left)"+c,"gi"),w=new RegExp("(^|[^a-zA-Z])(right)"+c,"gi"),S=new RegExp("(^|[^a-zA-Z])(ltr)"+c,"gi"),O=new RegExp("(^|[^a-zA-Z])(rtl)"+c,"gi"),I=new RegExp("(^|[^a-zA-Z])([ns]?)e-resize","gi"),_=new RegExp("(^|[^a-zA-Z])([ns]?)w-resize","gi"),E=new RegExp("((?:margin|padding|border-width)\\s*:\\s*)"+n+"(\\s+)"+n+"(\\s+)"+n+"(\\s+)"+n+l,"gi"),T=new RegExp("((?:-color|border-style)\\s*:\\s*)"+i+"(\\s+)"+i+"(\\s+)"+i+"(\\s+)"+i+l,"gi"),C=new RegExp("(background(?:-position)?\\s*:\\s*(?:[^:;}\\s]+\\s+)*?)("+r+")","gi"),A=new RegExp("(background-position-x\\s*:\\s*)(-?(?:[0-9]*\\.[0-9]+|[0-9]+)%)","gi"),P=new RegExp("(border-radius\\s*:\\s*)"+n+"(?:(?:\\s+"+n+")(?:\\s+"+n+")?(?:\\s+"+n+")?)?(?:(?:(?:\\s*\\/\\s*)"+n+")(?:\\s+"+n+")?(?:\\s+"+n+")?(?:\\s+"+n+")?)?"+l,"gi"),x=new RegExp("(box-shadow\\s*:\\s*(?:inset\\s*)?)"+n,"gi"),D=new RegExp("(text-shadow\\s*:\\s*)"+n+"(\\s*)"+i,"gi"),j=new RegExp("(text-shadow\\s*:\\s*)"+i+"(\\s*)"+n,"gi"),k=new RegExp("(text-shadow\\s*:\\s*)"+n,"gi"),R=new RegExp("(transform\\s*:[^;}]*)(translateX\\s*\\(\\s*)"+n+"(\\s*\\))","gi"),M=new RegExp("(transform\\s*:[^;}]*)(translate\\s*\\(\\s*)"+n+"((?:\\s*,\\s*"+n+"){0,2}\\s*\\))","gi");function N(e,t,r){var n,o;return"%"===r.slice(-1)&&(-1!==(n=r.indexOf("."))?(o=r.length-n-2,r=(r=100-parseFloat(r)).toFixed(o)+"%"):r=100-parseFloat(r)+"%"),t+r}function L(e){switch(e.length){case 4:e=[e[1],e[0],e[3],e[2]];break;case 3:e=[e[1],e[0],e[1],e[2]];break;case 2:e=[e[1],e[0]];break;case 1:e=[e[0]]}return e.join(" ")}function F(e,t){var r=[].slice.call(arguments),n=r.slice(2,6).filter((function(e){return e})),o=r.slice(6,10).filter((function(e){return e})),i=r[10]||"";return t+(o.length?L(n)+" / "+L(o):L(n))+i}function U(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}function V(e,t,r){return t+U(r)}function B(e,t,r,n,o){return t+r+U(n)+o}function W(e,t,r,n,o){return t+r+n+U(o)}return{transform:function(e,t){var r=new o(p,"`NOFLIP_SINGLE`"),n=new o(h,"`NOFLIP_CLASS`"),i=new o(d,"`COMMENT`");return e=i.tokenize(n.tokenize(r.tokenize(e.replace("`","%60")))),t.transformDirInUrl&&(e=e.replace(S,"$1`TMP`").replace(O,"$1ltr").replace(f,"rtl")),t.transformEdgeInUrl&&(e=e.replace(b,"$1`TMP`").replace(w,"$1left").replace(f,"right")),e=e.replace(g,"$1`TMP`").replace(m,"$1ltr").replace(f,"rtl").replace(v,"$1`TMP`").replace(y,"$1left").replace(f,"right").replace(I,"$1$2`TMP`").replace(_,"$1$2e-resize").replace(f,"w-resize").replace(P,F).replace(x,V).replace(D,W).replace(j,W).replace(k,V).replace(R,B).replace(M,B).replace(E,"$1$2$3$8$5$6$7$4$9").replace(T,"$1$2$3$8$5$6$7$4$9").replace(C,N).replace(A,N),e=r.detokenize(n.detokenize(i.detokenize(e)))}}},e.exports?t.transform=function(e,t,r){var o;return"object"==typeof t?o=t:(o={},"boolean"==typeof t&&(o.transformDirInUrl=t),"boolean"==typeof r&&(o.transformEdgeInUrl=r)),n.transform(e,o)}:"undefined"!=typeof window&&(window.cssjanus=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(109),o=r(110);t.triggerEvent=function(e){if("undefined"!=typeof window){var t=e.key;-1!==navigator.userAgent.indexOf("Edge")&&(n.default(e)||o.default[e.keyCode]||(t="key"+t));var r=new KeyboardEvent(e.type,{key:t+"-manual",code:e.code,location:e.location,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,repeat:e.repeat,charCode:e.charCode,keyCode:e.keyCode,which:e.which});document.dispatchEvent(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(2),a=r(83),s=r(3),u=r(20),c=r(21),l=r(41),f=r(33);!function(e){e.AppList="AppList",e.Builder="Builder",e.Experience="Experience"}(n=t.CheckTarget||(t.CheckTarget={})),function(e){e.InvalidUserLevel="InvalidUserLevel",e.InvalidPrivilege="InvalidPrivilege",e.InvalidLicense="InvalidLicense",e.InvalidResourceExperience="InvalidResourceExperience",e.InvalidResourceItem="InvalidResourceItem",e.InvalidResourcePermission="InvalidResourcePermission",e.NullInfo=""}(o=t.InvalidInfo||(t.InvalidInfo={}));var d=null;function p(e){return b().then((function(t){var r=function(e){var t=s.getAppStore().getState().portalUrl,r=function(){var e=s.getAppStore().getState();return e.appId||e.queryObject.id||e.queryObject.template}(),o={valid:!0,isExperience:!0,isValidItem:!0,hasPermissionToAccess:!0};return e===n.AppList||window.jimuConfig.isDevEdition?Promise.resolve(o):r?/\.json$/.test(r)||/^https/.test(r)?Promise.resolve(o):y(t,r).then((function(e){return!e||"Web Experience"!==e.type&&"Web Experience Template"!==e.type?(o.valid=!1,o.isExperience=!1,o):o})).catch((function(e){return e&&"CONT_0001"===e.code?(o.valid=!1,o.isValidItem=!1):(o.valid=!1,o.hasPermissionToAccess=!1),o})):Promise.resolve(o)}(e),i=function(e){return window.jimuConfig.isDevEdition||e!==n.Builder&&e!==n.AppList?Promise.resolve(!0):v().then((function(e){return!(!e||!e.orgId)})).catch((function(){return!1}))}(e),a=function(e){return h().then((function(t){return window.jimuConfig.isDevEdition&&t&&(e===n.Builder||e===n.AppList)?v().then((function(e){return!(!e||"2"!==e.level)})).catch((function(){return!1})):Promise.resolve(!0)}))}(e),u=function(e,t){return g(t).then((function(t){var r={valid:!1,capabilities:t,invalidInfo:o.NullInfo,invalidMessage:""};if(window.jimuConfig.isDevEdition){if(e===n.AppList)return r.valid=t.canCreateExperience,r;if(e===n.Builder)return r.valid=t.canCreateExperience,r;if(e===n.Experience)return r.valid=!0,r}else{if(e===n.AppList)return r.valid=!0,r;if(e===n.Builder)return r.valid=t.canCreateExperience,r;if(e===n.Experience)return r.valid=!0,r}}))}(e,t),c=function(e,t){var r=s.getAppStore().getState(),o=r.portalUrl;return window.jimuConfig.isDevEdition?Promise.resolve({valid:!0,viewOnly:!1}):e===n.Builder||e===n.AppList?Promise.resolve(t):r.appId?/^\/templates\/.*\.json$/.test(r.appId)?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t){return y(e,t).then((function(e){return e&&"public"===e.access}))}(o,r.appId).then((function(e){return e?{valid:!0,viewOnly:!1}:t})).catch((function(e){return{valid:!0,viewOnly:!1}})):Promise.resolve({valid:!0,viewOnly:!1})}(e,t);return Promise.all([r,i,a,u,c])})).then((function(t){var r=t[0],i=t[1],a=t[2],s=t[3],u=t[4],c={valid:r.valid&&i&&a&&s.valid&&u.valid&&(e!==n.Builder||!u.viewOnly),capabilities:{canViewExperience:a&&s.capabilities.canViewExperience&&u.valid,canCreateExperience:a&&s.capabilities.canCreateExperience&&u.valid&&!u.viewOnly,canUpdateExperience:a&&s.capabilities.canUpdateExperience&&u.valid&&!u.viewOnly,canDeleteExperience:a&&s.capabilities.canDeleteExperience&&u.valid&&!u.viewOnly,canShareExperience:a&&s.capabilities.canShareExperience&&u.valid&&!u.viewOnly},invalidInfo:o.NullInfo,invalidMessage:""};return c.invalidInfo=function(e,t,r,i,a,s){var u=o.NullInfo;u=i?s.valid?!a.valid||!r||e===n.Builder&&s.viewOnly?o.InvalidPrivilege:t.valid?o.NullInfo:t.isExperience?t.isValidItem?o.InvalidResourcePermission:o.InvalidResourceItem:o.InvalidResourceExperience:o.InvalidLicense:o.InvalidUserLevel;return u}(e,r,i,a,s,u),c.invalidMessage=function(e,t){var r=l.getIntl(),i=m(),a="";i?t===o.InvalidLicense?e===n.Builder||e===n.AppList?a=r.formatMessage({id:"essentialAppsLicenseErrorForBuilder",defaultMessage:f.default.essentialAppsLicenseErrorForBuilder}):e===n.Experience&&(a=r.formatMessage({id:"essentialAppsLicenseErrorForApp",defaultMessage:f.default.essentialAppsLicenseErrorForApp})):t===o.InvalidPrivilege?a=window.jimuConfig.isDevEdition?r.formatMessage({id:"roleError2",defaultMessage:f.default.roleError2}):r.formatMessage({id:"noEditContentPrivilegesError",defaultMessage:f.default.noEditContentPrivilegesError}):t===o.InvalidUserLevel?a=r.formatMessage({id:"roleError",defaultMessage:f.default.roleError}):t===o.InvalidResourceExperience?a=r.formatMessage({id:"invalidResourceExperience",defaultMessage:f.default.invalidResourceExperience}):t===o.InvalidResourceItem?a=r.formatMessage({id:"invalidResourceItem",defaultMessage:f.default.invalidResourceItem}):t===o.InvalidResourcePermission&&(a=r.formatMessage({id:"invalidResourcePermission",defaultMessage:f.default.invalidResourcePermission})):a="";return a}(e,c.invalidInfo),c}))}function h(){return(e=s.getAppStore().getState().portalUrl,t=m(),d||(d=i.request(u.getPortalRestUrl(e)+"portals/self",{authentication:t,httpMethod:"GET"}).then((function(e){return e})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+(null==t?void 0:t.username)+"'."),null}))),d).then((function(e){return!!(e&&e.isPortal&&Number(e.currentVersion)<=6.1)}));var e,t}function g(e){return v().then((function(e){return!!(e&&e.privileges&&e.privileges.indexOf&&e.privileges.indexOf("portal:user:createItem")>-1)})).catch((function(){return!1})).then((function(t){var r=t&&e.valid&&!e.viewOnly;return{canViewExperience:!0,canCreateExperience:r,canUpdateExperience:r,canDeleteExperience:r,canShareExperience:r}}))}function m(){return c.default.getInstance().getMainSession()}function v(){var e=m();return e?e.getUser().then((function(e){return e})).catch((function(t){return console.log(t&&t.message,"You are currently signed in as: '"+e.username+"'."),Promise.reject()})):(console.log("The user has not signed in."),Promise.reject())}function y(e,t){var r=m();return a.getItem(t,{portal:u.getPortalRestUrl(e),authentication:r||null}).then((function(e){return e})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+(null==r?void 0:r.username)+"'."),Promise.reject(e)}))}function b(){var e=s.getAppStore().getState().portalUrl;return h().then((function(t){return t?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t,r){var n={valid:!1,viewOnly:!1},o=c.default.getInstance().getSessionByUrl(e);if(o){var a=o.portal+"/oauth2/validateAppAccess?client_id="+t;return i.request(a,{authentication:o}).then((function(e){return!1===e.valid?console.log("not-authorized","You are currently signed in as: '"+o.username+"'."):(n.valid=!0,n.viewOnly=!!e.viewOnlyUserTypeApp),n})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+o.username+"'."),Promise.resolve(n)}))}return Promise.resolve(n)}(e,"arcgisWebApps")}))}t.checkAccess=function(e){return p(e).then((function(e){return e.valid}))},t.getAccessCapabilities=function(){return b().then((function(e){return g(e)}))},t.checkExbAccess=p},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(114),o=r(53),i=r(5),a=r(115),s=r(41),u=r(184),c=r(185),l=r(186),f=r(187),d=r(188),p=r(189),h=r(190),g=r(191),m=u.default||u,v=c.default||c,y=l.default||l,b=f.default||f,w=d.default||d,S=p.default||p,O=h.default||h,I=g.default||g,_={equals:{op:"= ?"},doesNotEqual:{op:"<> ?"},isAtLeast:{op:">= ?"},isAtMost:{op:"<= ?"},isLessThan:{op:"< ?"},isGreaterThan:{op:"> ?"},isBetween:{op:"BETWEEN ?",sep:" AND "},isNotBetween:{op:"NOT BETWEEN ?",sep:" AND "},contains:{op:"LIKE ?",mod:"%{0}%"},doesNotContain:{op:"NOT LIKE ?",mod:"%{0}%"},startsWith:{op:"LIKE ?",mod:"{0}%"},endsWith:{op:"LIKE ?",mod:"%{0}"},isAnyOf:{op:"IN ?",mod:"[{0}]",type:"IN"},isNoneOf:{op:"NOT IN ?",mod:"[{0}]",type:"IN"}};function E(e){var t="";switch(e){case n.ClauseOperator.NumberOperatorIs:case n.ClauseOperator.StringOperatorIs:case n.ClauseOperator.DateOperatorIsOn:case n.ClauseOperator.NumberOperatorIsBlank:case n.ClauseOperator.StringOperatorIsBlank:case n.ClauseOperator.DateOperatorIsBlank:t="equals";break;case n.ClauseOperator.NumberOperatorIsNot:case n.ClauseOperator.StringOperatorIsNot:case n.ClauseOperator.DateOperatorIsNotOn:case n.ClauseOperator.NumberOperatorIsNotBlank:case n.ClauseOperator.StringOperatorIsNotBlank:case n.ClauseOperator.DateOperatorIsNotBlank:t="doesNotEqual";break;case n.ClauseOperator.NumberOperatorIsAtLeast:case n.ClauseOperator.DateOperatorIsOnOrAfter:t="isAtLeast";break;case n.ClauseOperator.NumberOperatorIsAtMost:case n.ClauseOperator.DateOperatorIsOnOrBefore:t="isAtMost";break;case n.ClauseOperator.NumberOperatorIsLessThan:case n.ClauseOperator.DateOperatorIsBefore:t="isLessThan";break;case n.ClauseOperator.DateOperatorIsAfter:case n.ClauseOperator.NumberOperatorIsGreaterThan:t="isGreaterThan";break;case n.ClauseOperator.NumberOperatorIsBetween:case n.ClauseOperator.DateOperatorIsBetween:t="isBetween";break;case n.ClauseOperator.NumberOperatorIsNotBetween:case n.ClauseOperator.DateOperatorIsNotBetween:t="isNotBetween";break;case n.ClauseOperator.NumberOperatorIsAnyOf:case n.ClauseOperator.StringOperatorIsAnyOf:case n.ClauseOperator.DateOperatorIsIn:t="isAnyOf";break;case n.ClauseOperator.NumberOperatorIsNoneOf:case n.ClauseOperator.StringOperatorIsNoneOf:case n.ClauseOperator.DateOperatorIsNotIn:t="isNoneOf";break;case n.ClauseOperator.StringOperatorContains:t="contains";break;case n.ClauseOperator.StringOperatorDoesNotContain:t="doesNotContain";break;case n.ClauseOperator.StringOperatorStartsWith:t="startsWith";break;case n.ClauseOperator.StringOperatorEndsWith:t="endsWith"}return t}function T(e,t,r,o,i){if(void 0===o&&(o=!1),void 0===i&&(i=!1),e.indexOf("BLANK")>=0)return r.fieldAlias+(e.indexOf("NOT")<0?" IS NULL":" IS NOT NULL");var a=E(e);if(e.indexOf("DATE")>=0)switch(e){case n.ClauseOperator.DateOperatorIsOn:a=i?"is":o?"isAt":"isOn";break;case n.ClauseOperator.DateOperatorIsNotOn:a=i?"isNot":o?"isNotAt":"isNotOn";break;case n.ClauseOperator.DateOperatorIsIn:a="isIn";break;case n.ClauseOperator.DateOperatorIsNotIn:a="isNotIn";break;case n.ClauseOperator.DateOperatorIsBefore:a="isBefore";break;case n.ClauseOperator.DateOperatorIsAfter:a="isAfter";break;case n.ClauseOperator.DateOperatorIsOnOrBefore:a=o?"isAtOrBefore":"isOnOrBefore";break;case n.ClauseOperator.DateOperatorIsOnOrAfter:a=o?"isAtOrAfter":"isOnOrAfter";break;case n.ClauseOperator.DateOperatorIsInTheLast:a="isInTheLast";break;case n.ClauseOperator.DateOperatorIsNotInTheLast:a="isNotInTheLast"}return t.formatMessage({id:a+"ForDisplaySQL"},r)}function C(e,t){var r=null,n=new Date,o=n.getTime();switch(e){case a.VirtualDateType.Today:r=n;break;case a.VirtualDateType.Yesterday:r=new Date(o-864e5);break;case a.VirtualDateType.Tomorrow:r=new Date(o+864e5);break;case a.VirtualDateType.ThisWeek:r=[m(n,{locale:t.locale}),v(n,{locale:t.locale})];break;case a.VirtualDateType.ThisMonth:r=[y(n),b(n)];break;case a.VirtualDateType.ThisQuarter:r=[w(n),S(n)];break;case a.VirtualDateType.ThisYear:r=[O(n),I(n)]}return r}function A(e,t){var r=e;return t===a.TimeUnit.Year?r=365*e:t===a.TimeUnit.Month?r=30*e:t===a.TimeUnit.Week?r=7*e:t===a.TimeUnit.Hour?r=e/24:t===a.TimeUnit.Minute&&(r=e/1440),r=Math.round(1e6*r)/1e6}function P(e){return(e=e.toLowerCase()).replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function x(e){return e.replace(/[\0\n\r\b\\\'\"]/g,(function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";default:return"\\"+e}})).replace(/\t/g,"\\t").replace(/\x1a/g,"\\Z")}function D(e,t){return e.replace(/{([0-9]+)}/g,(function(e,r){return t[parseInt(r)]}))}function j(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}t.getRealDateByVirtualDate=C,t.getArcGISSQL=function(e,t,r){r=r||s.getIntl();var a={sql:"",displaySQL:"(1=1)"};if(!e)return a;var u=t.getSchema().fields,c=o.isHostedService(t.url),l=function e(t){if(!t.parts)return a;var s=t.logicalOperator?t.logicalOperator:n.ClauseLogic.And,l=[],f=[];t.parts.forEach((function(t){var a,s,d,p,h,g,m,v,y,b,w,S;if(t.type===n.ClauseType.Set){var O=e(t);l.push("("+O.sql+")"),f.push("( "+O.displaySQL+" )")}else{var I=t,M=!1,N=_[E(I.operator)],L="",B="",W=I.valueOptions.value?I.valueOptions.value.asMutable({deep:!0}):null,q=u[I.jimuFieldName],G=q?q.type:null;if(!G)return;var H={fieldAlias:q.alias||q.name,value:"?",endValue:"?"};if(G===i.JimuFieldType.Date&&I.valueOptions.sourceType!==n.ClauseSourceType.Field){var z=!1,$=!1,K=I.valueOptions.inputEditor;if(null===W){if(I.operator.indexOf("BLANK")>0){var Y=I.operator.indexOf("NOT")>0?"NOT ":"";l.push("("+q.name+" IS "+Y+"NULL)")}"SIMPLE_SELECT"===K?(null===(a=q.format)||void 0===a?void 0:a.dateFormat)&&q.format.dateFormat.indexOf("Time")>=0&&(z=!0):z=K.indexOf("TIME")>=0}else if("NUMBER_LIST_SELECTOR"===K&&null===W[0].value)H.endValue=r.formatMessage({id:W[0].label.toLowerCase()});else{var J=c?"":"timestamp ",X=null===(s=W[0])||void 0===s?void 0:s.value,Q=void 0;if("SIMPLE_SELECT"===K){var Z=k.Date;K="DATE_PICKER",(null===(d=q.format)||void 0===d?void 0:d.dateFormat)&&q.format.dateFormat.indexOf("Time")>=0&&(z=!0,K="DATE_TIME_PICKER",Z=q.format.dateFormat.indexOf("ShortTime")>=0?k.DateTimeShort:k.DateTimeLong),H.value=U(new Date(X),K,null===(p=q.format)||void 0===p?void 0:p.dateFormat,r),Q=X=V(X,Z)}else if("NUMBER_LIST_SELECTOR"===K)X=null,H.value=W[0].value,H.endValue=r.formatMessage({id:W[0].label.toLowerCase()});else{var ee=null===(h=W[1])||void 0===h?void 0:h.value;if(null===W[0])X=null;else if("string"==typeof X){$=!0,H.value=r.formatMessage({id:P(W[0].value)});var te=C(X,r);X=o.getUTCDateValue(te[0]||te,o.DateTimeType.Date),void 0!==te.length?Q=o.getUTCDateValue(te[1],o.DateTimeType.Date):ee||(Q=X,K="DATE_PICKER")}else z=K.indexOf("TIME")>=0,H.value=F(new Date(X),K,null===(g=q.format)||void 0===g?void 0:g.dateFormat,r),Q=X;if(null===W[1])$=!1,Q=null;else if(ee){$=!1;var re=void 0;if("string"==typeof ee){re=r.formatMessage({id:P(W[1].value)});te=C(ee,r);Q=o.getUTCDateValue(te[0]||te,o.DateTimeType.Date),K="DATE_PICKER"}else re=F(new Date(ee),K,null===(m=q.format)||void 0===m?void 0:m.dateFormat,r),Q=ee;H.endValue=re}}var ne=X?J+"'"+R(X)+"'":null,oe=Q?J+"'"+function(e,t,r){"number"==typeof e&&(e=new Date(e));var n;"DATE_PICKER"===t||"DOUBLE_DATE_PICKER"===t||"DATE_RANGE_SELECTOR"===t?n=new Date(e.getTime()+864e5):"DATE_TIME_PICKER"!==t&&"DOUBLE_DATE_TIME_PICKER"!==t||(n=r&&r.indexOf("LongTime")>=0?function(e){return new Date(e.getTime()+1e3)}(e):function(e){return new Date(e.getTime()+6e4)}(e));return R(n)}(Q,K,null===(v=q.format)||void 0===v?void 0:v.dateFormat)+"'":null;switch(I.operator){case n.ClauseOperator.DateOperatorIsOn:L=q.name+" BETWEEN "+ne+" AND "+oe+" AND ("+q.name+" <> "+oe+")";break;case n.ClauseOperator.DateOperatorIsNotOn:L=q.name+" < "+ne+" OR "+q.name+" >= "+oe;break;case n.ClauseOperator.DateOperatorIsBefore:L=q.name+" < "+ne;break;case n.ClauseOperator.DateOperatorIsAfter:L=q.name+" >= "+oe;break;case n.ClauseOperator.DateOperatorIsOnOrBefore:L=q.name+" < "+oe;break;case n.ClauseOperator.DateOperatorIsOnOrAfter:L=q.name+" >= "+ne;break;case n.ClauseOperator.DateOperatorIsInTheLast:L=q.name+" BETWEEN CURRENT_TIMESTAMP - "+A(W[0].value,null===(y=W[0])||void 0===y?void 0:y.label)+" AND CURRENT_TIMESTAMP";break;case n.ClauseOperator.DateOperatorIsNotInTheLast:L=q.name+" NOT BETWEEN CURRENT_TIMESTAMP - "+A(W[0].value,null===(b=W[0])||void 0===b?void 0:b.label)+" AND CURRENT_TIMESTAMP";break;case n.ClauseOperator.DateOperatorIsBetween:case n.ClauseOperator.DateOperatorIsIn:L=ne&&oe?"("+q.name+" BETWEEN "+ne+" AND "+oe+") AND ("+q.name+" <> "+oe+")":"";break;case n.ClauseOperator.DateOperatorIsNotBetween:case n.ClauseOperator.DateOperatorIsNotIn:L=ne&&oe?"("+q.name+" < "+ne+") OR ("+q.name+" >= "+oe+")":""}""!==L&&l.push("("+L+")")}return B=T(I.operator,r,H,z,$),void f.push("("+B+")")}var ie=[],ae=[];if(null===W)"IN"===N.type&&(H.value="(?)");else{for(var se=!1,ue=0;ue<W.length;ue++){null===W[ue]&&(se=!0,W[ue]={value:null,label:"?"});var ce=W[ue].value,le=W[ue].label;if(I.valueOptions.sourceType===n.ClauseSourceType.Field){var fe=u[ce];le=fe.alias?fe.alias:fe.name}else{if(G===i.JimuFieldType.String&&(ce=null!==ce?x(ce):null,M=!(c||I.caseSensitive)),le=x(le),N.mod&&"IN"!==N.type&&(ce=null!==ce?D(N.mod,[ce]):null),G===i.JimuFieldType.String){var de=c&&j(ce)?"N":"";ce=null!==ce?de+"'"+ce+"'":null}le=G===i.JimuFieldType.String&&null!==ce?"'"+le+"'":le,M&&(ce=null!==ce?ce.toUpperCase():null,le=le.toUpperCase())}null!==ce&&ie.push(ce),ae.push(le)}se&&(ie=[]),!N.sep&&N.mod&&"IN"===N.type?(N.mod=(w=ie.length,S=[],new Array(w).fill(1).map((function(e,t){S.push("{"+t+"}")})),"("+S.join(",")+")"),L=D(N.mod,ie),H.value=D(N.mod,ae)):(ie.map((function(e,t){t>0&&(L+=N.sep),L+=e})),H.value=ae[0],H.endValue=ae[1]||H.endValue)}var pe=q.name;if(""!==L){var he=function(e,t){return e.replace("?",(function(){return t}))}(N.op,L),ge=M?"UPPER("+pe+")":pe;l.push("("+ge+" "+he+")")}else if(I.operator.indexOf("BLANK")>0){Y=I.operator.indexOf("NOT")>0?"NOT ":"";l.push("("+pe+" IS "+Y+"NULL)"),B="Null"}B=T(I.operator,r,H),f.push("("+B+")")}}));var d=r.formatMessage({id:s.toLowerCase()+"LowerCase"});return{sql:l.join(" "+s+" "),displaySQL:f.join(" "+d+" ")}}(e);return{sql:""===l.sql?"":"("+l.sql+")",displaySQL:l.displaySQL}},t.parserSQL=function(e){return null},t.containsNonLatinCharacter=j;var k;function R(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)}function M(e){var t=e.getTimezoneOffset();return(t<0?1:-1)*(t<0?Math.abs(t)/60:t/60)*60*60*1e3}function N(e){return e.getTime()-M(e)}function L(e){return e.getTime()+M(e)}function F(e,t,r,n){return U(new Date(L(e)),t,r,n)}function U(e,t,r,n){var o="";if(n){var i=a.DATE_TIME_DEFAULT_FORMAT.date,s=a.DATE_TIME_DEFAULT_FORMAT.time;if(r){var u=a.getEsriDateFormat(r);i=u.datePattern,s=t.indexOf("DATE_TIME_PICKER")>=0?u.timePattern||s:""}else"DATE_PICKER"!==t&&"DOUBLE_DATE_PICKER"!==t||(s="");o=a.formatDateLocally(e,n,i,s)}else"DATE_PICKER"===t||"DOUBLE_DATE_PICKER"===t?o=e.toLocaleDateString():"DATE_TIME_PICKER"!==t&&"DOUBLE_DATE_TIME_PICKER"!==t||(o=e.toLocaleDateString()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2));return o}function V(e,t){return"number"!=typeof e&&"string"!=typeof e||(e=new Date(e)),e.setMilliseconds(0),t===k.Date?(e.setHours(0),e.setMinutes(0),e.setSeconds(0)):t===k.DateTimeShort&&e.setSeconds(0),N(e)}t.getUTCTimes=N,t.getLocalTimes=L,function(e){e.Date="DATE",e.DateTimeShort="DATE_TIME_SHORT",e.DateTimeLong="DATE_TIME_LONG"}(k=t.DateTimeType||(t.DateTimeType={})),t.getUTCDateValue=V},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(7),o=r(43);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=t||{},i=r.locale,a=i&&i.options&&i.options.weekStartsOn,s=null==a?0:Object(o.a)(a),u=null==r.weekStartsOn?s:Object(o.a)(r.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(n.a)(e),l=c.getDay(),f=(l<u?7:0)+l-u;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(7),o=r(43);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=t||{},i=r.locale,a=i&&i.options&&i.options.weekStartsOn,s=null==a?0:Object(o.a)(a),u=null==r.weekStartsOn?s:Object(o.a)(r.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(n.a)(e),l=c.getDay(),f=6+(l<u?-7:0)-(l-u);return c.setDate(c.getDate()+f),c.setHours(23,59,59,999),c}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e),r=t.getMonth(),o=r-r%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(7);function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(n.a)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(34);t.average=function(e,t){return o.getFunctionResult(e,n.ExpressionFunctions.Average,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(16),i=r(34),a=r(117);t.count=function(e,t,r){if(!e||0===e.length){var s=null,u=o.default.getInstance().getDataSource(t);if(u){var c=u&&u.getSchema(),l=c&&c.fields&&Object.keys(c.fields).find((function(e){return c.fields[e].esriType===a.ESRIOBJECTIDTYPE})),f=c&&c.fields&&c.fields[l];if(f)s=[{type:n.ExpressionPartType.Field,jimuFieldName:f.jimuName,dataSourceId:t,exp:"{"+(f.alias||f.name)+"}"}];else if(c&&c.fields&&Object.keys(c.fields).length>0){var d=Object.keys(c.fields)[0],p=c.fields[d];p&&(s=[{type:n.ExpressionPartType.Field,jimuFieldName:p.jimuName,dataSourceId:t,exp:"{"+(p.alias||p.name)+"}"}])}return s?i.getFunctionResult(s,n.ExpressionFunctions.Count,r):Promise.reject(i.errorCode.ParamNumber)}return Promise.reject(i.errorCode.ParamNumber)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(34);t.sum=function(e,t){return o.getFunctionResult(e,n.ExpressionFunctions.Sum,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(34);t.max=function(e,t){return o.getFunctionResult(e,n.ExpressionFunctions.Max,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(34);t.min=function(e,t){return o.getFunctionResult(e,n.ExpressionFunctions.Min,t)}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(37),s=r(3),u=r(199),c=r(74),l=r(36),f=r(72),d=r(127),p=r(11),h=r(63),g=r(108),m=a.connect((function(e){return{locale:e.appContext.locale,defaultLocale:e.appContext.locale,messages:e.appI18nMessages}}))(l.IntlProvider),v=a.connect((function(e){return{theme:e.theme}}))(f.ThemeProvider),y=function(e){function t(t){var r=e.call(this,t)||this;return r.myEmotionCache=s.getAppStore().getState().appContext.isRTL?h.default({stylisPlugins:g.default}):h.default(),r}return o(t,e),t.prototype.render=function(){return i.createElement(a.Provider,{store:s.getAppStore()},i.createElement(d.ErrorBoundary,null,i.createElement(c.HistoryProvider,null,i.createElement(m,null,i.createElement(v,null,i.createElement(p.CacheProvider,{value:this.myEmotionCache},i.createElement(u.default,null)))))))},t}(i.PureComponent);t.default=y},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(97),s=r(9),u=r(37),c=r(119),l=r(50),f=r(12),d=r(6),p=r(15),h=r(19),g=r(124),m=r(11),v=r(52),y=r(55),b=r(36),w=r(16),S=r(33),O=function(e){function t(t){var r,n,o=e.call(this,t)||this;o.getKeyboardComponent=function(){if(window.jimuConfig.isBuilder){var e=d.getModuleSync("jimu-for-builder").BuilderKeyboardComponent;return i.createElement(e,null)}return window.jimuConfig.isInBuilder?i.createElement(g.default,null):null};var a={},u=o.getPageId();return a.pageStatus=s(u?((r={})[u]=!0,r):((n={})[u]=!0,n)),d.getModuleSync(o.getLayoutEntryPath())&&(a.PageRenderClass=d.getModuleSync(o.getLayoutEntryPath()).PageRenderer),d.getModuleSync("jimu-ui")&&(a.jimuUI=d.getModuleSync("jimu-ui")),window.isNode||window.initStoreState?a.preloadWidgetsLoaded=!0:a.preloadWidgetsLoaded=!1,o.state=a,o.onDismiss=o.onDismiss.bind(o),o.reload=o.reload.bind(o),o}return o(t,e),t.prototype.getLayoutEntryPath=function(){return window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime"},t.prototype.loadPageRenderClass=function(){return d.getModuleSync(this.getLayoutEntryPath())?Promise.resolve(d.getModuleSync(this.getLayoutEntryPath()).PageRenderer):d.loadModule(this.getLayoutEntryPath()).then((function(e){return e.PageRenderer}))},t.prototype.loadJimuUI=function(){return d.getModuleSync("jimu-ui")?Promise.resolve(d.getModuleSync("jimu-ui")):d.loadModule("jimu-ui")},t.prototype.componentDidMount=function(){var e=this,t=p.getFixedRootPath()+"jimu-ui",r=this.props.isRTL?t+"/styles/base-rtl.css":t+"/styles/base.css";if(document){if(document.getElementById("jimu-base-style"))return;var n=document.createElement("link");n.setAttribute("id","jimu-base-style"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",r),document.head.appendChild(n)}var o={};this.loadPageRenderClass().then((function(t){return o.PageRenderClass=t,e.loadJimuUI()})).then((function(t){return o.jimuUI=t,c.default.getInstance({intl:e.props.intl}).loadAppConfig()})).then((function(t){e.props.dispatch(f.appConfigLoaded(t));var r=p.getSectionNavInfoFromQueryObject(e.props.queryObject,t);return Object.keys(r).forEach((function(t){e.props.dispatch(f.sectionNavInfoChanged(t,r[t]))})),window.jimuConfig.isInBuilder?w.default.getInstance().createAllDataSources().then((function(){return t})):t})).then((function(t){e.setState(o),e.loadPreloadWidgets(t.preloadWidgets),v.default.getInstance().loadTheme(t.theme).then((function(){console.log("Theme loaded.",t.theme)})).catch((function(t){console.error("Initializing theme manager failed.",t),e.setState({error:t.message})}))})).catch((function(t){console.error("Load app config error.",t),e.setState({error:t.message})}))},t.prototype.componentWillUnmount=function(){var e=document.getElementById("jimu-base-style");e&&e.remove()},t.prototype.loadPreloadWidgets=function(e){var t=this;e&&0!==e.length?Promise.all(e.asMutable().map((function(e){return y.default.getInstance().loadWidgetClass(e)}))).then((function(){t.setState({preloadWidgetsLoaded:!0})})):this.setState({preloadWidgetsLoaded:!0})},t.prototype.componentDidUpdate=function(){var e=this.getPageId(),t=this.state.pageStatus;e&&!t[e]&&(Object.keys(t).forEach((function(e){t=t.set(e,!1)})),this.setState({pageStatus:t.set(e,!0)}))},t.prototype.getPageId=function(){var e=this;if(!this.props.pages)return null;var t=p.getAppIdPageIdFromUrl();return t.pageId?t.pageId:Object.keys(this.props.pages).find((function(t){return e.props.pages[t].isDefault}))},t.prototype.getDialogId=function(){return this.props.dialogJson&&(window.jimuConfig.isInBuilder||this.props.dialogJson.mode!==l.DialogMode.Anchored)?window.jimuConfig.isInBuilder&&this.props.dialogJson.mode===l.DialogMode.Anchored&&this.props.currentDialogId&&this.props.currentDialogId!==this.props.queryObject.dlg?null:this.props.dialogJson.id:null},t.prototype.render=function(){var e,t=this.state,r=t.PageRenderClass,n=t.pageStatus;if(this.state.error)return i.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:this.state.error}});var o=v.default.getInstance();if(!this.props.appConfigLoaded||!r||!this.state.preloadWidgetsLoaded||h.isDeepEqual(this.props.themeVariables,{}))return null;if(this.props.themeName&&!o.isThemeLoaded(this.props.themeName))return null;var a=this.getPageId();if(!a)return console.error("No page to render."),null;if(!this.props.pages[a])return console.error("Invalid page id.",a),null;if(this.props.pages[a].type===l.PageType.Folder)return console.error("This is a folder."),null;if(this.props.pages[a].linkUrl)return window.location.assign(this.props.pages[a].linkUrl),null;var s=o.getGlobalStyles(this.props.themeVariables),u=null===(e=this.state.jimuUI)||void 0===e?void 0:e.Loading;return i.createElement(i.Fragment,null,i.createElement(m.Global,{styles:s}),this.renderUpdateAlert(this.props.themeVariables),i.createElement(r,{pageStatus:n,dialogId:this.getDialogId()}),this.getThemeNode(),i.createElement("div",{id:"helper-nodes-container"}),this.getKeyboardComponent(),u&&this.props.isBusy&&i.createElement(u,null))},t.prototype.renderUpdateAlert=function(e){if(!this.props.hasNewVersion||window.jimuConfig.isInBuilder||!this.state.jimuUI||window.jimuConfig.isSite&&"landing"===this.getPageId())return null;var t=this.state.jimuUI,r=t.Alert,n=t.Button,o=a;return i.createElement(r,{color:"info",isOpen:this.props.hasNewVersion,toggle:this.onDismiss,className:"pl-3 pr-3",closeClassName:"mt-2",style:{position:"absolute",zIndex:999,width:"100%",paddingTop:""+o(11),paddingBottom:""+o(11),backgroundColor:""+e.colors.palette.primary[100],color:""+e.colors.black,fontSize:""+o(16)}},i.createElement(b.FormattedMessage,{id:"versionUpdateMsg",defaultMessage:S.default.versionUpdateMsg}),i.createElement(n,{size:"sm",type:"primary",className:"ml-3",onClick:this.reload,style:{minWidth:""+o(78),height:""+o(26),marginTop:""+o(-2)}},i.createElement(b.FormattedMessage,{id:"doUpdate",defaultMessage:S.default.doUpdate})))},t.prototype.onDismiss=function(){var e;this.props.dispatch(f.setHasNewVersion(!1)),window.jimuConfig.isBuilder&&(null===(e=window._appWindow)||void 0===e?void 0:e._appStore)&&window._appWindow._appStore.dispatch({type:"SET_HAS_NEW_VERSION",hasNew:!1})},t.prototype.reload=function(){window.location.reload()},t.prototype.getThemeNode=function(){var e=null,t=this.props.themeName;if(t){var r=v.default.getInstance().getThemeManifest(t);if(r&&r.styleFiles&&r.styleFiles.css){var n=this.props.isRTL?""+p.getFixedRootPath()+t+"/style-rtl.css":""+p.getFixedRootPath()+t+"/style.css";e=i.createElement("link",{type:"text/css",rel:"stylesheet",href:n})}}return e},t}(i.PureComponent);t.default=b.injectIntl(u.connect((function(e){var t;return e.appConfig?{appConfigLoaded:!0,customTheme:e.appConfig.customTheme,themeName:e.appConfig.theme?e.appConfig.theme:null,themeVariables:e.theme,pages:e.appConfig.pages,appPath:e.appPath,queryObject:e.queryObject,isRTL:e.appContext.isRTL,isBusy:e.appRuntimeInfo.isBusy,dialogJson:e.appConfig.dialogs?e.appConfig.dialogs[e.queryObject.dlg]:null,currentDialogId:e.appRuntimeInfo.currentDialogId,hasNewVersion:e.hasNewVersion||(null===(t=e.appStateInBuilder)||void 0===t?void 0:t.hasNewVersion)}:{appConfigLoaded:!1,themeVariables:e.theme,themeName:null,customTheme:null,pages:null,appPath:e.appPath,queryObject:e.queryObject,isRTL:e.appContext.isRTL,isBusy:e.appRuntimeInfo.isBusy,dialogJson:null,currentDialogId:null,hasNewVersion:!1}}))(O))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(126),o=r(201),i=r(109),a=r(202),s=function(e){console.log(":keyboard event:",e)};t.default=function(e,t){if(void 0===e&&(e="keydown"),void 0===t&&(t=null),"undefined"==typeof window)return!1;var r={},u=null,c=null;null===t&&(t=window.document);var l=!n.default(t);function f(e){if(!(i.default(e)||l&&o.default(e))){c&&c(e);var t=a.default(e),n=r[t.toLowerCase()]||[];if("function"==typeof u){var s=n.length>0;u(t,s,e)}n.length&&e.preventDefault();for(var f=!0,d=n.length-1;d>=0&&(n[d]&&(f=n[d](e)),!1!==f);d--);return!!f&&void 0}}function d(){t.addEventListener(e,f)}return d(),{subscribe:function(e,t){return(e=e.toLowerCase()).replace(/\s/,""),void 0===r[e]&&(r[e]=[]),r[e].push(t),{unsubscribe:function(){var n=r[e].indexOf(t);r[e].splice(n,1)}}},setMonitor:function(e){void 0===e&&(e=null),u=!0===e?s:e},startListening:d,stopListening:function(){t.removeEventListener(e,f)},setKeyboardTriggerFunction:function(e){c=e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(126);t.default=function(e){return n.default(e.target||e.nativeEvent.target)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110);t.default=function(e){var t="",r=[];if(-1!==navigator.userAgent.indexOf("Edge")&&-1!==e.key.indexOf("-manual"))t=e.key.replace("-manual","");else if("code"in e)t=n.default[e.code]?n.default[e.code]:e.code;else{var o=e.which;t=String.fromCharCode(o).toLowerCase(),n.default[o]&&(t=n.default[o])}return e.metaKey&&r.push("command"),e.ctrlKey&&r.push("Ctrl"),e.shiftKey&&r.push("Shift"),e.altKey&&r.push("Alt"),r.push(t),r.join("+")}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(0),u=r(9),c=r(36),l=r(17),f=r(54),d=r(34),p=r(129),h=r(75),g=r(14),m=r(16);!function(e){e.Failed="RESOLVE_FAILED",e.NotMatched="DATA_SOURCES_IN_EXPRESSION_CANNOT_MATCH_DATA_SOURCES_IN_USE"}(a=t.ExpressionResolverErrorCode||(t.ExpressionResolverErrorCode={}));var v=function(e){function t(r){var n=e.call(this,r)||this;return n.dataSources=null,n.__unmount=!1,n.__resolveCount=1,n.getWhetherExpressionsAreSame=function(e,t){var r=n.getWhetherIsMultipleExpression(e),o=n.getWhetherIsMultipleExpression(t);return r&&o?n.shallowEquals(e,t):!r&&!o&&e===t},n.shallowEquals=function(e,t){return!e&&!t||!(!e||!t)&&(Object.keys(e).length===Object.keys(t).length&&!Object.keys(e).some((function(r){return e[r]!==t[r]})))},n.getWhetherIsMultipleExpression=function(e){return!!e&&!(2===Object.keys(e).length&&Object.keys(e).indexOf("name")>-1&&Object.keys(e).indexOf("parts")>-1&&Array.isArray(e.parts))},n.resolveExpressions=function(e,t,r){if(!e)return Promise.resolve("");if(n.getWhetherIsMultipleExpression(e)){var o=e;Object.keys(o).forEach((function(e){n.resolveSingleExpression(o[e]).then((function(t){var o,a=n.resultsCache;n.__unmount||r!==n.__resolveCount||(n.resultsCache=i(i({},a),((o={})[e]={isSuccessful:!0,value:t},o)),n.setState({results:n.resultsCache}))})).catch((function(t){var o,a=n.resultsCache;n.__unmount||r!==n.__resolveCount||(n.resultsCache=i(i({},a),((o={})[e]={isSuccessful:!1,value:t},o)),n.setState({results:n.resultsCache}))}))}))}else n.resolveSingleExpression(e).then((function(e){n.__unmount||r!==n.__resolveCount||(n.resultsCache={isSuccessful:!0,value:e},n.setState({results:n.resultsCache}))})).catch((function(e){n.__unmount||r!==n.__resolveCount||(n.resultsCache={isSuccessful:!1,value:e},n.setState({results:n.resultsCache}))}))},n.resolveSingleExpression=function(e){return n.getWhetherExpressionDssInUseDss(e)?f.resolveExpression(e,n.props.useDataSources,n.props.repeatedDataSource,n.props.intl).catch((function(e){return Promise.reject(a.Failed)})):Promise.reject(a.NotMatched)},n.onDataSourceCreated=function(e){if(n.dataSources=e,e){var t={};Object.keys(e).forEach((function(r){r&&e[r]&&(t[r]=e[r].getInfo())})),n.setState({infos:t})}},n.onDataSourceInfoChange=function(e){n.setState({infos:e})},n.getWhetherExpressionDssInUseDss=function(e){return!e||!e.parts||!e.parts.some((function(e){return e&&e.dataSourceId&&!n.getWhetherDsIdInUseDss(e.dataSourceId)}))},n.getWhetherDsIdInUseDss=function(e){if(!e)return!1;var t=n.props.useDataSources||[];if(e.split("-").reverse()[0]===g.SELECTION_DATA_VIEW_ID){var r=m.default.getInstance().getDataSource(e),o=r&&r.getMainDataSource(),i=o&&o.id;return t.some((function(e){return e.mainDataSourceId===i}))}return t.some((function(t){return t.dataSourceId===e}))},n.addDataViewForNoSelection=function(e){var t=u([]);return e?(e.forEach((function(e){if(e.mainDataSourceId&&!t.some((function(t){return t.mainDataSourceId===e.mainDataSourceId}))){var r=m.default.getInstance().getDataSource(e.mainDataSourceId),n=r&&r.getDataSourceJson();(null==n?void 0:n.dataViews)&&(null==n?void 0:n.dataViews[g.DATA_VIEW_ID_FOR_NO_SELECTION])&&(t=t.concat(e.set("dataSourceId",m.default.getInstance().getDataViewDataSourceId(e.mainDataSourceId,g.DATA_VIEW_ID_FOR_NO_SELECTION)).set("dataViewId",g.DATA_VIEW_ID_FOR_NO_SELECTION)))}})),t.concat(e)):t},n.getLocalDataSource=function(){var e=u([]),t=m.default.getInstance().getDataSources();return Object.values(t).forEach((function(t){var r=null==t?void 0:t.id;if((null==t?void 0:t.isLocal)&&r&&r.indexOf(d.EXPRESSION_LOAD_PREFIX)>-1){var n=t.getRootDataSource(),o=t.getMainDataSource();e=e.concat({dataSourceId:t.id,rootDataSourceId:n&&n.id,mainDataSourceId:o&&o.id})}})),e},n.getQueries=function(e,t){var r={};if(!e||!t)return r;var o=n.getWhetherIsMultipleExpression(t)?Object.values(t):[t],i=[];return o.forEach((function(e){(null==e?void 0:e.parts)&&(i=i.concat(e.parts.asMutable()))})),e.filter((function(e){return!!e})).filter((function(e){return e.dataViewId===g.DATA_VIEW_ID_FOR_NO_SELECTION&&i.some((function(t){return t.dataSourceId===m.default.getInstance().getDataViewDataSourceId(e.mainDataSourceId,g.SELECTION_DATA_VIEW_ID)&&t.type===l.ExpressionPartType.Field&&!t.isFromRepeatedDataSourceContext}))||e.dataViewId!==g.SELECTION_DATA_VIEW_ID&&i.some((function(t){return t.dataSourceId===e.dataSourceId&&t.type===l.ExpressionPartType.Field&&!t.isFromRepeatedDataSourceContext}))})).forEach((function(e){r[e.dataSourceId]={}})),r},t.count++,n.state={results:null,infos:null},n}return o(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.resolveExpressions(this.props.expression,this.props.useDataSources,this.__resolveCount)},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.componentDidUpdate=function(e,t){this.getWhetherExpressionsAreSame(this.props.expression,e.expression)&&this.props.useDataSources===e.useDataSources&&this.shallowEquals(this.state.infos,t.infos)||(this.__resolveCount++,this.resolveExpressions(this.props.expression,this.props.useDataSources,this.__resolveCount)),t.results!==this.state.results&&null!==this.state.results&&this.props.onChange&&this.props.onChange(this.state.results)},t.prototype.getLocalLoadId=function(){return"EXPRESSION_RESOLVER-"+this.props.widgetId+"-"+t.count},t.prototype.render=function(){var e=this;if(!this.props.expression)return null;var t=this.getLocalDataSource(),r=this.addDataViewForNoSelection(this.props.useDataSources).concat(t);return s.createElement(p.default,{useDataSources:r,onDataSourceCreated:this.onDataSourceCreated,onDataSourceInfoChange:this.onDataSourceInfoChange,queries:this.getQueries(r,this.props.expression),widgetId:this.getLocalLoadId()},(function(){return"function"==typeof e.props.children?e.props.children(e.state.results):e.props.children}))},t.count=-1,t}(s.PureComponent);t._ExpressionResolverComponent=v,t.ExpressionResolverComponent=c.injectIntl(h.withRepeatedDataSource(v))},function(e,t){var r=/^(?:0|[1-9]\d*)$/;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var o,i,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable,l=(o=Object.keys,i=Object,function(e){return o(i(e))}),f=Math.max,d=!c.call({valueOf:1},"valueOf");function p(e,t){var r=y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&b(e)}(e)&&s.call(e,"callee")&&(!c.call(e,"callee")||"[object Arguments]"==u.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!s.call(e,i)||o&&("length"==i||g(i,n))||r.push(i);return r}function h(e,t,r){var n=e[t];s.call(e,t)&&v(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function g(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}function m(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||a)}function v(e,t){return e===t||e!=e&&t!=t}var y=Array.isArray;function b(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=w(e)?u.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var S,O=(S=function(e,t){if(d||m(t)||b(t))!function(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;h(r,a,void 0===s?e[a]:s)}}(t,function(e){return b(e)?p(e):function(e){if(!m(e))return l(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)s.call(t,r)&&h(e,r,t[r])},function(e,t){return t=f(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=f(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=a,n(e,this,s)}}((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=S.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!w(r))return!1;var n=typeof t;return!!("number"==n?b(r)&&g(t,r.length):"string"==n&&t in r)&&v(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&S(e,a,r,o)}return e})));e.exports=O},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return c.Date.now()};function h(e,t,r){var n,o,i,a,s,u,c=0,l=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=n,i=o;return n=o=void 0,c=t,a=e.apply(i,r)}function b(e){return c=e,s=setTimeout(S,t),l?y(e):a}function w(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-c>=i}function S(){var e=p();if(w(e))return O(e);s=setTimeout(S,function(e){var r=t-(e-u);return h?d(r,i-(e-c)):r}(e))}function O(e){return s=void 0,v&&n?y(e):(n=o=void 0,a)}function I(){var e=p(),r=w(e);if(n=arguments,o=this,u=e,r){if(void 0===s)return b(u);if(h)return s=setTimeout(S,t),y(u)}return void 0===s&&(s=setTimeout(S,t)),a}return t=m(t)||0,g(r)&&(l=!!r.leading,i=(h="maxWait"in r)?f(m(r.maxWait)||0,t):i,v="trailing"in r?!!r.trailing:v),I.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=u=o=s=void 0},I.flush=function(){return void 0===s?a:O(p())},I}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return g(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),h(e,t,{leading:n,maxWait:t,trailing:o})}}).call(this,r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Loading="LOADING",e.Loaded="LOADED",e.Failed="FAILED"}(t.JimuMapViewStatus||(t.JimuMapViewStatus={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SETTING_FILE_KEY="user_settings.json"},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(19),a=r(15),s=r(47),u=r(3),c=r(9),l=r(12),f=r(40),d=r(55),p=r(21),h=r(32),g=r(29),m=r(20),v=r(41),y=r(130),b=r(5),w=r(209),S=r(121),O=r(33),I=r(78),_=r(210),E=r(77),T=r(132),C=r(211),A=r(52),P=r(51),x=r(2),D=r(212);t.translatedLocales=["en","ar","bs","ca","cs","da","de","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw"];var j=u.createAppStore(c(window.initStoreState));function k(e,t){return t&&t[e.id]?t[e.id]:e.defaultMessage}function R(){return function(){var e;if(window.jimuConfig.isInPortal)return e=m.getPortalUrlFromLocation(),Promise.resolve({portalUrl:e,clientId:"experienceBuilder"});if(window.jimuConfig.packagesInAppFolder)return Promise.resolve(null);var t=window.jimuConfig.hostEnv||"dev",r=a.getFixedRootPath()+"builder/setting.json?env="+(window.jimuConfig.isDevEdition?"dev":"online");return window.fetch(r).then((function(e){return e.json()})).then((function(e){var r=(window.jimuConfig.isDevEdition?e.devEnv:e.env)[t];return r&&(r.portalUrl=m.fixPortalUrlProtocol(r.portalUrl)),r}),(function(e){return console.error("Get setting.json error.",e),Promise.resolve(null)}))}().then((function(e){return e?window.jimuConfig.isDevEdition&&!1===window.jimuConfig.isInBuilder?(p.default.getInstance().initFromCookie(e),u.getAppStore().dispatch(l.setPortalInfo(e.portalUrl,e.clientId)),Promise.resolve({})):(p.default.getInstance().initFromCookie(e),u.getAppStore().dispatch(l.setPortalInfo(e.portalUrl,e.clientId)),void S.initPortalSelf(e.portalUrl)):(console.warn("No portal info."),p.default.getInstance().initFromCookie(null),Promise.resolve({}))}))}function M(){if("undefined"!=typeof document){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=i.getBrowserSizeMode({width:e,height:t});u.getAppStore().getState().browserSizeMode!==r&&u.getAppStore().dispatch(l.browserSizeModeChanged(r))}}t.init=function(){var e;e=p.default.getInstance(),x.setDefaultRequestOptions({fetch:function(t,r){var o,i=n({},r),s=e.getMainPortal();return s.isWebTier&&m.isSamePortalUrl(t,s.portalUrl)?(i.credentials="include",o=Promise.resolve()):o=e.isTrustedServer(t)?e.getSessionFromTrustedServer(t).then((function(e){e&&e.token&&(t=a.appendQueryParam(t,"token",e.token))})):Promise.resolve(),o.then((function(){return fetch(t,i).then((function(e){return e}))}))}});var r=s.parse(window.location.search);return j.subscribe((function(){window._appState=u.getAppStore().getState()})),window.addEventListener&&(window.addEventListener("online",(function(){return j.dispatch(l.networkStatusChanged(!1))})),window.addEventListener("offline",(function(){return j.dispatch(l.networkStatusChanged(!0))})),window.addEventListener("resize",y(M,100)),M()),P.default.getInstance(),R().then((function(){return p.default.getInstance().getMainSession()?p.default.getInstance().getMainSession().getUser():null})).then((function(e){var n;e&&j.dispatch(l.userSignIn(e));var s=e&&e.culture,c=null===(n=function(e,t){return e.locale||t||v.getBrowserLanguage(window.navigator)}(r,s))||void 0===n?void 0:n.toLowerCase(),f=v.getTranslatedLocale(c,t.translatedLocales)||"en",d={isInPortal:window.jimuConfig.isInPortal,isInBuilder:window.jimuConfig.isInBuilder,isBuilder:window.jimuConfig.isBuilder,isSite:window.jimuConfig.isSite,locale:c,translatedLocale:f,isRTL:v.isRTLLocale(c),isTouchDevice:i.isTouchDevice(),jimuConfig:window.jimuConfig};!function(e){if(window.locale=e,"undefined"==typeof document)return;var t=document.getElementsByTagName("html")[0];t.setAttribute("lang",e),v.isRTLLocale(e)?(t.setAttribute("dir","rtl"),t.className+=" esriRtl jimu-rtl",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:"")):(t.setAttribute("dir","ltr"),t.className+=" esriLtr jimu-ltr",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:""))}(c),j.dispatch(l.initAppContext(d)),j.dispatch(l.queryObjectChanged(r)),j.dispatch(l.networkStatusChanged(!(window.navigator&&window.navigator.onLine)));var p=a.getAppIdPageIdFromUrl(),m=p.appId,y=p.pageId;return m?j.dispatch(l.appIdChanged(m)):r.config&&j.dispatch(l.appIdChanged(r.config)),j.dispatch(l.appRuntimeInfoInit({appMode:b.AppMode.Run,currentPageId:y,currentDialogId:r.dlg,activePagePart:b.PagePart.Body})),function(e){var t=a.getDataSourceInfosFromQueryObject(e);Object.keys(t).forEach((function(e){var r=t[e];"index"===r.selectionType?u.getAppStore().dispatch(l.dataSourceSelectedIndexesChanged(e,r.selection)):u.getAppStore().dispatch(l.dataSourceSelectedIdsChanged(e,r.selection))}))}(r),function(e){if("en"===e)return Promise.resolve(O.default);return(e=v.getLocaleToLoad(e,t.translatedLocales))?v.loadLocaleMessages("jimu-core/lib/translations",e).then((function(e){return e})):Promise.resolve(O.default)}(f).then((function(e){return e&&j.dispatch(l.i18nMessagesLoaded("jimu-core",e)),I.default.getInstance().registerAction({id:"export-json",label:k({id:"dataAction_ExportJson",defaultMessage:O.default.dataAction_ExportJson},e),ActionClass:_.default}),E.default.getInstance().registerAction({id:"filter-data-record-action",label:k({id:"messageAction_FilterDataRecord",defaultMessage:O.default.messageAction_FilterDataRecord},e),ActionClass:T.default}),E.default.getInstance().registerAction({id:"select-data-record-action",label:k({id:"messageAction_SelectDataRecord",defaultMessage:O.default.messageAction_SelectDataRecord},e),ActionClass:C.default}),h.default.getInstance().registerExtension({epName:g.ExtensionPoints.DataSourceFactoryUri,extension:new D.JimuCoreDataSourceFactoryUriExtension}),window.jimuConfig.isInBuilder?(u.getAppStore().dispatch(l.appModeChanged(b.AppMode.Design)),o.loadModule("jimu-for-builder").then((function(e){var t=e.appBuilderSync;return t.listenBuilderEvents(),u.observeStore((function(e,r){e&&r&&t.publishAppStateChangeToBuilder()})),e.loadI18nMessage()}))):Promise.resolve()}))}))},t.initPortal=R,t.preloadModulesForSSR=function(e){return Promise.all(f.getAllWidgets(e.appConfig).map((function(t){return i.isWidgetSupportSSR(e.appConfig,t.id,Object.keys(w.DataSourceTypes).map((function(e){return w.DataSourceTypes[e]})))&&t.manifest.properties.hasMainClass?d.default.getInstance().loadWidgetClass(t):Promise.resolve({})}))).then((function(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",o.loadModule(e)})).then((function(){return o.loadModule("jimu-ui")})).then((function(){return A.default.getInstance().loadTheme(e.appConfig.theme)}))}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Map="MAP",e.WebMap="WEB_MAP",e.WebScene="WEB_SCENE",e.FeatureLayer="FEATURE_LAYER"}(n=t.DataSourceTypes||(t.DataSourceTypes={})),t.ArcGISDataSourceTypes=n,function(e){e.BaseDynamicLayer="base-dynamic",e.BaseElevationLayer="base-elevation",e.BaseTileLayer="base-tile",e.BuildingSceneLayer="building-scene",e.CSVLayer="csv",e.ElevationLayer="elevation",e.FeatureLayer="feature",e.GeoJSONLayer="geojson",e.GeoRSSLayer="geo-rss",e.GraphicsLayer="graphics",e.GroupLayer="group",e.ImageryLayer="imagery",e.IntegratedMeshLayer="integrated-mesh",e.KMLLayer="kml",e.MapImageLayer="map-image",e.MapNotesLayer="map-notes",e.PointCloudLayer="point-cloud",e.SceneLayer="scene",e.TileLayer="tile",e.UnknownLayer="unknown",e.UnsupportedLayer="unsupported",e.VectorTileLayer="vector-tile",e.WMSLayer="wms",e.WMTSLayer="wmts",e.WebTileLayer="web-tile"}(t.LayerTypes||(t.LayerTypes={}))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="export-json",t}return o(t,e),t.prototype.isSupported=function(e,t){return t.length>0},t.prototype.onExecute=function(e,t){var r=t.map((function(e){return e.toJson()}));return alert("see console"),console.log(r),Promise.resolve(!0)},t}(r(131).AbstractDataAction);t.default=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(79),u=r(16),c=r(53),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="select data record action",t}return o(t,e),t.prototype.filterMessageType=function(e,t){return e==s.MessageType.DataRecordsSelectionChange||e==s.MessageType.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"select-data-record-action"},t.prototype.onExecute=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o,i,l,f,d,p,h,g,m,v,y,b,w,S,O,I;return a(this,(function(a){switch(a.label){case 0:switch(e.type){case s.MessageType.DataRecordsSelectionChange:return[3,1]}return[3,5];case 1:return r=null,t?t.messageUseDataSource&&t.actionUseDataSource?t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?[2]:e.records.length>0&&e.records[0].dataSource.getMainDataSource().id!==t.messageUseDataSource.mainDataSourceId?[2,Promise.resolve(!0)]:(n=u.default.getInstance(),o=n.getDataSource(t.messageUseDataSource.mainDataSourceId),(i=n.getDataSource(t.actionUseDataSource.mainDataSourceId))?[3,3]:[4,n.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,4]:[3,4];case 2:a.sent(),i=n.getDataSource(t.actionUseDataSource.mainDataSourceId),a.label=3;case 3:if(0===e.records.length)return i&&i.selectRecordsByIds([]),[2,Promise.resolve(!0)];if(o&&i){if(t.enabledDataRelationShip){if(l=null,f=null,t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?(d=o.getSchema(),p=d&&d.fields&&Object.keys(d.fields).find((function(e){return"esriFieldTypeOID"===d.fields[e].esriType})),l=d&&d.fields&&d.fields[p],f=l):(h=t.messageUseDataSource.fields[0],g=t.actionUseDataSource.fields[0],l=o.getSchema().fields[h],f=i.getSchema().fields[g]),O="",l&&f){for(m=l.name,v=l.type,y=e,b=[],w=0;w<y.records.length;w++)S=y.records[w].getData()[m],b.indexOf(""+this.formatValue(S,v))>-1||b.push(""+this.formatValue(y.records[w].getData()[m],v));O=f.name+" IN ",O=b.length>0?O+"("+b.join(", ")+")":""}e.records.length>0?(I=t.sqlExprObj?c.getArcGISSQL(t.sqlExprObj,i).sql:null)&&(O=O?O+" AND "+I:I):O="",r={outFields:["*"],where:O,returnGeometry:!0}}else O="",e.records.length>0?(I=t.sqlExprObj?c.getArcGISSQL(t.sqlExprObj,i).sql:null)&&(O=I):O="",r={outFields:["*"],where:O,returnGeometry:!0};i.query(r).then((function(e){var t=e&&e.records;if(t&&t.length>0){for(var r=[],n=0;n<t.length;n++){var o=t[n],a=i.getIdField();r.push(o.feature.attributes[a])}setTimeout((function(){i.selectRecordsByIds(r,t)}),200)}}))}a.label=4;case 4:return[2,Promise.resolve(!0)];case 5:return[3,6];case 6:return[2]}}))}))},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(s.AbstractMessageAction);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=function(){function e(){this.id="jimu-core-ds-factory"}return e.prototype.getFactoryUri=function(e){if(Object.keys(n.DataSourceTypes).map((function(e){return n.DataSourceTypes[e]})).indexOf(e)>-1)return"jimu-core/data-source"},e}();t.JimuCoreDataSourceFactoryUriExtension=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.LoadingHandler=function(e){return e.error?n.createElement("div",null,"Error! ",n.createElement("button",{onClick:e.retry},"Retry")):e.pastDelay?n.createElement("div",null,"Loading..."):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,a,s=r(76),u=r(20),c=r(21),l=r(15),f=r(6),d=r(3);function p(e){var t=i.findOAuthInfo(e);if(!t){var r=d.getAppStore().getState().clientId,n=l.normalize(""+window.location.origin+l.getFolder(f.resolveModuleFullPath("jimu-arcgis"))+"/oauth-callback.html");t=new o({appId:r,expiration:20159,portalUrl:e,authNamespace:"/",popup:!0,popupCallbackUrl:n}),i.registerOAuthInfos([t])}}function h(e){i.destroyCredentials(),function(){var e=c.default.getInstance().getMainPortal(),t=c.default.getInstance().getTrustedServers();(null==e?void 0:e.isWebTier)&&a.request.trustedServers.push(e.portalUrl);t.forEach((function(e){a.request.trustedServers.indexOf(e)<0&&a.request.trustedServers.push(e)}))}(),e&&e.forEach((function(e){var t=e.toCredential();i.registerToken(t),(t=i.findCredential(t.server))&&!i.findOAuthInfo(t.server)&&(t.scope="server")}))}function g(e,t){t!==c.SessionChangedReasonType.ArcGISJSSync&&h(e)}t.loadArcGISJSAPIModules=function(e){return s.loadDependency("jimu-arcgis").then((function(){return n||(n=f.loadModules(["esri/identity/IdentityManager","esri/identity/OAuthInfo","esri/config"]).then((function(e){i=e[0],o=e[1],a=e[2],i.useSignInPage=!1;var t=c.default.getInstance(),r=d.getAppStore().getState().portalUrl,n=t.getMainPortal();(null==n?void 0:n.isWebTier)||p(r),p("https://devext.arcgis.com"),p("https://qaext.arcgis.com"),p("https://www.arcgis.com"),t.initFromCookie(),h(t.getSessions()),t.addSessionChangeListener(g),i.on("credential-create",(function(e){var t=e.credential;c.default.getInstance().addFromArcGisJSCredential(t)}))})).then((function(){return f.loadModules(["dojo/promise/Promise","esri/config"])})).then((function(e){e[0];e[1].request.proxyUrl=u.getPortalProxyUrl(d.getAppStore().getState().portalUrl)}))),n.then((function(){return f.loadModules(e)}))}))}},function(e,t,r){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),a=r(37),s=r(11),u=r(89),c=r(0),l=r(50),f=r(11),d=r(12),p=r(74),h=r(36),g=r(33),m=f.jsx,v=f.css,y=r(19),b=r(80),w=r(5),S=r(14),O=c.useEffect,I=c.useState,_=[{name:"preventOverflow",options:{altAxis:!0}}];function E(e,t,r,n,o,i,a){var s=!1;if(a===t.id&&!t.isSplash&&!r.isOpenByPage&&!t.confirmBeforeClose)return s;if(t.isSplash||r.isOpenByPage){var u=t.isSplash?t.id:e+"-"+t.id;s=r.runtime&&t.confirmBeforeClose?"true"===localStorage.getItem(k(u,n,o)):(null==i?void 0:i.indexOf(u))>=0}return s}t.AppDialog=function(e){var t=I(null),r=t[0],n=t[1],f=I(null),h=f[0],g=f[1],v=a.useSelector((function(e){return e.queryObject.draft}))?"draft":"release",y=a.useSelector((function(e){return e.appConfig.timestamp})),T=a.useSelector((function(e){return e.appRuntimeInfo.currentPageId})),C=a.useSelector((function(e){return e.appRuntimeInfo.currentDialogId})),A=a.useSelector((function(e){return e.appRuntimeInfo.appMode===w.AppMode.Design})),P=a.useSelector((function(e){return e.browserSizeMode})),x=a.useSelector((function(e){var t,r,n;return null===(n=null===(r=null===(t=e.appConfig)||void 0===t?void 0:t.forBuilderAttributes)||void 0===r?void 0:r.viewPortSize)||void 0===n?void 0:n[P]}))||S.SCREEN_RESOLUTIONS[P][1],D=window.jimuConfig.isInBuilder?x.height:window.innerHeight,j=a.useDispatch(),L=M(),F=c.useRef(!1),U=c.useRef(!1),q=c.useState(A?null:Symbol("init one by one")),G=q[0],H=q[1],z=c.useState(A?null:Symbol("init as one")),$=z[0],K=z[1],Y=a.useSelector((function(t){var r;return(null===(r=t.appRuntimeInfo.animationPreview)||void 0===r?void 0:r.dialogId)===e.dialogJson.id?t.appRuntimeInfo.animationPreview:null}),a.shallowEqual),J=c.useRef();O((function(){e.runtime&&function(e,t){var r=R(e);Object.keys(localStorage).map((function(e){e.indexOf(r)>=0&&e.indexOf(t)<0&&localStorage.removeItem(e)}))}(v,y),Promise.all([i.loadModule("jimu-ui"),N()]).then((function(e){n(e[0]),g(e[1])}))}),[e.runtime,v,y]),O((function(){j(d.selectionChanged(null)),A||(Q(),Z())}),[A,e.dialogJson.id,T]),O((function(){Y&&(Y.playMode!==b.AnimationPlayMode.OneByOne&&Q(),Y.playMode!==b.AnimationPlayMode.AsOne&&Z())}),[Y]);var X=function(){};function Q(){var t;(null===(t=e.dialogJson.effect)||void 0===t?void 0:t.type)!==b.AnimationType.None&&(U.current=!1,K(Symbol("play dialog "+e.dialogJson.id)))}function Z(){var t;(null===(t=e.dialogJson.oneByOneEffect)||void 0===t?void 0:t.type)!==b.AnimationType.None&&(F.current=!1,H(Symbol("play dialog widgets "+e.dialogJson.id)))}var ee=c.useCallback((function(){F.current&&H(null)}),[]),te=c.useCallback((function(){U.current&&K(null)}),[]);function re(e,t,r,n){var o,i,a,s,u,c,l=null,f=null,d=null,p=U.current?null:(U.current=!0,$);return(null===(o=e.effect)||void 0===o?void 0:o.type)!==b.AnimationType.None&&p&&(l=null===(i=e.effect)||void 0===i?void 0:i.type,f=null===(s=null===(a=e.effect)||void 0===a?void 0:a.option)||void 0===s?void 0:s.configType,d=null===(c=null===(u=e.effect)||void 0===u?void 0:u.option)||void 0===c?void 0:c.direction),m(b.AnimationContext.Provider,{value:{isDesignMode:A,trigger:b.AnimationTriggerType.Manual,setting:t&&(!A||(null==Y?void 0:Y.id))?e.oneByOneEffect:null,inheritedOneByOneSetting:null,playId:F.current?null:(F.current=!0,G),onAnimationEnd:ee,depth:0}},m(b.Animation,{type:l,trigger:b.AnimationTriggerType.Manual,configType:f,direction:d,playId:p,ref:J,style:{},onAnimationEnd:te,className:"app-dialog-animation-content"},r,n))}function ne(e,t){return e.effect&&e.effect.type!==b.AnimationType.None&&null!==t}function oe(t){var n,o=t.dialogJson,i=(t.opener,a.useSelector((function(e){return e.queryObject.dlg}))),c=(null===(n=a.useSelector((function(e){return e.appRuntimeInfo.closedDialogIds})))||void 0===n?void 0:n.asMutable())||[],f=a.useSelector((function(e){var t;return o.isSplash?o.id:e.appConfig.dialogs&&(null===(t=e.appConfig.dialogs[Object.keys(e.appConfig.dialogs).find((function(t){return e.appConfig.dialogs[t].isSplash}))])||void 0===t?void 0:t.id)}),a.shallowEqual),g=I(e.isOpenByPage&&C===f||o.id===i&&C!==i||C===o.id),b=g[0],w=g[1],S=I(!1),_=S[0],P=S[1],x=o.position===l.DialogPosition.Center;O((function(){(o.isSplash||e.isOpenByPage&&(f&&c.indexOf(f)>=0||!f))&&!E(T,o,e,v,y,c)&&o.id!==i&&o.id!==C&&j(d.currentDialogChanged(o.id))}),[]),O((function(){var t=!1;(o.isSplash||e.isOpenByPage||C)&&(t=!E(T,o,e,v,y,c,i)),t!==b&&w(t)}));var R=function(){j(d.selectionChanged(null))},M=function(){A||(o.isSplash||e.isOpenByPage?(!function(e,t,r,n,o,i,a){var s=t.isSplash?t.id:e+"-"+t.id;if(r.runtime&&t.confirmBeforeClose)localStorage.setItem(k(s,n,o),"true");else if(!i||-1===(null==i?void 0:i.indexOf(s))){var u=i.concat([s]);a(d.closedDialogIdsChanged(u))}}(T,o,e,v,y,c,j),j(d.currentDialogChanged(null)),w(!1)):p.changeDialog(null))};if(!r||!h)return null;var N=r.Modal,F=r.ModalBody,U=r.ModalFooter,W=h.LayoutEntry;return m(N,{isOpen:b,fade:!1,disableActivateOverlay:!0,toggle:function(){A?R():o.confirmBeforeClose&&!_||(b&&o.closeWhenClickOverlay?M():R())},centered:x,css:B(o),id:o.id,className:"app-dialog",wrapClassName:"app-dialog-wrap app-dialog-wrap-"+o.id,modalClassName:"app-dialog-modal",backdropClassName:"app-dialog-backdrop",contentClassName:u("app-dialog-content",{"overflow-visible":ne(o,$)}),onOpened:X},m(s.Global,{styles:V(o,b,D)}),re(o,b,m(F,{className:"dialog-content"},m(W,{layouts:o.layout,className:"w-100 h-100"})),o.confirmBeforeClose&&m(U,{className:"dialog-footer",onClick:R},m("div",{className:"d-flex flex-grow-1 overflow-hidden text-nowrap"},m(r.Checkbox,{style:{cursor:"pointer"},onChange:function(e){return t=e.target.checked,void P(t);var t},checked:_,disabled:A}),m("label",{className:"ml-2 text-break overflow-hidden",style:{fontSize:o.confirmationStyle.textSize,textOverflow:"ellipsis"}},o.confirmationStyle.text||L("dialogConfirmationDefaultText"))),m(r.Button,{icon:!0,type:"primary",disabled:!_,onClick:M,style:{fontSize:o.confirmationStyle.buttonTextSize}},o.confirmationStyle.buttonText||L("ok")))))}if(e.dialogJson.mode===l.DialogMode.Fixed)return m(oe,o({},e));if(window.jimuConfig.isInBuilder&&!e.opener){var ie=e.dialogJson.set("mode",l.DialogMode.Fixed).set("position",l.DialogPosition.Center).set("isOpenerDlg",!0);return m(oe,{dialogJson:ie,opener:e.opener,isOpenByPage:e.isOpenByPage})}return m((function(e){var t=e.dialogJson,n=e.opener,o=e.toggle;if(!r||!h)return null;var i=r.Popper,a=h.LayoutEntry;return m(i,{open:!0,showArrow:!!n,toggle:o,reference:n,modifiers:_,css:W(t),disableActivateOverlay:t.closeWhenClickOverlay,className:u("app-dialog",{"dialog-arrow-hidden":ne(t,$)})},re(t,!0,m("div",{className:"app-dialog-container"},m("div",{className:"app-dialog-content"},m(a,{layouts:t.layout,className:"w-100 h-100"})))))}),o({},e))};var T,C,A,P,x,D,j,k=function(e,t,r){return R(t)+"-"+e+"-"+r},R=function(e){return y.getLocalStorageAppKey()+"-"+e},M=function(){var e=h.useIntl();return c.useCallback((function(t,r){return e.formatMessage({id:t,defaultMessage:g.default[t]},r)}),[e])};function N(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",i.loadModule(e)}function L(e){return"object"==typeof e?""+e.distance+e.unit:e}function F(e){var t="unset";if(e&&e.image){switch(e.fillType){case"fit":t="contain";break;case"fill":t="cover";break;case"stretch":t="100% 100%";break;default:t="auto"}return t}return t}function U(e){var t=e.dialogBackground,r=e.border,n=e.borderRadius,o=e.boxShadow,i="unset",a="unset";if(n){var s=n.number[0],u=void 0!==n.number[1]?n.number[1]:s,c=void 0!==n.number[2]?n.number[2]:s,l=void 0!==n.number[3]?n.number[3]:s;i=""+s+n.unit+" "+u+n.unit,a=""+c+n.unit+" "+l+n.unit}return{backgroundColor:t&&t.color?t.color:"transparent",backgroundImage:t?"url("+t.image.url+")":"unset",backgroundRepeat:t&&t.image&&"tile"===t.fillType?"repeat":"no-repeat",backgroundSize:F(t),borderStyle:r&&r.color&&r.width?L(r.width)+" "+r.type+" "+r.color:"none",borderRadiusTopStyle:i,borderRadiusBottomStyle:a,borderRadiusStyle:n?i+" "+a:"unset",boxShadowStyle:o&&o.color?L(o.offsetX)+" "+L(o.offsetY)+"\n      "+L(o.blur)+" "+L(o.spread)+" "+o.color:"none"}}function V(e,t,r){var o,i,a,s,u,c=e.borderRadius,f=e.confirmBeforeClose,d=U(e),p=e.overlayColor||(e.isOpenerDlg?"var(--dark-900)":"transparent"),h="app-dialog-wrap-"+e.id,g=f?"calc(100% - 65px)":"100%",m="0";if(null===(o=e.boxShadow)||void 0===o?void 0:o.color){var y=(parseFloat(null===(i=e.boxShadow.blur)||void 0===i?void 0:i.split("px")[0])||0)+(parseFloat(null===(a=e.boxShadow.spread)||void 0===a?void 0:a.split("px")[0])||0),b=parseFloat(null===(s=e.boxShadow.offsetX)||void 0===s?void 0:s.split("px")[0])||0,w=parseFloat(null===(u=e.boxShadow.offsetX)||void 0===u?void 0:u.split("px")[0])||0;m=(y-w>0?y-w:0)+"px "+(y+b)+"px "+(y+w)+"px "+(y-b>0?y-b:0)+"px"}var S=e.position===l.DialogPosition.Center?e.height.indexOf("%")>=0?r*parseFloat(e.height.split("%")[0])/100+"px":e.height:"100%",O=c&&f?d.borderRadiusTopStyle+" 0 0":d.borderRadiusStyle,I=c?"0 0 "+d.borderRadiusBottomStyle:"unset";return v(T||(T=n(["\n    body {\n      .app-dialog-wrap{\n\n        &.","{\n          display: ",";\n          .app-dialog{\n            margin: 0!important;\n            max-width: 100vw;\n            max-height: 100vh;\n\n            .app-dialog-content{\n              padding: ","; /* decided by shadow*/\n              overflow-y: auto;\n\n              border: none;\n              box-shadow: unset;\n              background-color: transparent;\n              border-radius:  ",";\n\n              &.overflow-visible{\n                overflow: visible;\n              }\n\n              .app-dialog-animation-content{\n                flex-shrink: 0;\n                height: "," !important;\n\n                border: ",";\n                border-radius:  ",";\n                box-shadow: ",";\n                background-image: ",";\n                background-position: center center;\n                background-repeat: ",";\n                background-size: ",";\n\n                .dialog-content{\n                  padding: 0;\n                  height: ",";\n                  background-color: ",";\n                  border-radius:  ",";\n                }\n\n                .dialog-footer{\n                  overflow-x: auto;\n                  background-color: ",";\n                  border-radius:  ",";\n                }\n              }\n\n            }\n          }\n          .app-dialog-backdrop{\n            background-color: ",";\n          }\n        }\n      }\n    }\n  "],["\n    body {\n      .app-dialog-wrap{\n\n        &.","{\n          display: ",";\n          .app-dialog{\n            margin: 0!important;\n            max-width: 100vw;\n            max-height: 100vh;\n\n            .app-dialog-content{\n              padding: ","; /* decided by shadow*/\n              overflow-y: auto;\n\n              border: none;\n              box-shadow: unset;\n              background-color: transparent;\n              border-radius:  ",";\n\n              &.overflow-visible{\n                overflow: visible;\n              }\n\n              .app-dialog-animation-content{\n                flex-shrink: 0;\n                height: "," !important;\n\n                border: ",";\n                border-radius:  ",";\n                box-shadow: ",";\n                background-image: ",";\n                background-position: center center;\n                background-repeat: ",";\n                background-size: ",";\n\n                .dialog-content{\n                  padding: 0;\n                  height: ",";\n                  background-color: ",";\n                  border-radius:  ",";\n                }\n\n                .dialog-footer{\n                  overflow-x: auto;\n                  background-color: ",";\n                  border-radius:  ",";\n                }\n              }\n\n            }\n          }\n          .app-dialog-backdrop{\n            background-color: ",";\n          }\n        }\n      }\n    }\n  "])),h,t?"inherit":"none",m,d.borderRadiusStyle,S,d.borderStyle,d.borderRadiusStyle,d.boxShadowStyle,d.backgroundImage,d.backgroundRepeat,d.backgroundSize,g,d.backgroundColor,O,d.backgroundColor,I,p)}function B(e){var t;switch(e.position){case l.DialogPosition.Left:t=v(C||(C=n(["\n        &.app-dialog{\n          margin: 0px;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n        }\n      "])),e.width);break;case l.DialogPosition.Right:t=v(A||(A=n(["\n        &.app-dialog{\n          margin: 0px;\n          float: right;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          float: right;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n        }\n      "])),e.width);break;case l.DialogPosition.Top:t=v(P||(P=n(["\n        &.app-dialog{\n          margin: 0px;\n          height: 100%;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          height: 100%;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n        }\n      "])),e.height);break;case l.DialogPosition.Bottom:t=v(x||(x=n(["\n        &.app-dialog{\n          position: absolute;\n          bottom: 0px;\n          margin: 0px;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n        }\n      "],["\n        &.app-dialog{\n          position: absolute;\n          bottom: 0px;\n          margin: 0px;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n        }\n      "])),e.height);break;case l.DialogPosition.Center:t=v(D||(D=n(["\n        &.app-dialog::before{\n          height: 100vh;\n        }\n        .app-dialog-content{\n          width: ",";\n          max-height: 100vh;\n          margin: 0 auto;\n        }\n      "],["\n        &.app-dialog::before{\n          height: 100vh;\n        }\n        .app-dialog-content{\n          width: ",";\n          max-height: 100vh;\n          margin: 0 auto;\n        }\n      "])),e.width)}return t}function W(e){var t,r,o,i=U(e),a="transparent"===i.backgroundColor?"var(--light)":i.backgroundColor,s="none"===i.boxShadowStyle?"0 0 10px 1px var(--light-600)":i.boxShadowStyle,u="calc(100vw - 1.5rem)";(null===(t=e.boxShadow)||void 0===t?void 0:t.color)&&(u="calc(100vw - "+2*((parseFloat(null===(r=e.boxShadow.blur)||void 0===r?void 0:r.split("px")[0])||0)+(parseFloat(null===(o=e.boxShadow.spread)||void 0===o?void 0:o.split("px")[0])||0))+"px)");return v(j||(j=n(["\n    &.app-dialog{\n      margin: 0.5rem !important;\n      border-radius:  ",";\n      background-color: transparent;\n      box-shadow: unset;\n      border: none;\n\n      &.dialog-arrow-hidden{\n        .jimu-popper--arrow{\n          visibility: hidden !important;\n        }\n      }\n\n      .app-dialog-animation-content{\n\n        .app-dialog-container{\n          max-height: calc(100vh - 2rem);\n          overflow-y: auto;\n\n          border: ",";\n          border-radius:  ",";\n          box-shadow: ",";\n          background-color: "," ;\n          background-image: ",";\n          background-position: center center;\n          background-repeat: ",";\n          background-size: ",";\n\n          .app-dialog-content{\n            max-width: ",";\n            width: ",";\n            height: ",";\n            overflow: hidden;\n            border-radius:  ",";\n          }\n        }\n      }\n\n    }\n  "],["\n    &.app-dialog{\n      margin: 0.5rem !important;\n      border-radius:  ",";\n      background-color: transparent;\n      box-shadow: unset;\n      border: none;\n\n      &.dialog-arrow-hidden{\n        .jimu-popper--arrow{\n          visibility: hidden !important;\n        }\n      }\n\n      .app-dialog-animation-content{\n\n        .app-dialog-container{\n          max-height: calc(100vh - 2rem);\n          overflow-y: auto;\n\n          border: ",";\n          border-radius:  ",";\n          box-shadow: ",";\n          background-color: "," ;\n          background-image: ",";\n          background-position: center center;\n          background-repeat: ",";\n          background-size: ",";\n\n          .app-dialog-content{\n            max-width: ",";\n            width: ",";\n            height: ",";\n            overflow: hidden;\n            border-radius:  ",";\n          }\n        }\n      }\n\n    }\n  "])),i.borderRadiusStyle,i.borderStyle,i.borderRadiusStyle,s,a,i.backgroundImage,i.backgroundRepeat,i.backgroundSize,u,e.width,e.height,i.borderRadiusStyle)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(10),s=r(44),u=r(223),c=r(224),l=r(225),f=/translateX\(([^)]*)\)/,d=/translateY\(([^)]*)\)/,p=/translate\(([^),]*),\s*([^),]*)\)/;t.Animation=i.forwardRef((function(e,t){var r,h,g,m=e.type,v=e.trigger,y=void 0===v?"":v,b=e.revert,w=e.configType,S=e.direction,O=e.playId,I=e.children,_=e.style,E=e.animationStyle,T=e.onAnimationStart,C=e.onAnimationEnd,A=e.isPlaying,P=o(e,["type","trigger","revert","configType","direction","playId","children","style","animationStyle","onAnimationStart","onAnimationEnd","isPlaying"]),x=i.useRef(),D=t||x,j=l.useSelfAnimation({type:m,trigger:y,revert:b,configType:w,direction:S,playId:O,onAnimationStart:T,onAnimationEnd:C},D),k=j[0],R=j[1],M=c.useOneByOneAnimation({animationStyle:E}),N=u.useInheritAnimation({hasEffect:null!=R,animationStyle:E,isPlaying:A},D),L=N[0],F=N[1],U="string"==typeof _?JSON.parse(_):_,V=function(e){var t=null==e?void 0:e.transform,r="0px",n="0px";if(t){var o=t.match(f),i=t.match(d),a=t.match(p);a?(r=a[1],n=a[2]):(o&&(r=o[1]),i&&(n=i[1]))}return[r,n]}(U),B=V[0],W=V[1];if(R&&k?(r=k,h=R.transform,g=R.clippath):!A&&F&&L?(r=L,h=F.transform,g=F.clippath):M&&(r=M,h=s.interpolateTransform,g=s.interpolateClippath),r){r.offsetX,r.offsetY,r.rotateX,r.rotateY,r.rotateZ,r.scaleX,r.scaleY,r.clipLeft,r.clipRight,r.clipTop,r.clipBottom;var q=o(r,["offsetX","offsetY","rotateX","rotateY","rotateZ","scaleX","scaleY","clipLeft","clipRight","clipTop","clipBottom"]);(U=Object.assign({},U,q)).transform=h(r,B,W),U.clipPath=g(r)}return i.createElement(a.animated.div,n({style:U,ref:D},P),I)}))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(22),s=r(13),u=function(e){function t(t){return e.call(this,s.AnimationType.FadeIn,t)||this}return o(t,e),t.prototype.initProps=function(){return this.generateProps({opacity:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({opacity:0}),to:this.generateProps({opacity:1}),immediate:!1,reset:!0,config:i.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,immediate:!0,reset:!1})},t}(a.BaseEffect);t.FadeInEffect=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(10),s=r(22),u=r(13),c=function(e){function t(t){var r,n=e.call(this,u.AnimationType.FlyIn,t)||this;return n.direction=(null===(r=n.option)||void 0===r?void 0:r.direction)||u.AnimationDirection.Top,n}return o(t,e),t.prototype.from=function(){switch(this.direction){case u.AnimationDirection.Bottom:return{offsetX:0,offsetY:window.innerHeight};case u.AnimationDirection.Left:return{offsetX:-window.innerWidth,offsetY:0};case u.AnimationDirection.Right:return{offsetX:window.innerWidth,offsetY:0};default:return{offsetX:0,offsetY:-window.innerHeight}}},t.prototype.initProps=function(){return this.generateProps({opacity:0,offsetX:0,offsetY:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps(i({opacity:0},this.from())),to:this.generateProps({opacity:1,offsetX:0,offsetY:0}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,offsetX:0,offsetY:0,immediate:!0,reset:!1})},t}(s.BaseEffect);t.FlyInEffect=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(22),s=r(13),u=function(e){function t(t){return e.call(this,s.AnimationType.ZoomIn,t)||this}return o(t,e),t.prototype.initProps=function(){return this.generateProps({scaleX:1,scaleY:1,opacity:0,transformOrigin:"center",immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({scaleX:0,scaleY:0,opacity:0}),to:this.generateProps({scaleX:1,scaleY:1,opacity:1}),immediate:!1,reset:!0,config:i.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({scaleX:1,scaleY:1,opacity:1,immediate:!0,reset:!1})},t}(a.BaseEffect);t.ZoomInEffect=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(22),s=r(13),u=function(e){function t(t){var r,n=e.call(this,s.AnimationType.WipeIn,t)||this;return n.direction=(null===(r=n.option)||void 0===r?void 0:r.direction)||s.AnimationDirection.Top,n}return o(t,e),t.prototype.getClipProp=function(){switch(this.direction){case s.AnimationDirection.Bottom:return"clipTop";case s.AnimationDirection.Left:return"clipRight";case s.AnimationDirection.Right:return"clipLeft";default:return"clipBottom"}},t.prototype.initProps=function(){var e;return this.generateProps(((e={})[this.getClipProp()]=100,e.opacity=0,e.transformOrigin="center",e.immediate=!0,e))},t.prototype.animateProps=function(){var e,t;return{from:this.generateProps((e={},e[this.getClipProp()]=100,e.opacity=0,e)),to:this.generateProps((t={},t[this.getClipProp()]=0,t.opacity=1,t)),immediate:!1,reset:!0,config:i.config[this.getConfigType()]}},t.prototype.endProps=function(){var e;return this.generateProps(((e={})[this.getClipProp()]=0,e.opacity=1,e.immediate=!0,e.reset=!1,e))},t}(a.BaseEffect);t.WipeInEffect=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(22),s=r(13),u=function(e){function t(t){return e.call(this,s.AnimationType.SpinIn,t)||this}return o(t,e),t.prototype.initProps=function(){return this.generateProps({rotateZ:0,opacity:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({rotateZ:720,opacity:0}),to:this.generateProps({rotateZ:0,opacity:1}),immediate:!1,reset:!0,config:i.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({rotateZ:0,opacity:1,immediate:!0,reset:!1})},t}(a.BaseEffect);t.SpinInEffect=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(10),s=r(22),u=r(13),c=function(e){function t(t){var r,n=e.call(this,u.AnimationType.FloatIn,t)||this;return n.direction=(null===(r=n.option)||void 0===r?void 0:r.direction)||u.AnimationDirection.Top,n}return o(t,e),t.prototype.from=function(){switch(this.direction){case u.AnimationDirection.Bottom:return{offsetX:0,offsetY:100};default:return{offsetX:0,offsetY:-100}}},t.prototype.initProps=function(){return this.generateProps({opacity:0,offsetX:0,offsetY:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps(i({opacity:0},this.from())),to:this.generateProps({opacity:1,offsetX:0,offsetY:0}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,offsetX:0,offsetY:0,immediate:!0,reset:!1})},t}(s.BaseEffect);t.FloatInEffect=c},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(10),a=r(13),s=r(44),u=r(58),c=r(59),l=r(81),f=new u.FadeOutEffect;t.useInheritAnimation=function(e,t){var r,u=e.hasEffect,d=e.isPlaying,p=e.animationStyle,h=o.useRef(!1),g=o.useRef(!1),m=o.useContext(l.AnimationContext),v=m.inheritedOneByOneSetting,y=m.isDesignMode,b=m.depth,w=v||{},S=w.type,O=w.option,I=o.useMemo((function(){return s.getEffect(S,O)}),[S,O]),_=o.useMemo((function(){return!u&&!d&&S&&S!==a.AnimationType.None&&t.current&&!y}),[u,d,S,t.current,y]),E=c.useIntersection(t.current,_,1===b?null:null===(r=t.current)||void 0===r?void 0:r.parentElement),T=i.useSpring((function(){return{}})),C=T[0],A=T[1],P=T[2];o.useEffect((function(){_&&!d?function(e,t){var r=null==t?void 0:t.parentElement;if(!r)return!0;var n=t.getBoundingClientRect(),o=1===e?{top:0,height:window.innerHeight}:r.getBoundingClientRect();return n.top<o.top+o.height}(b,t.current)||D():d&&(g.current=!1)}),[u,d,_,I]),o.useEffect((function(){I&&_&&!y&&(E?x():!1===E&&D())}),[E,_,y]);var x=o.useCallback((function(){I&&(h.current||(P(),h.current=!0,g.current=!0,A(n(n({},I.animateProps()),{onRest:function(){h.current=!1}}))))}),[I]),D=o.useCallback((function(){I&&(h.current||(P(),g.current=!0,h.current=!0,A(n(n({},f.animateProps()),{onRest:function(){h.current=!1}}))))}),[I]);return[d||!g.current?p:C,_?I:null]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOneByOneAnimation=function(e){return e.animationStyle}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(10),a=r(13),s=r(44),u=r(22),c=r(58),l=r(59),f=new c.FadeOutEffect;t.useSelfAnimation=function(e,t){var r=e.type,c=e.trigger,d=void 0===c?"":c,p=e.revert,h=e.configType,g=e.direction,m=e.playId,v=e.onAnimationStart,y=e.onAnimationEnd,b=o.useRef(),w=o.useRef(!1),S=o.useMemo((function(){return d.indexOf(a.AnimationTriggerType.ScrollIntoView)>=0}),[d]),O=o.useMemo((function(){return d.indexOf(a.AnimationTriggerType.Manual)>=0}),[d]),I=o.useMemo((function(){return s.getEffect(r,{configType:h,direction:g})}),[r,h,g]),_=l.useIntersection(t.current,S&&null!=I),E=i.useSpring((function(){return I?I.initProps():u.DEFAULT_ANIMATION_PROPS})),T=E[0],C=E[1],A=E[2];o.useEffect((function(){I&&S&&(_?P():!1===_&&x())}),[_,S]);var P=o.useCallback((function(e){void 0===e&&(e=!1),I&&(w.current&&!e||(A(),"function"==typeof v&&v(),w.current=!0,C(n(n({},I.animateProps()),{onRest:function(){w.current=!1,"function"==typeof y&&y()}}))))}),[I]),x=o.useCallback((function(e){void 0===e&&(e=!1),I&&(w.current&&!e||(A(),w.current=!0,C(n(n({},f.animateProps()),{onRest:function(){w.current=!1,"function"==typeof y&&O&&y()}}))))}),[I,O]);return o.useEffect((function(){I&&m&&m!==b.current&&O&&(b.current=m,s.isVisible(t.current)?p?x(!0):P(!0):x(!0))})),[T,I]}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(10),s=r(13),u=r(44),c=r(22),l=r(81),f=r(58),d=r(59),p=new f.FadeOutEffect;t.OneByOneAnimation=function(e){e.children;var t,r,f=e.style,h=o(e,["children","style"]),g=i.useRef(),m=i.useRef(),v=i.useRef(),y=i.useContext(l.AnimationContext),b=i.useState(0),w=b[0],S=b[1],O=i.useState(),I=O[0],_=O[1],E=i.useRef(!1),T=y.trigger,C=void 0===T?"":T,A=y.delay,P=void 0===A?0:A,x=y.setting,D=y.playId,j=y.revert,k=y.onAnimationStart,R=y.onAnimationEnd,M=null==x?void 0:x.type,N=null===(t=null==x?void 0:x.option)||void 0===t?void 0:t.configType,L=null===(r=null==x?void 0:x.option)||void 0===r?void 0:r.direction;v.current=u.getEffect(M,{configType:N,direction:L}),E.current=I;var F=C.indexOf(s.AnimationTriggerType.ScrollIntoView)>=0,U=C.indexOf(s.AnimationTriggerType.Manual)>=0,V=d.useIntersection(m.current,F&&null!=v.current);i.useEffect((function(){F&&null!=v.current&&S(w+1)}),[]),i.useEffect((function(){v.current&&F&&(V?G():H())}),[V]);var B=a.useTrail(i.Children.count(e.children),(function(){return c.DEFAULT_ANIMATION_PROPS})),W=B[0],q=B[1],G=i.useCallback((function(t){if(void 0===t&&(t=!1),v.current&&(!E.current||t)){_(!0);var r=0;"function"==typeof k&&k(),q(n(n({},v.current.animateProps()),{delay:P,onRest:function(){(r+=1)===i.Children.count(e.children)&&("function"==typeof R&&R(),_(!1))}}))}}),[]),H=i.useCallback((function(t){if(void 0===t&&(t=!1),v.current&&(!E.current||t)){_(!0);var r=0;q(n(n({},p.animateProps()),{onRest:function(){(r+=1)===i.Children.count(e.children)&&(_(!1),"function"==typeof R&&U&&R())}}))}}),[]);i.useEffect((function(){v.current&&(D?D!==g.current&&U&&(g.current=D,v.current.type===s.AnimationType.FadeOut?H(!0):u.isVisible(m.current)?j?H(!0):G(!0):H(!0)):g.current=null)}));var z="string"==typeof f?JSON.parse(f):n({},f);return i.createElement("div",n({style:z,ref:m},h),e.children&&i.Children.map(e.children,(function(e,t){return e?i.cloneElement(e,{isPlaying:I,animationStyle:null!=v.current?W[t]:null}):null})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35);t.isDirectionalTransition=function(e){switch(e){case n.TransitionType.Cover:case n.TransitionType.Cube:case n.TransitionType.Push:case n.TransitionType.Box:return!0;default:return!1}};var o=r(133);t.getIndexFromProgress=o.getIndexFromProgress,t.getTransition=o.getTransition,t.clamp=o.clamp,t.isIntegerProgress=o.isIntegerProgress;var i=r(234);t.TransitionContainer=i.TransitionContainer,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(35))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(35),i=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=o.TransitionDirection.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initTransitionProps=function(e,t,r){return e===t||e===r?e===t?this.direction===o.TransitionDirection.Vertical?{display:"block",rotateY:t>r?90:-90,opacity:1,transformOrigin:t>r?"bottom":"top"}:this.isRTL?{display:"block",rotateY:t>r?90:-90,opacity:1,transformOrigin:t>r?"left":"right"}:{display:"block",rotateY:t>r?-90:90,opacity:1,transformOrigin:t>r?"right":"left"}:e===r?this.direction===o.TransitionDirection.Vertical?{display:"block",rotateY:0,opacity:1,transformOrigin:t>r?"top":"bottom"}:this.isRTL?{display:"block",rotateY:0,opacity:1,transformOrigin:t>r?"right":"left"}:{display:"block",rotateY:0,opacity:1,transformOrigin:t>r?"left":"right"}:void 0:{display:"none",opacity:1}},e.prototype.initRotate=function(){return this.direction===o.TransitionDirection.Vertical?"rotateX(-90deg)":this.isRTL?"rotateY(90deg)":"rotateY(-90deg)"},e.prototype.getTransitionProps=function(e,t,r,n){return n>=0?this.getContinuousTransitionProps(e,t,r,n):this.getDiscreteTransitionProps(e,t,r)},e.prototype.getDiscreteTransitionProps=function(e,t,r){var n=e===t||e===r;if(this.direction===o.TransitionDirection.Vertical)return e===t?{display:"block",rotateY:0,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}:{display:n?"block":"none",rotateY:e>t?90:-90,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)};var i=this.isRTL?-1:1;return e===t?{display:"block",rotateY:0,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}:{display:n?"block":"none",rotateY:e>t?-90*i:90*i,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}},e.prototype.getContinuousTransitionProps=function(e,t,r,n){if(void 0===n&&(n=1),!(e===t||e===r))return{display:"none"};var i=n-r;return t===r&&(i=1),{display:"block",rotateY:this.direction!==o.TransitionDirection.Vertical&&this.isRTL?e===t?90*(1-i):-90*i:e===t?90*(i-1):90*i,offsetX:0,opacity:1,transformOrigin:this.getOrigin(e,t,r)}},e.prototype.getOrigin=function(e,t,r){return e===t?this.direction===o.TransitionDirection.Vertical?"bottom":this.isRTL?"left":"right":e===r?this.direction===o.TransitionDirection.Vertical?"top":this.isRTL?"right":"left":void 0},e.prototype.getDiscreteOrigin=function(e,t,r){if(this.direction===o.TransitionDirection.Vertical){if(e===t)return t>r?"bottom":"top";if(e===r)return t>r?"top":"bottom"}if(this.isRTL){if(e===t)return t>r?"left":"right";if(e===r)return t>r?"right":"left"}else{if(e===t)return t>r?"right":"left";if(e===r)return t>r?"left":"right"}return""},e.prototype.transform=function(e,t,r,n,o){return t!==r&&t!==n?"":o>=0?this.transformContinuous(e,t,r,n,o):this.transformDiscrete(e,t,r,n)},e.prototype.transformContinuous=function(e,t,r,n,i){var a=this,s=e.rotateY;return s?s.interpolate((function(e){return a.direction===o.TransitionDirection.Vertical?"perspective(1000px) rotateX("+-e+"deg)":"perspective(1000px) rotateY("+e+"deg)"})):this.initRotate()},e.prototype.transformDiscrete=function(e,t,r,i){var a=this,s=e.rotateY;return null==s?"":n.interpolate([s],(function(e){return a.direction===o.TransitionDirection.Vertical?"perspective(1000px) rotateX("+e+"deg)":"perspective(1000px) rotateY("+e+"deg)"}))},e}();t.BoxTransition=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),o=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=n.TransitionDirection.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initTransitionProps=function(e,t,r){if(!(e===t||e===r))return{display:"none"};var o=this.direction===n.TransitionDirection.Horizontal&&this.isRTL?-1:1;return e===t?{display:"block",opacity:1,offsetX:t>r?100*o:0,zIndex:0}:{display:"block",opacity:1,offsetX:0,zIndex:0}},e.prototype.initOffset=function(e,t,r,o){if(t!==r)return 0;var i=e-o;return r===o&&(i=1),this.direction===n.TransitionDirection.Horizontal&&this.isRTL?100*(i-1):100*(1-i)},e.prototype.getTransitionProps=function(e,t,r,n){return n>=0?this.getContinuousTransitionProps(e,t,r,n):this.getDiscreteTransitionProps(e,t,r)},e.prototype.getDiscreteTransitionProps=function(e,t,r){if(!(e===t||e===r))return{display:"none"};var o=this.direction===n.TransitionDirection.Horizontal&&this.isRTL?-1:1;return e===t?{display:"block",offsetX:0,rotateY:0,opacity:1,zIndex:0}:{display:"block",opacity:1,rotateY:0,offsetX:e>t?100*o:0,zIndex:0}},e.prototype.getContinuousTransitionProps=function(e,t,r,n){return void 0===n&&(n=1),e===t||e===r?{display:"block",offsetX:this.initOffset(n,e,t,r),opacity:1,rotateX:0,zIndex:0}:{display:"none"}},e.prototype.transform=function(e,t,r,n,o){return t!==r&&t!==n?"":o>=0?this.transformContinuous(e,t,r,n,o):this.transformDiscrete(e,t,r,n)},e.prototype.transformContinuous=function(e,t,r,o,i){var a=this,s=e.offsetX;return s?s.interpolate((function(e){return a.direction===n.TransitionDirection.Vertical?"translate3d(0, "+e+"%, 0)":"translate3d("+e+"%, 0, 0)"})):""},e.prototype.transformDiscrete=function(e,t,r,o){var i=e.offsetX;return i?this.direction===n.TransitionDirection.Vertical?i.interpolate((function(e){return"translate3d(0, "+e+"%, 0)"})):i.interpolate((function(e){return"translate3d("+e+"%, 0, 0)"})):""},e}();t.CoverTransition=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.initTransitionProps=function(e,t,r){return e===t||e===r?{opacity:e===r?1:0,zIndex:e===r?1:0,display:"block"}:{display:"none"}},e.prototype.getTransitionProps=function(e,t,r,n){return n>=0?this.getContinuousTransitionProps(e,t,r,n):this.getDiscreteTransitionProps(e,t,r)},e.prototype.getDiscreteTransitionProps=function(e,t,r){return e===t||e===r?{opacity:e===t?1:0,zIndex:e===t?1:0,rotateY:0,offsetX:0,display:"block"}:{display:"none"}},e.prototype.getContinuousTransitionProps=function(e,t,r,n){if(void 0===n&&(n=1),!(e===t||e===r))return{display:"none"};var o=n-r;return t===r&&(o=1),{opacity:e===t?o:1-o,zIndex:e===t?1:0,rotateY:0,offsetX:0,display:"block"}},e.prototype.transform=function(e,t,r,n,o){return""},e}();t.FadeTransition=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),o=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=n.TransitionDirection.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initTransitionProps=function(e,t,r){if(!(e===t||e===r))return{display:"none"};var o=this.direction===n.TransitionDirection.Horizontal&&this.isRTL?-1:1,i={display:"block",zIndex:0};return e===t?(i.offsetX=t>r?100*o:-100*o,i.opacity=1):(i.offsetX=0,i.opacity=1),i},e.prototype.initOffset=function(e,t,r,o){var i=e-o;return r===o&&(i=1),t===r?this.direction===n.TransitionDirection.Horizontal&&this.isRTL?100*(i-1):100*(1-i):this.direction===n.TransitionDirection.Horizontal&&this.isRTL?100*i:-100*i},e.prototype.getTransitionProps=function(e,t,r,n){return n>=0?this.getContinuousTransitionProps(e,t,r,n):this.getDiscreteTransitionProps(e,t,r)},e.prototype.getDiscreteTransitionProps=function(e,t,r){var o={display:e===t||e===r?"block":"none",rotateY:0};if(e===t)o.offsetX=0,o.opacity=1;else{var i=this.direction===n.TransitionDirection.Horizontal&&this.isRTL?-1:1;o.offsetX=e>t?100*i:-100*i,o.opacity=1}return o},e.prototype.getContinuousTransitionProps=function(e,t,r,n){return void 0===n&&(n=1),e===t||e===r?{display:"block",rotateY:0,offsetX:this.initOffset(n,e,t,r),opacity:1,zIndex:0}:{display:"none"}},e.prototype.transform=function(e,t,r,n,o){return t!==r&&t!==n?"":o>=0?this.transformContinuous(e,t,r,n,o):this.transformDiscrete(e,t,r,n)},e.prototype.transformContinuous=function(e,t,r,o,i){var a=this,s=e.offsetX;return s?s.interpolate((function(e){return a.direction===n.TransitionDirection.Vertical?"translate3d(0, "+e+"%, 0)":"translate3d("+e+"%, 0, 0)"})):""},e.prototype.transformDiscrete=function(e,t,r,o){var i=e.offsetX;return i?this.direction===n.TransitionDirection.Vertical?i.interpolate((function(e){return"translate3d(0, "+e+"%, 0)"})):i.interpolate((function(e){return"translate3d("+e+"%, 0, 0)"})):""},e}();t.PushTransition=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(35),i=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=o.TransitionDirection.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initTransitionProps=function(e,t,r){return e===t||e===r?e===t?{display:"block",rotateY:t>r?60:-60,offsetX:t>r?100:-100,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}:{display:"block",rotateY:0,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}:{display:"none",opacity:1}},e.prototype.initState=function(e,t,r,n){var o=e-n;return r===n&&(o=1),t===r?[100*(1-o),60*(1-o)]:[-100*o,-60*o]},e.prototype.getContinuousOrigin=function(e,t,r){return this.direction===o.TransitionDirection.Vertical?e===t?"top":"bottom":e===t?this.isRTL?"right":"left":this.isRTL?"left":"right"},e.prototype.getDiscreteOrigin=function(e,t,r){return this.direction===o.TransitionDirection.Vertical?e===t?t>r?"top":"bottom":e<t?"bottom":"top":this.isRTL?e===t?t>r?"right":"left":e<t?"left":"right":e===t?t>r?"left":"right":e<t?"right":"left"},e.prototype.getTransitionProps=function(e,t,r,n){return n>=0?this.getContinuousTransitionProps(e,t,r,n):this.getDiscreteTransitionProps(e,t,r)},e.prototype.getDiscreteTransitionProps=function(e,t,r){var n=e===t||e===r;return e===t?{display:"block",rotateY:0,offsetX:0,opacity:1,transformOrigin:this.getDiscreteOrigin(e,t,r)}:e<t?{display:n?"block":"none",rotateY:-60,offsetX:-100,opacity:0,transformOrigin:this.getDiscreteOrigin(e,t,r)}:{display:n?"block":"none",rotateY:60,offsetX:100,opacity:0,transformOrigin:this.getDiscreteOrigin(e,t,r)}},e.prototype.getContinuousTransitionProps=function(e,t,r,n){if(void 0===n&&(n=1),!(e===t||e===r))return{display:"none"};var o=this.initState(n,e,t,r),i=o[0],a=o[1],s=n-r;return t===r&&(s=1),e===t?{display:"block",rotateY:a,offsetX:i,opacity:s,transformOrigin:this.getContinuousOrigin(e,t,r)}:{display:"block",rotateY:a,offsetX:i,opacity:1-s,transformOrigin:this.getContinuousOrigin(e,t,r)}},e.prototype.transform=function(e,t,r,n,o){return t!==r&&t!==n?"":o>=0?this.transformContinuous(e,t,r,n,o):this.transformDiscrete(e,t,r,n)},e.prototype.transformContinuous=function(e,t,r,i,a){var s=e.offsetX,u=e.rotateY;if(!s||!u){var c=this.initState(a,t,r,i),l=c[0],f=c[1];return this.direction===o.TransitionDirection.Vertical?"perspective(1000px) translateY("+l+"%) rotateX("+-1*f+"deg)":"perspective(1000px) translateX("+l+"%) rotateY("+f+"deg)"}return this.direction===o.TransitionDirection.Vertical?n.interpolate([s,u],(function(e,t){return"perspective(1000px) translateY("+e+"%) rotateX("+-1*t+"deg)"})):this.isRTL?n.interpolate([s,u],(function(e,t){return"perspective(1000px) translateX("+-1*e+"%) rotateY("+-1*t+"deg)"})):n.interpolate([s,u],(function(e,t){return"perspective(1000px) translateX("+e+"%) rotateY("+t+"deg)"}))},e.prototype.transformDiscrete=function(e,t,r,i){var a=e.offsetX,s=e.rotateY;return null==a||null==s?"":this.direction===o.TransitionDirection.Vertical?n.interpolate([a,s],(function(e,t){return"perspective(1000px) translate3d(0, "+e+"%, 0) rotateX("+-1*t+"deg)"})):this.isRTL?n.interpolate([a,s],(function(e,t){return"perspective(1000px) translate3d("+-1*e+"%, 0, 0) rotateY("+-1*t+"deg)"})):n.interpolate([a,s],(function(e,t){return"perspective(1000px) translate3d("+e+"%, 0, 0) rotateY("+t+"deg)"}))},e}();t.CubeTransition=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.initTransitionProps=function(e,t,r){return{display:e===t?"block":"none"}},e.prototype.getTransitionProps=function(e,t,r,n){return void 0===n&&(n=1),{display:e===t?"block":"none",opacity:1}},e.prototype.transform=function(e,t,r,n,o){return""},e}();t.NoTransition=n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(0),s=r(80),u=r(133);t.TransitionContainer=function(e){var t=e.useProgress,r=void 0!==t&&t,c=e.progress,l=e.currentIndex,f=e.previousIndex,d=e.direction,p=e.transitionType,h=e.children,g=a.useRef(),m=a.useRef(),v=a.useRef(),y=a.useRef(),b=a.useRef(),w=a.useRef(),S=a.useRef(),O=a.useState(0),I=O[0],_=O[1],E=a.useRef(),T=a.Children.count(h),C=a.useRef(),A=a.useRef(),P=a.useContext(s.AnimationContext),x=P.setting,D=P.playId,j=P.isDesignMode,k=a.useRef(!1),R=c;if(c>=0){var M=u.getIndexFromProgress(c,T);R=M.progress,Math.round(100*y.current)!==Math.round(100*R)?(b.current=!0,y.current=M.progress):b.current=!1;var N=!0;g.current===M.currentIndex-1?S.current=!0:u.isIntegerProgress(c*(T-1))&&M.currentIndex===g.current-1&&(N=!1),N&&(g.current=M.currentIndex,v.current=M.previousIndex,w.current=u.getTransition(p,d))}else g.current!==l?(S.current=!0,b.current=!0):b.current=!1,g.current=l,v.current=f,w.current=u.getTransition(p,d);var L=i.useSprings(T,(function(e){return e===g.current?{display:"block",opacity:1,zIndex:0}:{display:"none",opacity:1,zIndex:0}})),F=L[0],U=L[1];(0,L[2])(),e.playId&&m.current!==e.playId&&(m.current=e.playId,S.current=!0,k.current=!0);var V,B=!1;A.current!==D&&(B=!0,A.current=D);var W=!1;function q(){C.current=null}return x&&x.type!==s.AnimationType.None&&(j?W=e.playId&&e.withOneByOne:r||(W=!k.current||e.withOneByOne)),(B||W)&&(V=x),S.current?U((function(e){return n(n({},w.current.initTransitionProps(e,g.current,v.current)),{immediate:!0,onRest:function(){e===g.current&&S.current&&(S.current=!1,E.current=I+1,_(E.current))}})})):(b.current||E.current===I)&&U((function(e){return n(n({},w.current.getTransitionProps(e,g.current,v.current,R)),{config:{duration:400},immediate:!1,onRest:function(){k.current=!1,W&&(C.current=Symbol("play"),_(I+1))}})})),a.createElement(a.Fragment,null,a.Children.map(h,(function(t,u){var c=F[u],l=(c.offsetX,c.offsetY,c.rotateX,c.rotateY,o(c,["offsetX","offsetY","rotateX","rotateY"])),f="";g.current!==v.current&&(f=w.current.transform(F[u],u,g.current,v.current,R));var d=u===g.current||u===v.current;return a.createElement(i.animated.div,{className:"w-100 h-100 view-content",key:u,style:n({position:"absolute",transform:f},l)},a.createElement(s.AnimationContext.Provider,{value:{trigger:s.AnimationTriggerType.Manual,setting:r?null:d?V:V?{type:s.AnimationType.FadeOut}:null,playId:B?D:W?e.playId&&e.withOneByOne&&!C.current?Symbol("reset current view"):C.current:null,revert:!!(!B&&u!==g.current||e.playId&&e.withOneByOne&&E.current===I),inheritedOneByOneSetting:null,depth:P.depth+1,onAnimationEnd:q}},t))})))}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"withResizeDetector",(function(){return ue}));var n=r(0),o=r.n(n),i=r(46),a=r(86),s=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n},u=r(8);var c=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l=r(141),f="object"==typeof self&&self&&self.Object===Object&&self,d=l.a||f||Function("return this")(),p=function(){return d.Date.now()},h=d.Symbol,g=Object.prototype,m=g.hasOwnProperty,v=g.toString,y=h?h.toStringTag:void 0;var b=function(e){var t=m.call(e,y),r=e[y];try{e[y]=void 0;var n=!0}catch(e){}var o=v.call(e);return n&&(t?e[y]=r:delete e[y]),o},w=Object.prototype.toString;var S=function(e){return w.call(e)},O=h?h.toStringTag:void 0;var I=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?b(e):S(e)};var _=function(e){return null!=e&&"object"==typeof e};var E=function(e){return"symbol"==typeof e||_(e)&&"[object Symbol]"==I(e)},T=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,P=/^0o[0-7]+$/i,x=parseInt;var D=function(e){if("number"==typeof e)return e;if(E(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(T,"");var r=A.test(e);return r||P.test(e)?x(e.slice(2),r?2:8):C.test(e)?NaN:+e},j=Math.max,k=Math.min;var R=function(e,t,r){var n,o,i,a,s,u,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function m(e){return l=e,s=setTimeout(y,t),f?g(e):a}function v(e){var r=e-u;return void 0===u||r>=t||r<0||d&&e-l>=i}function y(){var e=p();if(v(e))return b(e);s=setTimeout(y,function(e){var r=t-(e-u);return d?k(r,i-(e-l)):r}(e))}function b(e){return s=void 0,h&&n?g(e):(n=o=void 0,a)}function w(){var e=p(),r=v(e);if(n=arguments,o=this,u=e,r){if(void 0===s)return m(u);if(d)return clearTimeout(s),s=setTimeout(y,t),g(u)}return void 0===s&&(s=setTimeout(y,t)),a}return t=D(t)||0,c(r)&&(f=!!r.leading,i=(d="maxWait"in r)?j(D(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=u=o=s=void 0},w.flush=function(){return void 0===s?a:b(p())},w};var M=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return c(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),R(e,t,{leading:n,maxWait:t,trailing:o})},N={debounce:R,throttle:M},L=function(e){return"function"==typeof e},F=function(){return"undefined"==typeof window};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(){return V(this,t),W(this,q(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.children}}])&&B(r.prototype,n),o&&B(r,o),t}(n.PureComponent);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?Y(e):t}(this,K(t).call(this,e)),X(Y(r),"cancelHandler",(function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)})),X(Y(r),"rafClean",(function(){r.raf&&r.raf.cancel&&(r.raf.cancel(),r.raf=null)})),X(Y(r),"toggleObserver",(function(e){var t=r.getElement();t&&r.resizeObserver[e]&&r.resizeObserver[e](t)})),X(Y(r),"getElement",(function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(!F()){if(t)return document.querySelector(t);if(n&&((o=n)instanceof Element||o instanceof HTMLDocument))return n;var o,a=r.element&&Object(i.findDOMNode)(r.element);if(a)return a.parentElement}})),X(Y(r),"createUpdater",(function(){return r.rafClean(),r.raf=s((function(e){var t=e.width,n=e.height,o=r.props.onResize;L(o)&&o(t,n),r.setState({width:t,height:n})})),r.raf})),X(Y(r),"createResizeHandler",(function(e){var t=r.state,n=t.width,o=t.height,i=r.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var u=r.createUpdater();e.forEach((function(e){var t=e&&e.contentRect||{},i=t.width,c=t.height,l=a&&n!==i||s&&o!==c;!r.skipOnMount&&l&&!F()&&u({width:i,height:c}),r.skipOnMount=!1}))}})),X(Y(r),"onRef",(function(e){r.element=e})),X(Y(r),"getRenderType",(function(){var e=r.props,t=e.render,o=e.children;return L(t)?"renderProp":L(o)?"childFunction":Object(n.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),X(Y(r),"getTargetComponent",(function(){var e=r.props,t=e.render,o=e.children,i=e.nodeType,a=r.state,s={width:a.width,height:a.height};switch(r.getRenderType()){case"renderProp":return Object(n.cloneElement)(t(s),{key:"resize-detector"});case"childFunction":return Object(n.cloneElement)(o(s));case"child":return Object(n.cloneElement)(o,s);case"childArray":return o.map((function(e){return!!e&&Object(n.cloneElement)(e,s)}));default:return Object(n.createElement)(i)}}));var o=e.skipOnMount,u=e.refreshMode,c=e.refreshRate,l=e.refreshOptions;r.state={width:void 0,height:void 0},r.skipOnMount=o,r.raf=null,r.element=null,r.unmounted=!1;var f=N[u];return r.resizeHandler=f?f(r.createResizeHandler,c,l):r.createResizeHandler,r.resizeObserver=new a.default(r.resizeHandler),r}var r,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,e),r=t,(u=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(H,{ref:this.onRef},this.getTargetComponent())}}])&&$(r.prototype,u),c&&$(r,c),t}(n.PureComponent);Q.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,targetDomEl:u.any,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},Q.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var Z=Q;function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,r){return t&&re(e.prototype,t),r&&re(e,r),e}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return(function(r){function n(){return te(this,n),oe(this,ie(n).apply(this,arguments))}return ae(n,r),ne(n,[{key:"render",value:function(){return o.a.createElement(Z,t,o.a.createElement(e,this.props))}}]),n}(n.Component))};t.default=Z},function(e,t,r){"use strict";r.r(t),r.d(t,"getFeature",(function(){return s})),r.d(t,"queryFeatures",(function(){return u})),r.d(t,"addFeatures",(function(){return c})),r.d(t,"updateFeatures",(function(){return l})),r.d(t,"deleteFeatures",(function(){return f})),r.d(t,"applyEdits",(function(){return d})),r.d(t,"getAttachments",(function(){return p})),r.d(t,"addAttachment",(function(){return h})),r.d(t,"updateAttachment",(function(){return g})),r.d(t,"deleteAttachments",(function(){return m})),r.d(t,"queryRelated",(function(){return v})),r.d(t,"getLayer",(function(){return y})),r.d(t,"getService",(function(){return b})),r.d(t,"decodeValues",(function(){return w}));var n=r(1),o=r(104),i=r(103),a=r(105);function s(e){var t=Object(o.a)(e.url)+"/"+e.id,r=n.a({httpMethod:"GET"},e);return Object(i.d)(t,r).then((function(e){return r.rawResponse?e:e.feature}))}function u(e){var t=Object(a.a)(e,["where","objectIds","relationParam","time","distance","units","outFields","geometry","geometryType","spatialRel","returnGeometry","maxAllowableOffset","geometryPrecision","inSR","outSR","gdbVersion","returnDistinctValues","returnIdsOnly","returnCountOnly","returnExtentOnly","orderByFields","groupByFieldsForStatistics","outStatistics","returnZ","returnM","multipatchOption","resultOffset","resultRecordCount","quantizationParameters","returnCentroid","resultType","historicMoment","returnTrueCurves","sqlFormat","returnExceededLimitFeatures","f"],{httpMethod:"GET",params:n.a({where:"1=1",outFields:"*"},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/query",t)}function c(e){var t=Object(o.a)(e.url)+"/addFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function l(e){var t=Object(o.a)(e.url)+"/updateFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function f(e){var t=Object(o.a)(e.url)+"/deleteFeatures",r=Object(a.a)(e,["where","objectIds","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function d(e){var t=Object(o.a)(e.url)+"/applyEdits",r=Object(a.a)(e,["adds","updates","deletes","useGlobalIds","attachments","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function p(e){var t=n.a({httpMethod:"GET"},e);return Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/attachments",t)}function h(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/addAttachment",t)}function g(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,t.params.attachmentId=e.attachmentId,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/updateAttachment",t)}function m(e){var t=n.a({params:{}},e);return t.params.attachmentIds=e.attachmentIds,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/deleteAttachments",t)}function v(e){var t=Object(a.a)(e,["objectIds","relationshipId","definitionExpression","outFields"],{httpMethod:"GET",params:n.a({definitionExpression:"1=1",outFields:"*",relationshipId:0},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/queryRelatedRecords",t)}function y(e){return Object(i.d)(Object(o.a)(e.url),e)}function b(e){return Object(i.d)(Object(o.a)(e.url),e)}function w(e){return new Promise((function(t){if(!e.fields)return y({url:e.url}).then((function(r){t(e.fields=r.fields)}));t(e.fields)})).then((function(t){var r=function(e){return e.reduce((function(e,t){var r=t.domain;return r&&"codedValue"===r.type&&(e[t.name]=r),e}),{})}(t);if(Object.keys(r).length<1)return e.queryResponse;var o=e.queryResponse.features.map((function(e){var t={};for(var o in e.attributes)if(e.attributes.hasOwnProperty(o)){var i=e.attributes[o],a=r[o];t[o]=null!==i&&a?S(i,a):i}return n.a({},e,{attributes:t})}));return n.a({},e.queryResponse,{features:o})}))}function S(e,t){var r=t.codedValues.find((function(t){return e===t.code}));return r?r.name:e}},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return p})),r.d(t,"v3",(function(){return S})),r.d(t,"v4",(function(){return O})),r.d(t,"v5",(function(){return E}));var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var a=[],s=0;s<256;++s)a[s]=(s+256).toString(16).substr(1);var u,c,l=function(e,t){var r=t||0,n=a;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")},f=0,d=0;var p=function(e,t,r){var n=t&&r||0,o=t||[],a=(e=e||{}).node||u,s=void 0!==e.clockseq?e.clockseq:c;if(null==a||null==s){var p=e.random||(e.rng||i)();null==a&&(a=u=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==s&&(s=c=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:d+1,m=h-f+(g-d)/1e4;if(m<0&&void 0===e.clockseq&&(s=s+1&16383),(m<0||h>f)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=h,d=g,c=s;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;o[n++]=v>>>24&255,o[n++]=v>>>16&255,o[n++]=v>>>8&255,o[n++]=255&v;var y=h/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var b=0;b<6;++b)o[n+b]=a[b];return t||l(o)};var h=function(e,t,r){var n=function(e,n,o,i){var a=o&&i||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=r(n.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,o)for(var u=0;u<16;++u)o[a+u]=s[u];return o||l(s)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function g(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function m(e,t,r,n,o,i){return g((a=g(g(t,e),g(n,i)))<<(s=o)|a>>>32-s,r);var a,s}function v(e,t,r,n,o,i,a){return m(t&r|~t&n,e,t,o,i,a)}function y(e,t,r,n,o,i,a){return m(t&n|r&~n,e,t,o,i,a)}function b(e,t,r,n,o,i,a){return m(t^r^n,e,t,o,i,a)}function w(e,t,r,n,o,i,a){return m(r^(t|~n),e,t,o,i,a)}var S=h("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,o=[],i=32*e.length;for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16),o.push(n);return o}(function(e,t){var r,n,o,i,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,u=-271733879,c=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=s,o=u,i=c,a=l,s=v(s,u,c,l,e[r],7,-680876936),l=v(l,s,u,c,e[r+1],12,-389564586),c=v(c,l,s,u,e[r+2],17,606105819),u=v(u,c,l,s,e[r+3],22,-1044525330),s=v(s,u,c,l,e[r+4],7,-176418897),l=v(l,s,u,c,e[r+5],12,1200080426),c=v(c,l,s,u,e[r+6],17,-1473231341),u=v(u,c,l,s,e[r+7],22,-45705983),s=v(s,u,c,l,e[r+8],7,1770035416),l=v(l,s,u,c,e[r+9],12,-1958414417),c=v(c,l,s,u,e[r+10],17,-42063),u=v(u,c,l,s,e[r+11],22,-1990404162),s=v(s,u,c,l,e[r+12],7,1804603682),l=v(l,s,u,c,e[r+13],12,-40341101),c=v(c,l,s,u,e[r+14],17,-1502002290),u=v(u,c,l,s,e[r+15],22,1236535329),s=y(s,u,c,l,e[r+1],5,-165796510),l=y(l,s,u,c,e[r+6],9,-1069501632),c=y(c,l,s,u,e[r+11],14,643717713),u=y(u,c,l,s,e[r],20,-373897302),s=y(s,u,c,l,e[r+5],5,-701558691),l=y(l,s,u,c,e[r+10],9,38016083),c=y(c,l,s,u,e[r+15],14,-660478335),u=y(u,c,l,s,e[r+4],20,-405537848),s=y(s,u,c,l,e[r+9],5,568446438),l=y(l,s,u,c,e[r+14],9,-1019803690),c=y(c,l,s,u,e[r+3],14,-187363961),u=y(u,c,l,s,e[r+8],20,1163531501),s=y(s,u,c,l,e[r+13],5,-1444681467),l=y(l,s,u,c,e[r+2],9,-51403784),c=y(c,l,s,u,e[r+7],14,1735328473),u=y(u,c,l,s,e[r+12],20,-1926607734),s=b(s,u,c,l,e[r+5],4,-378558),l=b(l,s,u,c,e[r+8],11,-2022574463),c=b(c,l,s,u,e[r+11],16,1839030562),u=b(u,c,l,s,e[r+14],23,-35309556),s=b(s,u,c,l,e[r+1],4,-1530992060),l=b(l,s,u,c,e[r+4],11,1272893353),c=b(c,l,s,u,e[r+7],16,-155497632),u=b(u,c,l,s,e[r+10],23,-1094730640),s=b(s,u,c,l,e[r+13],4,681279174),l=b(l,s,u,c,e[r],11,-358537222),c=b(c,l,s,u,e[r+3],16,-722521979),u=b(u,c,l,s,e[r+6],23,76029189),s=b(s,u,c,l,e[r+9],4,-640364487),l=b(l,s,u,c,e[r+12],11,-421815835),c=b(c,l,s,u,e[r+15],16,530742520),u=b(u,c,l,s,e[r+2],23,-995338651),s=w(s,u,c,l,e[r],6,-198630844),l=w(l,s,u,c,e[r+7],10,1126891415),c=w(c,l,s,u,e[r+14],15,-1416354905),u=w(u,c,l,s,e[r+5],21,-57434055),s=w(s,u,c,l,e[r+12],6,1700485571),l=w(l,s,u,c,e[r+3],10,-1894986606),c=w(c,l,s,u,e[r+10],15,-1051523),u=w(u,c,l,s,e[r+1],21,-2054922799),s=w(s,u,c,l,e[r+8],6,1873313359),l=w(l,s,u,c,e[r+15],10,-30611744),c=w(c,l,s,u,e[r+6],15,-1560198380),u=w(u,c,l,s,e[r+13],21,1309151649),s=w(s,u,c,l,e[r+4],6,-145523070),l=w(l,s,u,c,e[r+11],10,-1120210379),c=w(c,l,s,u,e[r+2],15,718787259),u=w(u,c,l,s,e[r+9],21,-343485551),s=g(s,n),u=g(u,o),c=g(c,i),l=g(l,a);return[s,u,c,l]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))}));var O=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[n+a]=o[a];return t||l(o)};function I(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function _(e,t){return e<<t|e>>>32-t}var E=h("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var o=0;o<n.length;o++)e[o]=n.charCodeAt(o)}e.push(128);var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a);for(o=0;o<a;o++){s[o]=new Array(16);for(var u=0;u<16;u++)s[o][u]=e[64*o+4*u]<<24|e[64*o+4*u+1]<<16|e[64*o+4*u+2]<<8|e[64*o+4*u+3]}for(s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295,o=0;o<a;o++){for(var c=new Array(80),l=0;l<16;l++)c[l]=s[o][l];for(l=16;l<80;l++)c[l]=_(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var f=r[0],d=r[1],p=r[2],h=r[3],g=r[4];for(l=0;l<80;l++){var m=Math.floor(l/20),v=_(f,5)+I(m,d,p,h)+g+t[m]+c[l]>>>0;g=h,h=p,p=_(d,30)>>>0,d=f,f=v}r[0]=r[0]+f>>>0,r[1]=r[1]+d>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+h>>>0,r[4]=r[4]+g>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return"/"===e.charAt(0)}function i(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}r.r(t),r.d(t,"createBrowserHistory",(function(){return O})),r.d(t,"createHashHistory",(function(){return C})),r.d(t,"createMemoryHistory",(function(){return P})),r.d(t,"createLocation",(function(){return m})),r.d(t,"locationsAreEqual",(function(){return v})),r.d(t,"parsePath",(function(){return h})),r.d(t,"createPath",(function(){return g}));var a=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),u=t&&o(t),c=s||u;if(e&&o(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var l=a[a.length-1];r="."===l||".."===l||""===l}else r=!1;for(var f=0,d=a.length;d>=0;d--){var p=a[d];"."===p?i(a,d):".."===p?(i(a,d),f++):f&&(i(a,d),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&o(a[0])||a.unshift("");var h=a.join("/");return r&&"/"!==h.substr(-1)&&(h+="/"),h};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"==typeof t||"object"==typeof r){var n=s(t),o=s(r);return n!==t||o!==r?e(n,o):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1};var c=function(e,t){if(!e)throw new Error("Invariant failed")};function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function g(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function m(e,t,r,o){var i;"string"==typeof e?(i=h(e)).state=t:(void 0===(i=n({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(i.key=r),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,o){if(null!=e){var i="function"==typeof e?e(t,r):e;"string"==typeof i?"function"==typeof n?n(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}var b=!("undefined"==typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}function S(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),b||c(!1);var t,r=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,u=void 0!==s&&s,f=a.getUserConfirmation,h=void 0===f?w:f,v=a.keyLength,O=void 0===v?6:v,I=e.basename?p(l(e.basename)):"";function _(e){var t=e||{},r=t.key,n=t.state,o=window.location,i=o.pathname+o.search+o.hash;return I&&(i=d(i,I)),m(i,n,r)}function E(){return Math.random().toString(36).substr(2,O)}var T=y();function C(e){n(U,e),U.length=r.length,T.notifyListeners(U.location,U.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(_(e.state))}function P(){D(_(S()))}var x=!1;function D(e){if(x)x=!1,C();else{T.confirmTransitionTo(e,"POP",h,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,r=k.indexOf(t.key);-1===r&&(r=0);var n=k.indexOf(e.key);-1===n&&(n=0);var o=r-n;o&&(x=!0,M(o))}(e)}))}}var j=_(S()),k=[j.key];function R(e){return I+g(e)}function M(e){r.go(e)}var N=0;function L(e){1===(N+=e)&&1===e?(window.addEventListener("popstate",A),i&&window.addEventListener("hashchange",P)):0===N&&(window.removeEventListener("popstate",A),i&&window.removeEventListener("hashchange",P))}var F=!1;var U={length:r.length,action:"POP",location:j,createHref:R,push:function(e,t){var n=m(e,t,E(),U.location);T.confirmTransitionTo(n,"PUSH",h,(function(e){if(e){var t=R(n),i=n.key,a=n.state;if(o)if(r.pushState({key:i,state:a},null,t),u)window.location.href=t;else{var s=k.indexOf(U.location.key),c=k.slice(0,s+1);c.push(n.key),k=c,C({action:"PUSH",location:n})}else window.location.href=t}}))},replace:function(e,t){var n=m(e,t,E(),U.location);T.confirmTransitionTo(n,"REPLACE",h,(function(e){if(e){var t=R(n),i=n.key,a=n.state;if(o)if(r.replaceState({key:i,state:a},null,t),u)window.location.replace(t);else{var s=k.indexOf(U.location.key);-1!==s&&(k[s]=n.key),C({action:"REPLACE",location:n})}else window.location.replace(t)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=T.appendListener(e);return L(1),function(){L(-1),t()}}};return U}var I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function _(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(_(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),b||c(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),o=r.getUserConfirmation,i=void 0===o?w:o,a=r.hashType,s=void 0===a?"slash":a,u=e.basename?p(l(e.basename)):"",f=I[s],h=f.encodePath,v=f.decodePath;function S(){var e=v(E());return u&&(e=d(e,u)),m(e)}var O=y();function C(e){n(U,e),U.length=t.length,O.notifyListeners(U.location,U.action)}var A=!1,P=null;function x(){var e,t,r=E(),n=h(r);if(r!==n)T(n);else{var o=S(),a=U.location;if(!A&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===g(o))return;P=null,function(e){if(A)A=!1,C();else{O.confirmTransitionTo(e,"POP",i,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,r=R.lastIndexOf(g(t));-1===r&&(r=0);var n=R.lastIndexOf(g(e));-1===n&&(n=0);var o=r-n;o&&(A=!0,M(o))}(e)}))}}(o)}}var D=E(),j=h(D);D!==j&&T(j);var k=S(),R=[g(k)];function M(e){t.go(e)}var N=0;function L(e){1===(N+=e)&&1===e?window.addEventListener("hashchange",x):0===N&&window.removeEventListener("hashchange",x)}var F=!1;var U={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=_(window.location.href)),r+"#"+h(u+g(e))},push:function(e,t){var r=m(e,void 0,void 0,U.location);O.confirmTransitionTo(r,"PUSH",i,(function(e){if(e){var t=g(r),n=h(u+t);if(E()!==n){P=t,function(e){window.location.hash=e}(n);var o=R.lastIndexOf(g(U.location)),i=R.slice(0,o+1);i.push(t),R=i,C({action:"PUSH",location:r})}else C()}}))},replace:function(e,t){var r=m(e,void 0,void 0,U.location);O.confirmTransitionTo(r,"REPLACE",i,(function(e){if(e){var t=g(r),n=h(u+t);E()!==n&&(P=t,T(n));var o=R.indexOf(g(U.location));-1!==o&&(R[o]=t),C({action:"REPLACE",location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=O.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=O.appendListener(e);return L(1),function(){L(-1),t()}}};return U}function A(e,t,r){return Math.min(Math.max(e,t),r)}function P(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){n(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function d(){return Math.random().toString(36).substr(2,c)}var p=A(s,0,i.length-1),h=i.map((function(e){return m(e,void 0,"string"==typeof e?d():e.key||d())})),v=g;function b(e){var t=A(w.index+e,0,w.entries.length-1),n=w.entries[t];l.confirmTransitionTo(n,"POP",r,(function(e){e?f({action:"POP",location:n,index:t}):f()}))}var w={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:v,push:function(e,t){var n=m(e,t,d(),w.location);l.confirmTransitionTo(n,"PUSH",r,(function(e){if(e){var t=w.index+1,r=w.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),f({action:"PUSH",location:n,index:t,entries:r})}}))},replace:function(e,t){var n=m(e,t,d(),w.location);l.confirmTransitionTo(n,"REPLACE",r,(function(e){e&&(w.entries[w.index]=n,f({action:"REPLACE",location:n}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}}])}));