define(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-ui/basic/sql-expression-runtime","jimu-ui/advanced/data-source-selector"],(function(e,t,n,s,o){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1183)}({0:function(t,n){t.exports=e},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1184);n(0).ThemeManager.getInstance().registerJimuThemeStyleModule("jimu-ui/advanced/sql-expression-builder/",{componentStyles:s});var o=n(588);t.SqlExpressionBuilder=o.default;var a=n(1195);t.SqlExpressionBuilderPopup=a.default,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1196))},1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1185);t.SqlExpressionBuilder=s.sqlExpressionBuilderStyles;var o=n(1186);t.SqlExpressionClause=o.sqlExpressionClauseStyles;var a=n(1187);t.SqlExpressionClauseSet=a.sqlExpressionClauseSetStyles;var i=n(1188);t.InputEditorTypeSelector=i.inputTypeSelectorStyle;var r=n(1189);t.Sort=r.sortStyle},1185:function(e,t,n){"use strict";var s=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.sqlExpressionBuilderStyles=function(e){return a.css(o||(o=s(["\n    &.use-scroll{\n      height: 100%;\n      .sql-expression-builder{\n          height: 100%;\n          .sql-expression-container{\n            height: 100%;\n            .builder-btn-container{\n              padding-right: 2px;\n            }\n            .sql-expression-list{\n              padding-right: 2px;\n              height: calc(100% - 43px);\n              overflow-y: auto;\n            }\n          }\n      }\n    }\n\n    .sql-expression-builder {\n      padding: 5px;\n      .no-data-tip{\n        text-align: center;\n      }\n\n      .builder-btn-container{\n        display: flex;\n        margin: 0 0 15px 0;\n        .add-button-container{\n          margin-left: auto;\n        }\n      }\n      .add-button-container{\n        display: flex;\n      }\n    }\n    \n    &.small-mode,\n    &.medium-mode{\n      .sql-expression-builder .sql-expression-clause{\n        display: block;\n        .clause-controllers-container{\n          width: 100%;\n          margin-left: 0;\n        }\n\n      }\n    }\n\n    &.small-mode{ /* 350px */\n      .sql-expression-builder{\n        padding: 0;\n        .sql-expression-container{\n          min-width: 300px;\n          overflow-x: auto;\n          .builder-btn-container{\n            margin-bottom: 10px;\n          }\n          .sql-expression-single{\n            padding: 0.25rem 1rem 0.5rem 1rem;\n            margin-bottom: 0.5rem;\n            .clause-main-container{\n              display: block !important;\n\n              .clause-field-and-operator{\n                margin: 0.5rem 0 !important;\n                justify-content: space-between;\n                .clause-field-container, .clause-operator-container{\n                  margin: 0;\n                  width: calc(50% - 0.25rem);\n                }\n              }\n              .clause-style-container{\n                width: 100%;\n                margin: 0.5rem 0 !important;\n              }\n            }\n          }\n          .sql-expression-set{\n            .btn-container{\n              padding: 0.5rem 1rem 0.5rem 1rem;\n            }\n            .sql-expression-single{\n              margin-bottom: 0;\n            }\n          }\n          .add-button-container{\n            align-content: space-between;\n            .jimu-btn{\n              width: calc(50% - 7px);\n            }\n          } \n        }\n      }\n    }\n    &.medium-mode{ /* 350px - 614px */\n      .sql-expression-builder{\n        .clause-field-container,\n        .clause-operator-container{\n          width: 123px;\n        }\n        .clause-style-container{\n        }\n      }\n    }\n    &.large-mode{ /* 915px */\n      .sql-expression-builder{\n        .clause-field-container,\n        .clause-operator-container{\n          width: 150px;\n        }\n        .clause-style-container{\n          width: 380px;\n        }\n      }\n    }\n\n  "],["\n    &.use-scroll{\n      height: 100%;\n      .sql-expression-builder{\n          height: 100%;\n          .sql-expression-container{\n            height: 100%;\n            .builder-btn-container{\n              padding-right: 2px;\n            }\n            .sql-expression-list{\n              padding-right: 2px;\n              height: calc(100% - 43px);\n              overflow-y: auto;\n            }\n          }\n      }\n    }\n\n    .sql-expression-builder {\n      padding: 5px;\n      .no-data-tip{\n        text-align: center;\n      }\n\n      .builder-btn-container{\n        display: flex;\n        margin: 0 0 15px 0;\n        .add-button-container{\n          margin-left: auto;\n        }\n      }\n      .add-button-container{\n        display: flex;\n      }\n    }\n    \n    &.small-mode,\n    &.medium-mode{\n      .sql-expression-builder .sql-expression-clause{\n        display: block;\n        .clause-controllers-container{\n          width: 100%;\n          margin-left: 0;\n        }\n\n      }\n    }\n\n    &.small-mode{ /* 350px */\n      .sql-expression-builder{\n        padding: 0;\n        .sql-expression-container{\n          min-width: 300px;\n          overflow-x: auto;\n          .builder-btn-container{\n            margin-bottom: 10px;\n          }\n          .sql-expression-single{\n            padding: 0.25rem 1rem 0.5rem 1rem;\n            margin-bottom: 0.5rem;\n            .clause-main-container{\n              display: block !important;\n\n              .clause-field-and-operator{\n                margin: 0.5rem 0 !important;\n                justify-content: space-between;\n                .clause-field-container, .clause-operator-container{\n                  margin: 0;\n                  width: calc(50% - 0.25rem);\n                }\n              }\n              .clause-style-container{\n                width: 100%;\n                margin: 0.5rem 0 !important;\n              }\n            }\n          }\n          .sql-expression-set{\n            .btn-container{\n              padding: 0.5rem 1rem 0.5rem 1rem;\n            }\n            .sql-expression-single{\n              margin-bottom: 0;\n            }\n          }\n          .add-button-container{\n            align-content: space-between;\n            .jimu-btn{\n              width: calc(50% - 7px);\n            }\n          } \n        }\n      }\n    }\n    &.medium-mode{ /* 350px - 614px */\n      .sql-expression-builder{\n        .clause-field-container,\n        .clause-operator-container{\n          width: 123px;\n        }\n        .clause-style-container{\n        }\n      }\n    }\n    &.large-mode{ /* 915px */\n      .sql-expression-builder{\n        .clause-field-container,\n        .clause-operator-container{\n          width: 150px;\n        }\n        .clause-style-container{\n          width: 380px;\n        }\n      }\n    }\n\n  "])))}},1186:function(e,t,n){"use strict";var s=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.sqlExpressionClauseStyles=function(e){var t=e.theme;return a.css(o||(o=s(["\n    .sql-expression-single {\n      background-color: ",";\n      padding: 13px 5px;\n      margin-bottom: 0.5rem;\n\n      .sql-expression-clause{\n        display: flex;\n\n        .clause-main-container{\n          display: flex;\n          .clause-field-and-operator{\n            display: flex;\n            .clause-field-container,\n            .clause-operator-container{\n              margin: 0 4px;\n            }\n          }\n\n          .clause-style-container{\n            display: flex;\n            flex-grow: 1;\n            margin: 0 4px;\n            .source-type-selector{\n              margin-right: 8px;\n              .jimu-btn{\n                border: none;\n              }\n            }\n          }\n        }\n  \n        .clause-controllers-container{\n          width: 150px;\n          margin-left: 12px;\n          margin-right: 1px;\n          display: flex;\n          justify-content: flex-end;\n  \n          .case-sensitive-btn, .more-input-setting-btn, .duplicate-btn, .delete-btn{\n            margin: 0 2px;\n            .jimu-badge{\n              border-color: ",";\n            }\n          }\n  \n          .case-sensitive-btn.disabled, .case-sensitive-btn.disabled:hover, .case-sensitive-btn:disabled:hover{\n            background: ",";\n            background-color: ",";\n            border: none;\n          }\n          .case-sensitive-btn:disabled .jimu-icon, .more-input-setting-btn:disabled .jimu-icon{\n            opacity: 0.5;\n          }\n  \n          /*temp for beta2*/\n          .more-input-setting-btn-active,\n          .dropdown-active {\n            background-color: "," !important;\n            color: "," !important;\n          }\n        }\n      }\n  \n      .ask-for-value-container{\n        margin-top: 1.5rem;\n        margin-left: 8px;\n        .ask-for-value-radio{\n          display: flex;\n          margin: 10px 0;\n        }\n        .ask-for-value-options{\n          margin-left: 20px;\n          .ask-for-value-item{\n            .ask-for-value-item-label{\n              color: ",";\n              margin-bottom: 3px;\n            }\n          }\n          .ask-for-value-middle-item{\n            margin: 0 0.1rem;\n          }\n        }\n      }\n    }\n  "],["\n    .sql-expression-single {\n      background-color: ",";\n      padding: 13px 5px;\n      margin-bottom: 0.5rem;\n\n      .sql-expression-clause{\n        display: flex;\n\n        .clause-main-container{\n          display: flex;\n          .clause-field-and-operator{\n            display: flex;\n            .clause-field-container,\n            .clause-operator-container{\n              margin: 0 4px;\n            }\n          }\n\n          .clause-style-container{\n            display: flex;\n            flex-grow: 1;\n            margin: 0 4px;\n            .source-type-selector{\n              margin-right: 8px;\n              .jimu-btn{\n                border: none;\n              }\n            }\n          }\n        }\n  \n        .clause-controllers-container{\n          width: 150px;\n          margin-left: 12px;\n          margin-right: 1px;\n          display: flex;\n          justify-content: flex-end;\n  \n          .case-sensitive-btn, .more-input-setting-btn, .duplicate-btn, .delete-btn{\n            margin: 0 2px;\n            .jimu-badge{\n              border-color: ",";\n            }\n          }\n  \n          .case-sensitive-btn.disabled, .case-sensitive-btn.disabled:hover, .case-sensitive-btn:disabled:hover{\n            background: ",";\n            background-color: ",";\n            border: none;\n          }\n          .case-sensitive-btn:disabled .jimu-icon, .more-input-setting-btn:disabled .jimu-icon{\n            opacity: 0.5;\n          }\n  \n          /*temp for beta2*/\n          .more-input-setting-btn-active,\n          .dropdown-active {\n            background-color: "," !important;\n            color: "," !important;\n          }\n        }\n      }\n  \n      .ask-for-value-container{\n        margin-top: 1.5rem;\n        margin-left: 8px;\n        .ask-for-value-radio{\n          display: flex;\n          margin: 10px 0;\n        }\n        .ask-for-value-options{\n          margin-left: 20px;\n          .ask-for-value-item{\n            .ask-for-value-item-label{\n              color: ",";\n              margin-bottom: 3px;\n            }\n          }\n          .ask-for-value-middle-item{\n            margin: 0 0.1rem;\n          }\n        }\n      }\n    }\n  "])),t.colors.palette.light[400],t.colors.black,t.colors.secondary,t.colors.palette.light[400],t.colors.primary,t.colors.black,t.colors.palette.dark[400])}},1187:function(e,t,n){"use strict";var s=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.sqlExpressionClauseSetStyles=function(e){var t=e.theme;return a.css(o||(o=s(["\n    .sql-expression-set {\n      margin-bottom: 0.5rem;\n      background-color: ",";\n\n      .btn-container{\n        .jimu-btn{\n          font-size: 12px;\n        }\n        display: flex;\n        padding: 11px 5px 11px 10px;\n\n        .and-or-container{\n          margin: 0;\n        }\n        .add-button-container{\n          margin-left: auto;\n          margin-right: 0.125rem;\n        }\n      }\n\n      .sql-expression-single{\n        margin: 0;\n        border-top: 2px solid ",";\n        border-bottom: 2px solid ",";\n      }\n      .sql-expression-single:last-child{\n        border-bottom: none;\n      }\n\n    }\n\n  "],["\n    .sql-expression-set {\n      margin-bottom: 0.5rem;\n      background-color: ",";\n\n      .btn-container{\n        .jimu-btn{\n          font-size: 12px;\n        }\n        display: flex;\n        padding: 11px 5px 11px 10px;\n\n        .and-or-container{\n          margin: 0;\n        }\n        .add-button-container{\n          margin-left: auto;\n          margin-right: 0.125rem;\n        }\n      }\n\n      .sql-expression-single{\n        margin: 0;\n        border-top: 2px solid ",";\n        border-bottom: 2px solid ",";\n      }\n      .sql-expression-single:last-child{\n        border-bottom: none;\n      }\n\n    }\n\n  "])),t.colors.palette.light[400],t.colors.palette.light[300],t.colors.palette.light[300])}},1188:function(e,t,n){"use strict";var s=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.inputTypeSelectorStyle=function(e){var t=e.theme;return a.css(o||(o=s(["\n    .style-button{\n    }\n    .style-warning{\n      color: ",";\n    }\n    .style-popper{\n      .style-popper-content{\n        width: 180px;\n        display: flex;\n        flex-wrap: wrap;\n        padding: 10px;\n        max-height: 300px;\n        height: auto;\n        overflow: auto;\n\n        .style-item{\n          display: flex;\n          flex-direction: column;\n          margin: 6px;\n\n          .style-item-img{\n            /* &:hover, */\n            background-color: ",";\n            &.active{\n              outline: 2px solid ",";\n            }\n            cursor: pointer;\n          }\n        }\n      }\n\n\n    }\n  "],["\n    .style-button{\n    }\n    .style-warning{\n      color: ",";\n    }\n    .style-popper{\n      .style-popper-content{\n        width: 180px;\n        display: flex;\n        flex-wrap: wrap;\n        padding: 10px;\n        max-height: 300px;\n        height: auto;\n        overflow: auto;\n\n        .style-item{\n          display: flex;\n          flex-direction: column;\n          margin: 6px;\n\n          .style-item-img{\n            /* &:hover, */\n            background-color: ",";\n            &.active{\n              outline: 2px solid ",";\n            }\n            cursor: pointer;\n          }\n        }\n      }\n\n\n    }\n  "])),t.colors.palette.warning[500],t.colors.palette.light[200],t.colors.palette.primary[500])}},1189:function(e,t,n){"use strict";var s=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);t.sortStyle=function(e){var t=e.theme,n=t.colors;return a.css(o||(o=s(["\n    width:100%;\n    .sort-title {\n        margin-bottom: 20px;\n        color: ",";\n        font-size: 16px;\n    }\n    .delete-all-button {\n        cursor: pointer;\n    }\n    .multi-sort-list-con {\n        margin-bottom: 10px;\n        background:",";\n        padding:10px;\n        box-shadow: 0 0 0 2px ",";\n    }\n    .multi-sort-select-con {\n        & {\n            display: flex;\n            align-items: center;\n        }\n        .sort-field-selector {\n            background:",";\n            border-radius: 2px;\n            width: 61%;\n        }\n\n        .delete-button {\n            flex:1;\n            cursor: pointer;\n            text-align:right;\n        }\n        .delete-button svg {\n            margin-right:0;\n        }\n    }\n    .delete-sort-con {\n        & {\n            margin-left:5px;\n        }\n        .sort-button-l {\n            border-radius: 2px 0 0 2px;\n            border-right:none;\n        }\n        .sort-button-r {\n            border-radius: 0px 2px 2px 0px;\n            border-left:none;\n        }\n        .sort-button {\n            border-color: ",";\n        }\n        svg {\n            margin-right:0;\n        }\n    }\n    .add-option .add-option-button{\n        & {\n            width:100%;\n            font-size:14px;\n            display: block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        svg {\n            margin-right:0;\n            margin-right:5px;\n        }\n    }\n    .no-sort-remind {\n        margin: 70px auto 0;\n        color: ",";\n        font-size: 13px;\n        text-align: center;\n    }\n  "],["\n    width:100%;\n    .sort-title {\n        margin-bottom: 20px;\n        color: ",";\n        font-size: 16px;\n    }\n    .delete-all-button {\n        cursor: pointer;\n    }\n    .multi-sort-list-con {\n        margin-bottom: 10px;\n        background:",";\n        padding:10px;\n        box-shadow: 0 0 0 2px ",";\n    }\n    .multi-sort-select-con {\n        & {\n            display: flex;\n            align-items: center;\n        }\n        .sort-field-selector {\n            background:",";\n            border-radius: 2px;\n            width: 61%;\n        }\n\n        .delete-button {\n            flex:1;\n            cursor: pointer;\n            text-align:right;\n        }\n        .delete-button svg {\n            margin-right:0;\n        }\n    }\n    .delete-sort-con {\n        & {\n            margin-left:5px;\n        }\n        .sort-button-l {\n            border-radius: 2px 0 0 2px;\n            border-right:none;\n        }\n        .sort-button-r {\n            border-radius: 0px 2px 2px 0px;\n            border-left:none;\n        }\n        .sort-button {\n            border-color: ",";\n        }\n        svg {\n            margin-right:0;\n        }\n    }\n    .add-option .add-option-button{\n        & {\n            width:100%;\n            font-size:14px;\n            display: block;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        svg {\n            margin-right:0;\n            margin-right:5px;\n        }\n    }\n    .no-sort-remind {\n        margin: 70px auto 0;\n        color: ",";\n        font-size: 13px;\n        text-align: center;\n    }\n  "])),n.black,n.palette.light[500],a.polished.rgba(n.white,.3),n.palette.secondary[200],t.border.color,n.palette.light[800])}},1190:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(130),l=function(e){function t(t){var n=e.call(this,t)||this;return n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:i.defaultMessages[e]})},n.onChange=function(e){n.props&&n.props.onChange(e.target.value)},n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.list?this.props.list:this.props.value?[this.props.value]:[];return a.React.createElement(i.Select,{value:this.props.value||"",onChange:this.onChange,size:"sm"},t.map((function(t,n){var s=e.i18nMessage(r.getCamelCase(t));return a.React.createElement("option",{key:n,value:t,label:s},s)})))},t}(a.React.PureComponent);t._OperatorSelector=l,t.OperatorSelector=a.injectIntl(l)},1191:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(130),l=n(423),p=function(e){function t(t){var n=e.call(this,t)||this;return n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:i.defaultMessages[e]})},n.onTypeSelect=function(e){e!==n.props.sourceType&&n.props.onSelect(e)},n.toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.state={isOpen:!1},n}return o(t,e),t.prototype.render=function(){var e=this;return a.jsx("div",{className:"source-type-selector"},a.jsx(i.Dropdown,{activeIcon:!0},a.jsx(i.DropdownButton,{arrow:!1,icon:!0,size:"sm",type:"primary",title:this.i18nMessage("sourceType"),onClick:this.toggle,"data-toggle":"dropdown"},a.jsx(i.Icon,{icon:l,className:"text-dark dropdown-icon",size:16})),a.jsx(i.DropdownMenu,{showArrow:!0},a.jsx(i.DropdownItem,{header:!0},this.i18nMessage("sourceType")),this.props.list&&Object.keys(this.props.list).map((function(t,n){return a.jsx(i.DropdownItem,{key:n,onClick:function(){e.onTypeSelect(t)},active:e.props.sourceType===t},e.i18nMessage(r.getCamelCase(t)))})))))},t}(a.React.PureComponent);t._SourceTypeSelector=p;var u=a.injectIntl(p);t.default=u},1192:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(130),l=n(246),p=[{name:"flip",enabled:!0}],u=function(e){function t(t){var n=e.call(this,t)||this;return n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:i.defaultMessages[e]})},n.onTypeSelect=function(e,t){if(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t!==n.props.inputEditorType)if([r.ClauseInputEditor.UniquePillWrapSelector,r.ClauseInputEditor.MultiplePillWrapSelector].indexOf(t)>=0)if(n.props.codedValues)n.changeValueOptionByInputType(t,n.props.codedValues.length);else{var s={where:"(1=1)",returnGeometry:!1,outFields:n.props.fieldName,returnDistinctValues:!0};n.props.dataSource.loadCount(s,{scope:a.QueryScope.InConfigView,widgetId:"check_count"}).then((function(){n.changeValueOptionByInputType(t,n.props.dataSource.count)}))}else n.changeValueOptionByInputType(t);else n.setState({isWarningShown:!1})},n.changeValueOptionByInputType=function(e,t){t&&t>20?n.setState({isWarningShown:!0}):(n.props.onSelect(e),n.toggle())},n.toggle=function(){n.setState({isWarningShown:!1,isOpen:!n.state.isOpen})},n.state={isOpen:!1,isWarningShown:!1},n}return o(t,e),t.prototype.render=function(){var e=this;return a.jsx("div",{className:a.classNames("d-flex style-type-selector align-items-center",this.props.className)},a.jsx("div",{className:"style-button",ref:function(t){return e.styleBtnRef=t}},a.jsx(i.Button,{size:"sm",className:"pl-3 pr-3 text-nowrap",type:"primary",onClick:this.toggle},this.i18nMessage("chooseStyle"))),this.state.isWarningShown&&a.jsx("div",{className:"style-warning ml-2"},a.jsx(i.Icon,{icon:l,size:14,className:"mr-2"}),this.i18nMessage("invalidStyleWarnning")),a.jsx(i.Popper,{reference:this.styleBtnRef,open:this.state.isOpen,toggle:this.toggle,showArrow:!0,className:this.props.className,modifiers:p},a.jsx("div",{className:"style-popper"},a.jsx("div",{className:"style-popper-content"},this.props.list.map((function(t,s){return a.jsx("div",{className:"style-item",key:s},a.jsx(i.Tooltip,{title:e.i18nMessage(r.getCamelCase(t)),placement:"bottom"},a.jsx("div",{onClick:function(n){return e.onTypeSelect(n,t)},className:a.classNames("style-item-img",{active:e.props.inputEditorType===t})},a.jsx(i.Icon,{className:"thumbnail",width:68,height:48,options:{currentColor:!1},icon:n(1193)("./style_"+t.toLowerCase()+".svg")}))),a.jsx("div",{className:"style-item-text"}))}))))))},t}(a.React.PureComponent);t._InputEditorTypeSelector=u;var c=a.themeUtils.withStyles(a.injectIntl(u),"InputEditorTypeSelector");t.default=c},1193:function(e,t,n){var s={"./style_date_picker.svg":424,"./style_date_time_picker.svg":425,"./style_double_date_picker.svg":426,"./style_double_date_time_picker.svg":427,"./style_icon.svg":428,"./style_multiple_pill_wrap_selector.svg":429,"./style_multiple_select.svg":430,"./style_simple_select.svg":431,"./style_unique_pill_wrap_selector.svg":432};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=a,e.exports=o,o.id=1193},1194:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(589),l=n(130),p=n(39),u=n(190),c=n(247),d=n(38),h=function(e){function t(t){var n=e.call(this,t)||this;return n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:Object.assign({},i.defaultMessages,p.defaultMessages)[e]})},n.addClause=function(e){e=e||l.getDefaultSingleClause(),n.onChange({parts:n.props.clauseSet.parts.concat(e)})},n.duplicateClauseSet=function(){n.props&&n.props.onChange(n.props.clauseSet,null)},n.deleteClauseSet=function(){n.props.onChange&&n.props.onChange(null,n.props.id)},n.changeAndOR=function(e){n.onChange({logicalOperator:e})},n.onClauseChange=function(e,t){if(null!==t){var s=n.props.clauseSet.parts,o={};null===e&&2===s.length&&(o.logicalOperator=a.ClauseLogic.And),2===s.length&&2===s.filter((function(e){return""===e.jimuFieldName})).length?(o.parts=l.getClauseArrayByChange(s,e,"clause_set_clause_0"),o.parts=l.getClauseArrayByChange(o.parts,e,"clause_set_clause_1")):o.parts=l.getClauseArrayByChange(s,e,t),n.onChange(o)}else n.addClause(e)},n.onChange=function(e){var t=Object.assign({},n.props.clauseSet,e);n.props.onChange&&n.props.onChange(t,n.props.id)},n.LogicalOperator=null,n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.clauseSet,n=t.logicalOperator,s=t.parts||a.Immutable([]);return a.jsx("div",{className:this.props.className?this.props.className:""},0===s.length?null:a.jsx("div",{className:"sql-expression-set"},a.jsx("div",{className:"btn-container"},s.length<2?null:a.jsx(i.ButtonGroup,{className:"and-or-container"},a.jsx(i.Button,{onClick:function(){e.changeAndOR(a.ClauseLogic.And)},size:"sm",type:n===a.ClauseLogic.And?"primary":"secondary"},this.i18nMessage("and")),a.jsx(i.Button,{onClick:function(){e.changeAndOR(a.ClauseLogic.Or)},className:"ml-0",size:"sm",type:n===a.ClauseLogic.Or?"primary":"secondary"},this.i18nMessage("or"))),a.jsx("div",{className:"add-button-container"},a.jsx(i.Button,{type:"tertiary",onClick:function(t){return e.addClause()},className:"mr-1",icon:!0,size:"sm",title:this.i18nMessage("addClause")},a.jsx(i.Icon,{icon:u,size:12})),a.jsx(i.Button,{type:"tertiary",onClick:function(t){return e.duplicateClauseSet()},className:"mr-1",icon:!0,size:"sm",title:this.i18nMessage("duplicate")},a.jsx(i.Icon,{icon:c,size:12})),a.jsx(i.Button,{type:"tertiary",onClick:this.deleteClauseSet,icon:!0,size:"sm",title:this.i18nMessage("deleteClauseSet")},a.jsx(i.Icon,{icon:d,size:12})))),s.map((function(t,n){return a.jsx(r.default,{key:n.toString(),id:"clause_set_clause_"+n,clause:t,isHosted:e.props.isHosted,mode:e.props.mode,sizeMode:e.props.sizeMode,dataSource:e.props.dataSource,onChange:e.onClauseChange})}))))},t}(a.React.PureComponent);t._SqlExprClauseSet=h;var f=a.themeUtils.withStyles(a.injectIntl(h),"SqlExpressionClauseSet");t.default=f},1195:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),l=n(3),p=n(588),u=n(130),c=n(246),d=function(e){function t(t){var n=e.call(this,t)||this;return n.externalDsStyle={maxWidth:"960px"},n.handleToggle=function(e){if(!0===e||!1===e){e=void 0!==e&&e,n.setState({isOpen:!1});var t=n.props,s=t.toggle;void 0!==t.isOpen&&s&&s(e)}},n.handleOkBtn=function(){u.isSqlExpressionValid(n.state.expression)?(n.handleToggle(!0),n.props.onChange&&n.props.onChange(n.state.expression)):n.setState({isValid:!1})},n.handleCancelBtn=function(){n.setState({isValid:!0,expression:n.props.expression}),n.handleToggle(!1)},n.i18nMessage=function(e){var t=n.props.intl;return t?t.formatMessage({id:e,defaultMessage:l.defaultMessages[e]}):""},n.onChange=function(e){n.setState({isValid:!0,expression:e})},n.state={isValid:!0,isOpen:!!t.isOpen,expression:n.props.expression},n}return o(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.expression!==e.expression&&this.setState({expression:this.props.expression})},t.prototype.render=function(){var e=this,t=this.props.isOpen;t=void 0===t?this.state.isOpen:t;var n=this.props,s=(n.expression,i(n,["expression"]));return r.jsx("div",null,r.jsx(l.Modal,{backdrop:"static",centered:!0,isOpen:t,toggle:function(){return e.handleToggle(void 0)},className:"sql-expression-builder-modal",contentClassName:"border-0 h-100",style:this.externalDsStyle,returnfocusafterclose:"true",size:"lg"},r.jsx(l.ModalHeader,{tag:"h4",toggle:this.handleCancelBtn},this.i18nMessage("builderName")),r.jsx(l.ModalBody,null,r.jsx("div",null,r.jsx(p.default,a({},s,{expression:this.state.expression,noScrollForList:!0,onChange:this.onChange})))),r.jsx(l.ModalFooter,null,r.jsx("div",{className:"m-0 w-100 d-block"},!this.state.isValid&&r.jsx("div",{style:{color:this.props.theme.colors.palette.danger[700],fontSize:this.props.theme.sizes[3],marginTop:"-32px",marginBottom:"8px"}},r.jsx(l.Icon,{icon:c,size:18,color:this.props.theme.colors.palette.danger[700],className:"mr-2"}),this.i18nMessage("sqlExprIncomplete")),r.jsx("div",{className:"d-flex"},r.jsx(l.Button,{type:"primary",onClick:this.handleOkBtn,className:"ml-auto mr-2",style:{minWidth:"64px"}},this.props.intl.formatMessage({id:"ok",defaultMessage:r.defaultMessages.ok})),r.jsx(l.Button,{type:"secondary",onClick:this.handleCancelBtn,style:{minWidth:"64px"}},this.props.intl.formatMessage({id:"cancel",defaultMessage:r.defaultMessages.cancel})))))))},t}(r.React.PureComponent);t.SqlExpressionBuilderPopup=r.themeUtils.withTheme(r.injectIntl(d)),t.default=t.SqlExpressionBuilderPopup},1196:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(243),l=function(e){function t(t){var s=e.call(this,t)||this;return s.onOptionChange=function(e,t,n){var o=s.deepClone(s.props.value);o[e][t]=n,s.props.onSortButtonClick?s.props.onSortButtonClick(o,e):s.props.onChange(o,e)},s.onSelectChange=function(e,t){var n=e[0];if(n){var o=s.deepClone(s.props.value),a=n.name;o[t].jimuFieldName=a,s.props.onSelect?s.props.onSelect(o,t):s.props.onChange(o,t)}},s.addOption=function(){var e=Array.isArray(s.props.value),t=s.deepClone(s.state.option),n=e?s.deepClone(s.props.value):[];n.push(t),s.props.onAddOption?s.props.onAddOption(n):s.props.onChange(n)},s.delecteOption=function(e){var t=s.deepClone(s.props.value);t.splice(e,1),s.props.onDelete?s.props.onDelete(t):s.props.onChange(t)},s.deepClone=function(e){var t=Array.isArray(e)?[]:{};for(var n in e){var o=("object"==typeof e[n]||"function"==typeof e[n])&&null!==e[n];t[n]=o?s.deepClone(e[n]):e[n]}return t},s.createOptionElement=function(e,t,o){var l=s.props.value[o].jimuFieldName?a.Immutable([s.props.value[o].jimuFieldName]):a.Immutable([]);return a.jsx("div",{className:"multi-sort-list-con",key:o},a.jsx("div",{className:"multi-sort-select-con"},s.props.useDataSource&&a.jsx("div",{className:"sort-field-selector"},a.jsx(r.FieldSelector,{useDataSources:e,onChange:function(e,t){s.onSelectChange(e,o)},selectedFields:l,isSearchInputHidden:!0,isDataSourceDropDownHidden:!0,useDropdown:!0})),a.jsx("div",{className:"delete-sort-con"},a.jsx(i.Button,{className:"sort-button sort-button-l",type:t.order==a.OrderRule.Asc?"primary":"secondary",title:s.nls("ascending"),onClick:function(){s.onOptionChange(o,"order",a.OrderRule.Asc)}},a.jsx(i.Icon,{size:"12",icon:n(128),className:"sort-arrow-down-icon"})),a.jsx(i.Button,{className:"sort-button sort-button-r",type:t.order==a.OrderRule.Desc?"primary":"secondary",title:s.nls("decending"),onClick:function(){s.onOptionChange(o,"order",a.OrderRule.Desc)}},a.jsx(i.Icon,{size:"12",icon:n(129),className:"sort-arrow-down-icon"}))),a.jsx("div",{className:"delete-button",title:s.nls("deleteOption"),onClick:function(){s.delecteOption(o)}},a.jsx(i.Icon,{size:"12",icon:n(37),className:"sort-arrow-down-icon"}))))},s.nls=function(e){return s.props.intl?s.props.intl.formatMessage({id:e,defaultMessage:i.defaultMessages[e]}):e},s.onDataSourceCreated=function(e){},s.state={option:{jimuFieldName:"",order:a.OrderRule.Asc}},s}return o(t,e),t.prototype.render=function(){var e,t=this,s=this.props.value,o=this.props.intl.formatMessage({id:"invalidExpression",defaultMessage:i.defaultMessages.invalidExpression});return a.jsx("div",{className:a.classNames("multi-sort",(e={},e[this.props.className]=!!this.props.className,e))},a.jsx(a.DataSourceComponent,{useDataSource:this.props.useDataSource,onDataSourceCreated:this.onDataSourceCreated},(function(e){return Array.isArray(t.props.value)?s.asMutable().map((function(e,n){var s;return t.createOptionElement(a.Immutable([null===(s=t.props.useDataSource)||void 0===s?void 0:s.asMutable({deep:!0})]),e,n)})):o})),a.jsx("div",{className:"add-option"},a.jsx(i.Button,{className:"add-option-button",onClick:this.addOption,title:this.props.intl.formatMessage({id:"addSortBtntext",defaultMessage:i.defaultMessages.addSortBtntext})},a.jsx(i.Icon,{size:"12",icon:n(190),className:"sort-arrow-down-icon"}),this.props.intl.formatMessage({id:"addSortBtntext",defaultMessage:i.defaultMessages.addSortBtntext}))),Array.isArray(s)&&0==s.length&&a.jsx("div",{className:"no-sort-remind"},a.jsx("div",null,this.props.intl.formatMessage({id:"noSortRemindText",defaultMessage:i.defaultMessages.noSortRemindText})),a.jsx("div",null,this.props.intl.formatMessage({id:"pleaceAddOne",defaultMessage:i.defaultMessages.pleaceAddOne}))))},t}(a.React.PureComponent);t.Sort=a.themeUtils.withStyles(a.injectIntl(l),"Sort")},128:function(e,t){e.exports='<svg viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 8h-1V1.9L.7 4.7 0 4l4-4 4 4-.7.7-2.8-2.8z" fill-rule="evenodd"></path></svg>'},129:function(e,t){e.exports='<svg viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 0v6.1l2.8-2.8.7.7-4 4-4-4 .7-.7 2.8 2.8V0z" fill-rule="evenodd"></path></svg>'},130:function(e,t){e.exports=s},182:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M7.185 0c.105 0 .195.118.232.24l.013.062.245 1.567c.294.145.588.29.85.465l.19.138 1.53-.603c.154-.05.264-.016.332.031l.036.03 1.224 2.11c.051.1.06.201-.01.302l-.05.06-1.286 1.025c.061.181.061.362.061.603 0 .181-.034.328-.052.467l-.01.136 1.409.965c.105.052.12.192.083.307l-.022.055-1.224 2.11c-.053.104-.195.163-.312.14l-.056-.019-1.53-.603a4.796 4.796 0 01-.82.494l-.22.109-.245 1.568c0 .103-.135.207-.25.234L7.246 12H4.798c-.157 0-.27-.089-.298-.19l-.253-1.619c-.293-.145-.587-.29-.85-.465l-.19-.138-1.53.603c-.153.05-.264.017-.332-.03l-.036-.03L.085 8.02c-.05-.101-.06-.202.01-.302l.051-.06 1.286-1.026c-.061-.18-.061-.362-.061-.603 0-.18.034-.328.051-.466l.01-.137-1.286-.965c-.104-.103-.164-.25-.14-.329L1.247 1.99c.102-.1.204-.16.342-.141l.087.02 1.469.603.419-.281c.135-.09.268-.17.407-.236l.214-.086.245-1.628c0-.103.135-.207.25-.234L4.738 0h2.448zm-.658 1h-1.2l-.243 1.627-.586.192a1.42 1.42 0 00-.3.154l-.503.335-.441.29-1.439-.593-.59 1.017 1.207.905v.5c0 .088-.003.147-.013.228l-.044.31a.577.577 0 00-.004.065l.005.26.005.027.223.66L1.258 8.05l.581 1.001 1.536-.604.45.356c.162.126.334.226.712.416l.618.304.23 1.476h1.274l.23-1.476.751-.371c.206-.106.342-.182.453-.258l.126-.091.451-.356 1.506.595.587-1.01-1.272-.872v-.607l.009-.117.048-.341.003-.035v-.18l-.003-.098-.004-.034-.225-.665 1.345-1.073-.581-1.002-1.535.605-.451-.355-.126-.092a5.312 5.312 0 00-.59-.326l-.614-.303L6.527 1zM6 3.75a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5zm0 1a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" fill="#000" fill-rule="nonzero"></path></svg>'},190:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a.75.75 0 01.75.75v6.5h6.5a.75.75 0 110 1.5h-6.5v6.5a.75.75 0 11-1.5 0v-6.5H.75a.75.75 0 110-1.5h6.5V.75A.75.75 0 018 0z" fill="#000" fill-rule="evenodd"></path></svg>'},243:function(e,t){e.exports=o},246:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 32"><path d="M16.492 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 21.333a2 2 0 11.001 3.999 2 2 0 01-.001-3.999zm0-2.666a2 2 0 01-2-2v-8a2 2 0 114 0v8a2 2 0 01-2 2z"></path></svg>'},247:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M.5 9a.5.5 0 01-.5-.5V1a1 1 0 011-1h6.5a.5.5 0 010 1H1v7.5a.5.5 0 01-.5.5zM3 3v8h8V3H3zm0-1h8a1 1 0 011 1v8a1 1 0 01-1 1H3a1 1 0 01-1-1V3a1 1 0 011-1z" fill="#000" fill-rule="nonzero"></path></svg>'},3:function(e,n){e.exports=t},37:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},38:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z" fill="#000" fill-rule="nonzero"></path></svg>'},39:function(e,t){e.exports=n},423:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M16 9v6H0V9h16zm-1 1H1v4h14v-4zM4 11v2H2v-2h2zM16 1v6H0V1h16zm-1 1H1v4h14V2zM4 3v2H2V3h2z" fill="#FFF" fill-rule="evenodd"></path></svg>'},424:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M5.5 14A1.5 1.5 0 004 15.5v27A1.5 1.5 0 005.5 44h57a1.5 1.5 0 001.5-1.5v-27l-.007-.144A1.5 1.5 0 0062.5 14h-57zm57 1a.5.5 0 01.5.5v27a.5.5 0 01-.5.5h-57a.5.5 0 01-.5-.5v-27a.5.5 0 01.5-.5h57z" fill="#363636"></path><path fill="#363636" d="M8 18h4v4H8zM38 18h4v4h-4zM33 18h1v22h-1zM14 18h4v4h-4zM44 18h4v4h-4zM20 18h4v4h-4zM50 18h4v4h-4zM26 18h4v4h-4zM56 18h4v4h-4zM8 30h4v4H8zM38 30h4v4h-4zM14 30h4v4h-4zM44 30h4v4h-4zM50 30h4v4h-4zM20 30h4v4h-4zM26 30h4v4h-4zM56 30h4v4h-4zM8 36h4v4H8zM38 36h4v4h-4zM14 36h4v4h-4zM44 36h4v4h-4zM20 36h4v4h-4zM8 24h4v4H8zM38 24h4v4h-4z"></path><path fill="#6A6A6A" d="M14 24h4v4h-4z"></path><path fill="#363636" d="M44 24h4v4h-4zM20 24h4v4h-4zM50 24h4v4h-4zM26 24h4v4h-4zM56 24h4v4h-4z"></path><rect fill="#6A6A6A" x="4" y="4" width="60" height="8" rx="1"></rect></g></svg>'},425:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M5.5 14A1.5 1.5 0 004 15.5v27A1.5 1.5 0 005.5 44h57a1.5 1.5 0 001.5-1.5v-27l-.007-.144A1.5 1.5 0 0062.5 14h-57zm57 1a.5.5 0 01.5.5v27a.5.5 0 01-.5.5h-57a.5.5 0 01-.5-.5v-27a.5.5 0 01.5-.5h57z" fill="#363636"></path><path fill="#363636" d="M8 18h4v4H8zM38 18h4v4h-4zM33 18h1v22h-1zM14 18h4v4h-4zM44 18h4v4h-4zM20 18h4v4h-4zM50 18h4v4h-4zM26 18h4v4h-4zM56 18h4v4h-4zM8 30h4v4H8zM38 30h4v4h-4zM14 30h4v4h-4zM20 30h4v4h-4zM26 30h4v4h-4zM8 36h4v4H8zM38 36h4v4h-4zM14 36h4v4h-4zM20 36h4v4h-4zM8 24h4v4H8zM38 24h4v4h-4z"></path><path fill="#6A6A6A" d="M14 24h4v4h-4z"></path><path fill="#363636" d="M44 24h4v4h-4z"></path><path d="M54.5 41a6.5 6.5 0 110-13 6.5 6.5 0 110 13zm0-11.782a5.281 5.281 0 100 10.563 5.281 5.281 0 000-10.563zm2.64 5.891H54.5a.61.61 0 01-.61-.61v-3.656a.61.61 0 011.219 0v3.048h2.031a.608.608 0 110 1.218z" fill="#6A6A6A"></path><path fill="#363636" d="M20 24h4v4h-4zM26 24h4v4h-4z"></path><rect fill="#6A6A6A" x="4" y="4" width="60" height="8" rx="1"></rect></g></svg>'},426:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M5.5 14A1.5 1.5 0 004 15.5v27A1.5 1.5 0 005.5 44h57a1.5 1.5 0 001.5-1.5v-27l-.007-.144A1.5 1.5 0 0062.5 14h-57zm57 1a.5.5 0 01.5.5v27a.5.5 0 01-.5.5h-57a.5.5 0 01-.5-.5v-27a.5.5 0 01.5-.5h57z" fill="#363636"></path><path fill="#363636" d="M8 18h4v4H8z"></path><path fill="#6A6A6A" d="M38 18h4v4h-4z"></path><path fill="#363636" d="M33 18h1v22h-1zM14 18h4v4h-4z"></path><path fill="#6A6A6A" d="M44 18h4v4h-4z"></path><path fill="#363636" d="M20 18h4v4h-4z"></path><path fill="#6A6A6A" d="M50 18h4v4h-4z"></path><path fill="#363636" d="M26 18h4v4h-4z"></path><path fill="#6A6A6A" d="M56 18h4v4h-4z"></path><path fill="#363636" d="M8 30h4v4H8zM38 30h4v4h-4zM14 30h4v4h-4zM44 30h4v4h-4zM20 30h4v4h-4zM50 30h4v4h-4zM26 30h4v4h-4zM56 30h4v4h-4zM8 36h4v4H8zM38 36h4v4h-4z"></path><path fill="#6A6A6A" d="M14 36h4v4h-4z"></path><path fill="#363636" d="M44 36h4v4h-4z"></path><path fill="#6A6A6A" d="M20 36h4v4h-4z"></path><path fill="#363636" d="M8 24h4v4H8z"></path><path fill="#6A6A6A" d="M38 24h4v4h-4z"></path><path fill="#363636" d="M14 24h4v4h-4z"></path><path fill="#6A6A6A" d="M44 24h4v4h-4z"></path><path fill="#363636" d="M20 24h4v4h-4zM50 24h4v4h-4zM26 24h4v4h-4zM56 24h4v4h-4z"></path><rect fill="#6A6A6A" x="4" y="4" width="28" height="8" rx="1"></rect><rect fill="#6A6A6A" x="36" y="4" width="28" height="8" rx="1"></rect></g></svg>'},427:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M5.5 14A1.5 1.5 0 004 15.5v27A1.5 1.5 0 005.5 44h57a1.5 1.5 0 001.5-1.5v-27l-.007-.144A1.5 1.5 0 0062.5 14h-57zm57 1a.5.5 0 01.5.5v27a.5.5 0 01-.5.5h-57a.5.5 0 01-.5-.5v-27a.5.5 0 01.5-.5h57z" fill="#363636"></path><path fill="#363636" d="M8 18h4v4H8z"></path><path fill="#6A6A6A" d="M38 18h4v4h-4z"></path><path fill="#363636" d="M33 18h1v22h-1zM14 18h4v4h-4z"></path><path fill="#6A6A6A" d="M44 18h4v4h-4z"></path><path fill="#363636" d="M20 18h4v4h-4z"></path><path fill="#6A6A6A" d="M50 18h4v4h-4z"></path><path fill="#363636" d="M26 18h4v4h-4z"></path><path fill="#6A6A6A" d="M56 18h4v4h-4z"></path><path fill="#363636" d="M8 30h4v4H8zM38 30h4v4h-4zM14 30h4v4h-4zM20 30h4v4h-4zM26 30h4v4h-4zM8 36h4v4H8zM38 36h4v4h-4z"></path><path fill="#6A6A6A" d="M14 36h4v4h-4zM20 36h4v4h-4z"></path><path fill="#363636" d="M8 24h4v4H8z"></path><path fill="#6A6A6A" d="M38 24h4v4h-4z"></path><path fill="#363636" d="M14 24h4v4h-4z"></path><path fill="#6A6A6A" d="M44 24h4v4h-4zM54.5 41a6.5 6.5 0 110-13 6.5 6.5 0 110 13zm0-11.782a5.281 5.281 0 100 10.563 5.281 5.281 0 000-10.563zm2.64 5.891H54.5a.61.61 0 01-.61-.61v-3.656a.61.61 0 011.219 0v3.048h2.031a.608.608 0 110 1.218z"></path><path fill="#363636" d="M20 24h4v4h-4zM26 24h4v4h-4z"></path><rect fill="#6A6A6A" x="4" y="4" width="28" height="8" rx="1"></rect><rect fill="#6A6A6A" x="36" y="4" width="28" height="8" rx="1"></rect></g></svg>'},428:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.732 9.4l1.43 1.215a2.794 2.794 0 01-.507 4.602c-2.21 1.153-4.63 1.033-7.26-.362l-.293-.16a.2.2 0 01.087-.374c1.847-.11 2.771-.888 2.771-2.334 0-1.063.299-1.96 1.18-2.59.88-.631 1.832-.457 2.592.003zm-1.945.761c-.56.472-.825 1.055-.825 1.826 0 1.22-1.19 2.713-1.987 2.713 1.3.517 3.745.799 5.212-.368.174-.139.383-.251.531-.425a1.793 1.793 0 00-.205-2.53l-1.43-1.214a1.003 1.003 0 00-1.296-.002zM15.55.251c.45.355.58.988.307 1.495L11.696 9.49a1.967 1.967 0 01-2.958.622l-.996-.788a2.018 2.018 0 01-.12-3.054l6.42-5.959a1.158 1.158 0 011.509-.06zm-.84.798l-6.42 5.96a1.01 1.01 0 00.06 1.527l.997.787a.984.984 0 001.479-.31l4.162-7.745a.182.182 0 00-.047-.229.177.177 0 00-.23.01z" fill="#FFF" fill-rule="evenodd"></path></svg>'},429:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect fill="#363636" fill-rule="nonzero" x="32" y="24" width="15" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="49" y="24" width="15" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="4" y="24" width="26" height="8" rx="1"></rect><rect fill="#6A6A6A" x="4" y="4" width="19" height="8" rx="1"></rect><rect fill="#6A6A6A" fill-rule="nonzero" x="4" y="14" width="34" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="45" y="4" width="15" height="8" rx="1"></rect><rect fill="#6A6A6A" x="25" y="4" width="18" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="40" y="14" width="24" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="4" y="34" width="24" height="8" rx="1"></rect></g></svg>'},430:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M63 14a1 1 0 011 1v28a1 1 0 01-1 1H5a1 1 0 01-1-1V15a1 1 0 011-1h58zm0 1H5v28h58V15z" fill="#363636" fill-rule="nonzero"></path><path fill="#6A6A6A" fill-rule="nonzero" d="M16 20h44v2H16zM13.055 19.16l-2.662 2.623-1.448-1.433a.56.56 0 00-.783 0 .546.546 0 000 .776l1.733 1.715c.117.116.325.168.498.158.173.007.381-.046.494-.158l2.951-2.906a.546.546 0 000-.775.56.56 0 00-.783 0zM13.055 27.16l-2.662 2.623-1.448-1.433a.56.56 0 00-.783 0 .546.546 0 000 .776l1.733 1.715c.117.116.325.168.498.158.173.007.381-.046.494-.158l2.951-2.906a.546.546 0 000-.775.56.56 0 00-.783 0zM13.055 35.16l-2.662 2.623-1.448-1.433a.56.56 0 00-.783 0 .546.546 0 000 .776l1.733 1.715c.117.116.325.168.498.158.173.007.381-.046.494-.158l2.951-2.906a.546.546 0 000-.775.56.56 0 00-.783 0zM16 28h44v2H16zM16 36h44v2H16z"></path><rect fill="#6A6A6A" fill-rule="nonzero" x="4" y="4" width="60" height="8" rx="2"></rect><path fill="#181818" d="M55 6h6l-3 4zM7 7h46v2H7z"></path></g></svg>'},431:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><defs><filter id="a"><feColorMatrix in="SourceGraphic" values="0 0 0 0 0.415686 0 0 0 0 0.415686 0 0 0 0 0.415686 0 0 0 1.000000 0"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><path d="M63 14a1 1 0 011 1v28a1 1 0 01-1 1H5a1 1 0 01-1-1V15a1 1 0 011-1h58zm0 1H5v28h58V15z" fill="#363636" fill-rule="nonzero"></path><path fill="#6A6A6A" fill-rule="nonzero" d="M16 20h44v2H16z"></path><g filter="url(#a)"><path d="M13.055 19.16l-2.662 2.623-1.448-1.433a.56.56 0 00-.783 0 .546.546 0 000 .776l1.733 1.715c.117.116.325.168.498.158.173.007.381-.046.494-.158l2.951-2.906a.546.546 0 000-.775.56.56 0 00-.783 0z" fill="#999" fill-rule="nonzero"></path></g><path fill="#363636" fill-rule="nonzero" d="M16 28h44v2H16zM16 36h44v2H16z"></path><rect fill="#6A6A6A" fill-rule="nonzero" x="4" y="4" width="60" height="8" rx="2"></rect><path fill="#181818" d="M55 6h6l-3 4zM7 7h46v2H7z"></path></g></svg>'},432:function(e,t){e.exports='<svg viewBox="0 0 68 48" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect fill="#363636" fill-rule="nonzero" x="32" y="24" width="15" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="49" y="24" width="15" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="4" y="24" width="26" height="8" rx="1"></rect><rect fill="#6A6A6A" x="4" y="4" width="19" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="4" y="14" width="34" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="45" y="4" width="15" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="25" y="4" width="18" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="40" y="14" width="24" height="8" rx="1"></rect><rect fill="#363636" fill-rule="nonzero" x="4" y="34" width="24" height="8" rx="1"></rect></g></svg>'},433:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.132 5.853c.476 0 .888.079 1.238.237.35.158.637.373.86.645.224.272.392.593.504.963.112.37.168.767.168 1.192v3.38c0 .26.007.535.021.824.014.288.04.525.077.71h-1.19a5.604 5.604 0 01-.111-1.11h-.042a2.733 2.733 0 01-.916.963c-.369.229-.805.343-1.309.343-.26 0-.534-.04-.818-.122a2.225 2.225 0 01-.776-.4 2.165 2.165 0 01-.581-.735c-.154-.305-.23-.68-.23-1.127 0-.587.134-1.053.405-1.396a2.56 2.56 0 011.063-.783c.438-.18.933-.297 1.483-.351.55-.055 1.105-.082 1.665-.082v-.212c0-.577-.15-1.004-.448-1.282-.298-.277-.695-.416-1.189-.416-.373 0-.725.084-1.056.253a2.687 2.687 0 00-.833.645l-.7-.98c.327-.359.726-.642 1.197-.849.471-.207.977-.31 1.518-.31zM5.554 2l4.253 11.56H8.24l-1.007-2.842h-4.7l-.994 2.841H0L4.295 2h1.26zm9.089 8.114h-.322c-.326 0-.664.017-1.014.05-.35.032-.667.097-.952.195-.284.098-.52.245-.706.441-.187.196-.28.457-.28.784 0 .228.04.419.12.571.078.152.183.278.314.376.13.098.275.166.434.204.158.038.321.057.49.057.615 0 1.088-.215 1.42-.645.33-.43.496-.971.496-1.625v-.408zm-9.76-6.236l-1.861 5.42h3.707l-1.846-5.42z" fill="#FFF" fill-rule="nonzero"></path></svg>'},434:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v12H0z"></path><path d="M2.5 10a.5.5 0 110 1h-2a.5.5 0 110-1h2zm9 0a.5.5 0 110 1h-6a.5.5 0 110-1h6zm-9-3a.5.5 0 010 1h-2a.5.5 0 010-1h2zm9 0a.5.5 0 110 1h-6a.5.5 0 010-1h6zm-9-3a.5.5 0 010 1h-2a.5.5 0 010-1h2zm9 0a.5.5 0 110 1h-6a.5.5 0 010-1h6zm-9-3a.5.5 0 010 1h-2a.5.5 0 010-1h2zm9 0a.5.5 0 110 1h-6a.5.5 0 010-1h6z" fill="#000"></path></g></svg>'},435:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v12H0z"></path><path d="M11.5 10a.5.5 0 110 1H.5a.5.5 0 110-1h11zm-8-3a.5.5 0 010 1h-3a.5.5 0 010-1h3zm8-3a.5.5 0 110 1H.5a.5.5 0 010-1h11zm-8-3a.5.5 0 010 1h-3a.5.5 0 010-1h3z" fill="#000"></path></g></svg>'},588:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(589),l=n(1194),p=n(130),u=n(190),c=function(e){function t(t){var n=e.call(this,t)||this;n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:i.defaultMessages[e]})},n.addClauseByType=function(e,t){t||(t=e?p.getDefaultSingleClause():p.getDefaultClauseSet());var s=n.props.expression?n.props.expression.parts.concat(t):a.Immutable([t]),o=s.length<2?{parts:s,logicalOperator:a.ClauseLogic.And}:{parts:s};n.onChange(o)},n.changeAndOR=function(e){n.onChange({logicalOperator:e})},n.onClauseChange=function(e,t){if(null!==t){var s=p.getClauseArrayByChange(n.props.expression.parts,e,t);n.onChange({parts:s})}else n.addClauseByType(e.type===a.ClauseType.Single,e)},n.onChange=function(e){var t=n.props.expression||{logicalOperator:a.ClauseLogic.And,parts:a.Immutable([])},s=Object.assign({},t,e),o=a.dataSourceUtils.getArcGISSQL(s,n.props.dataSource);o.sql===s.sql&&o.displaySQL===s.displaySQL||(s=Object.assign({},s,{sql:o.sql,displaySQL:o.displaySQL})),n.props.onChange&&n.props.onChange(s)},n.onResize=function(e){var t=p.SqlExpressionSizeMode.Medium;e<600?t=p.SqlExpressionSizeMode.Small:e>900&&(t=p.SqlExpressionSizeMode.Large),n.setState({sizeMode:t})},n.toggle=function(){n.setState({isOpen:!n.state.isOpen})};var s=n.props.dataSource;return s&&(n.isHosted=a.dataSourceUtils.isHostedService(s.url)),n.state={sizeMode:p.SqlExpressionSizeMode.Large,isOpen:!1},n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.expression||{logicalOperator:a.ClauseLogic.And,parts:a.Immutable([])},n=t.logicalOperator,s=t.parts||a.Immutable([]),o=this.props.mode?this.props.mode:a.SqlExpressionMode.All;return a.jsx("div",{className:a.classNames(this.props.className,{"use-scroll":!this.props.noScrollForList,"small-mode":this.state.sizeMode===p.SqlExpressionSizeMode.Small,"medium-mode":this.state.sizeMode===p.SqlExpressionSizeMode.Medium,"large-mode":this.state.sizeMode===p.SqlExpressionSizeMode.Large})},a.jsx(i.QueryScopeContext.Provider,{value:{scope:this.props.queryScope||a.QueryScope.InConfigView,widgetId:this.props.widgetId}},a.jsx("div",{style:this.props.style,className:"sql-expression-builder"},this.props.dataSource?a.jsx("div",{className:"sql-expression-container"},a.jsx("div",{className:"builder-btn-container",style:{justifyContent:s.length<2?"flex-end":"space-between"}},s.length<2?null:a.jsx(i.ButtonGroup,{className:"and-or-container"},a.jsx(i.Button,{onClick:function(){e.changeAndOR(a.ClauseLogic.And)},className:"ml-0",type:n===a.ClauseLogic.And?"primary":"default"},this.i18nMessage("and")),a.jsx(i.Button,{onClick:function(){e.changeAndOR(a.ClauseLogic.Or)},className:"ml-0",type:n===a.ClauseLogic.Or?"primary":"default"},this.i18nMessage("or"))),this.state.sizeMode===p.SqlExpressionSizeMode.Small?a.jsx(i.Dropdown,{activeIcon:!0},a.jsx(i.DropdownButton,{arrow:!1,size:"sm",type:"default",onClick:this.toggle,"data-toggle":"dropdown"},a.jsx(i.Icon,{icon:u,className:"text-dark dropdown-icon",size:12}),this.i18nMessage("add")),a.jsx(i.DropdownMenu,{alightment:"end"},a.jsx(i.DropdownItem,{onClick:function(){return e.addClauseByType(!0)}},this.i18nMessage("clause")),a.jsx(i.DropdownItem,{onClick:function(){return e.addClauseByType()}},this.i18nMessage("clauseSet")))):a.jsx("div",{className:"add-button-container"},a.jsx(i.Button,{className:"pl-5 pr-5",onClick:function(){return e.addClauseByType(!0)}},a.jsx(i.Icon,{icon:u,className:"mr-1",size:12}),this.i18nMessage("addClause")),a.jsx(i.Button,{className:"ml-2 pl-5 pr-5",onClick:function(){return e.addClauseByType()}},a.jsx(i.Icon,{icon:u,className:"mr-1",size:12}),this.i18nMessage("addClauseSet")))),a.jsx("div",{className:"sql-expression-list"},a.jsx(a.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}),0===s.length?a.jsx("div",{className:"no-data-tip"},this.i18nMessage("noClauseTip")):s.map((function(t,n){return t.type===a.ClauseType.Single?a.jsx(r.default,{key:n,id:"clause_"+n,clause:t,isHosted:e.isHosted,mode:o,sizeMode:e.state.sizeMode,dataSource:e.props.dataSource,onChange:e.onClauseChange}):a.jsx(l.default,{key:n,id:"clause_set_"+n,clauseSet:t,isHosted:e.isHosted,mode:o,sizeMode:e.state.sizeMode,dataSource:e.props.dataSource,onChange:e.onClauseChange})})))):a.jsx("div",{className:"no-data-tip"},this.i18nMessage("noDataTip")))))},t}(a.React.PureComponent),d=a.themeUtils.withStyles(a.injectIntl(c),"SqlExpressionBuilder");t.default=d},589:function(e,t,n){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(3),r=n(243),l=n(1190),p=n(1191),u=n(1192),c=n(130),d=n(39),h=n(182),f=n(247),g=n(38),m=n(433),v=n(434),x=n(435),y=[a.ClauseSourceType.SingleSelectFromUnique,a.ClauseSourceType.MultipleSelectFromUnique],b=function(e){function t(t){var n=e.call(this,t)||this;return n.getFieldObj=function(){var e=n.props.dataSource.getSchema().fields;n.fieldObj=n.props.clause.jimuFieldName?a.Immutable(e[n.props.clause.jimuFieldName]):null},n._updateTwoStates=function(e,t,s){n._updateCaseSensitiveState(e,t),n._updateAskForValueState(e,t),s&&n.setState({rerender:!n.state.rerender})},n.i18nMessage=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:Object.assign({},i.defaultMessages,d.defaultMessages)[e]})},n.isCascadeSupported=function(){return y.indexOf(n.props.clause.valueOptions.sourceType)>=0},n.getOperatorsByField=function(e){var t=[];return e&&e.type&&(t=c.getOperatorsByShortType(e.type,n.props.isHosted)),t},n.deleteClause=function(){n.props&&n.props.onChange(null,n.props.id)},n.toggleCaseSensitive=function(){n.onChanged({caseSensitive:!n.props.clause.caseSensitive})},n.duplicateClause=function(){n.props&&n.props.onChange(n.props.clause,null)},n.toggleValueLabelPanel=function(){n.setState({isValueLabelPanelShown:!n.state.isValueLabelPanelShown})},n.getLabel=function(){var e="";if(n.props.clause.operator){var t=n.i18nMessage(c.getCamelCase(n.props.clause.operator));e=c.getClauseLabel(n.props.clause,n.fieldObj,t)}return e},n.onAskForValueOptsChange=function(e){var t=Object.assign({},n.props.clause.askForValueOptions,e);n.onChanged({askForValueOptions:t})},n.onLabelBlur=function(e,t){if(t&&""===e)return n.labelRef=null,void n.onChanged({displayLabel:null});var s=n.i18nMessage(c.getCamelCase(n.props.clause.operator)),o=e===c.getClauseDefaultLabel(n.props.clause,n.fieldObj,s)?null:e;t?n.onChanged({displayLabel:o}):n.onAskForValueOptsChange({label:o})},n.onLabelChange=function(e){""===e&&n.setState({rerender:!n.state.rerender})},n.setValueLabelStatus=function(e){var t={displayType:e,askForValueOptions:null,displayLabel:null};if(e===a.ClauseDisplayType.UseAskForValue)t.askForValueOptions={label:null,display:a.ClauseLabelDisplay.Block,hint:"",cascade:n.isCascadeSupported()?a.ClauseCascade.None:null};else{var s=n.props.clause.valueOptions,o=n.displayTypeList[s.sourceType][0];if(s.inputEditor!==o){var i=Object.assign({},n.props.clause.valueOptions,{inputEditor:o});t=Object.assign({},t,{valueOptions:i})}}n.onChanged(t)},n.onFieldChange=function(e){var t=e[0];if(t){n.fieldObj=a.Immutable(t);var s=n._updateOptionsByField(t);n._updateTwoStates(n.operatorList[0],s.sourceType),n.onChanged({jimuFieldName:t.jimuName,operator:n.operatorList[0],caseSensitive:!1,displayType:a.ClauseDisplayType.None,askForValueOptions:null,displayLabel:null,valueOptions:s})}},n._updateOptionsByField=function(e,t){return n.operatorList=n.getOperatorsByField(e),t=t||n.operatorList[0],n._updateOptionsByOperator(e,t,e.jimuName)},n.onOperatorChange=function(e){var t=n._updateOptionsByOperator(n.fieldObj,e,n.fieldObj.jimuName);n._updateTwoStates(e,t.sourceType),n.onChanged({operator:e,caseSensitive:!1,displayType:a.ClauseDisplayType.None,askForValueOptions:null,displayLabel:null,valueOptions:t})},n._updateOptionsByOperator=function(e,t,s){var o=c.getDisplayTypes(n.props.mode,e,t,n.props.dataSource,s);return n.displayTypeList=o.displayTypes,n.codedValues=o.codedValues,c.getDefaultClauseValObj(o.defaultSourceType,o.defaultInputEditorType)},n.onValueOptsChange=function(e){e.inputEditor!==n.props.clause.valueOptions.inputEditor&&(e.inputEditor=n.props.clause.valueOptions.inputEditor),n.onChanged({valueOptions:e})},n.onSourceTypeSelect=function(e){var t="";Object.keys(n.displayTypeList).some((function(s){if(s===e)return t=n.displayTypeList[s][0],!0})),n._updateAskForValueState(n.props.clause.operator,e);var s=c.getDefaultClauseValObj(e,t);n.onChanged({valueOptions:s,displayType:a.ClauseDisplayType.None,askForValueOptions:null,displayLabel:null})},n.onInputTypeSelect=function(e){n.onChanged({valueOptions:Object.assign({},n.props.clause.valueOptions,{inputEditor:e})})},n.getValueOptions=function(){var e=n.props.clause.valueOptions;if(n.displayTypeList&&n.displayTypeList[e.sourceType]){var t=n.displayTypeList[e.sourceType][0];if(e.inputEditor!==t)return Object.assign({},e,{inputEditor:t})}return e},n.getControllers=function(e,t){return a.jsx("div",{className:"clause-controllers-container"},n.state.supportCaseSensitive&&a.jsx(i.Button,{className:"case-sensitive-btn",title:n.i18nMessage("caseSensitive"),onClick:n.toggleCaseSensitive,icon:!0,size:"sm",type:"tertiary",disabled:!(!n.props.isHosted&&t)},a.jsx(i.Badge,{dot:!0,color:"primary",hideBadge:!(!n.props.isHosted&&t&&e.caseSensitive)},a.jsx(i.Icon,{size:12,icon:m}))),n.props.mode===a.SqlExpressionMode.All&&a.jsx(i.Button,{type:"tertiary",title:n.i18nMessage("moreInputSettings"),onClick:n.toggleValueLabelPanel,icon:!0,size:"sm",className:a.classNames("more-input-setting-btn",{"more-input-setting-btn-active":n.state.isValueLabelPanelShown})},a.jsx(i.Badge,{dot:!0,color:"primary",hideBadge:e.displayType===a.ClauseDisplayType.None},a.jsx(i.Icon,{size:12,icon:h}))),a.jsx(i.Button,{type:"tertiary",title:n.i18nMessage("duplicate"),onClick:n.duplicateClause,icon:!0,size:"sm",className:"duplicate-btn"},a.jsx(i.Icon,{size:12,icon:f})),a.jsx(i.Button,{type:"tertiary",title:n.i18nMessage("deleteClause"),onClick:n.deleteClause,icon:!0,size:"sm",className:"delete-btn"},a.jsx(i.Icon,{size:12,icon:g})))},n.onChanged=function(e){var t=Object.assign({},n.props.clause,e),s=!0;if(null===t.askForValueOptions&&-1===t.operator.indexOf("BLANK")&&(s=!(null===t.valueOptions.value||t.valueOptions.value.filter((function(e){return null===e||null===(null==e?void 0:e.value)})).length>0)),s!==t.valueOptions.isValid){var o=c.getDefaultClauseValObj(t.valueOptions.sourceType,t.valueOptions.inputEditor,t.valueOptions.value,s);t=Object.assign({},t,{valueOptions:o})}n.props&&n.props.onChange(t,n.props.id)},n.state={rerender:!1,supportCaseSensitive:!1,supportAskForValue:!1,isValueLabelPanelShown:!1},n._isMounted=!1,n.getFieldObj(),n.labelRef=null,n.codedValues=n.props.clause&&n.fieldObj?n.getCodedValues():null,n}return o(t,e),t.prototype.getCodedValues=function(){return c.getInputEditorListByOperatorAndSourceType(this.props.clause.operator,this.props.clause.valueOptions.sourceType,this.props.dataSource,this.fieldObj.jimuName).codedValues},t.prototype.componentDidMount=function(){this._isMounted=!1,this.props.clause.operator&&(this._updateOptionsByField(this.fieldObj,this.props.clause.operator),this._updateTwoStates(this.props.clause.operator,this.props.clause.valueOptions.sourceType,!0))},t.prototype.componentDidUpdate=function(e,t){if(!this._isMounted){var n=this.props.clause.jimuFieldName!==e.clause.jimuFieldName,s=this.props.clause.operator!==e.clause.operator;if(n&&(this.getFieldObj(),this.operatorList=this.getOperatorsByField(this.fieldObj)),n||s){var o=c.getDisplayTypes(this.props.mode,this.fieldObj,this.props.clause.operator,this.props.dataSource,this.fieldObj.jimuName);this.displayTypeList=o.displayTypes,this.codedValues=o.codedValues,this._updateTwoStates(this.props.clause.operator,this.props.clause.valueOptions.sourceType,!0)}}},t.prototype.componentWillMount=function(){this._isMounted=!0},t.prototype._updateCaseSensitiveState=function(e,t){var n=c.isCaseSensitiveSupportedByOperatorAndSourceType(e,t);this.setState({supportCaseSensitive:n})},t.prototype._updateAskForValueState=function(e,t){var n=c.isAskForValueSupportedByOperatorAndSourceType(e,t);this.setState({supportAskForValue:n}),this.setState({isValueLabelPanelShown:!1})},t.prototype.render=function(){var e,t,n,s,o,d=this,h=this.props.clause,f=this.getLabel(),g=""===(null===(e=this.labelRef)||void 0===e?void 0:e.value)?"":f,m=!h.operator||-1===h.operator.indexOf("BLANK");return a.jsx("div",{className:this.props.className?this.props.className:""},a.jsx("div",{className:"sql-expression-single"},a.jsx("div",{className:"sql-expression-clause"},this.props.sizeMode!==c.SqlExpressionSizeMode.Large&&this.getControllers(h,m),a.jsx("div",{className:"w-100 clause-main-container"},a.jsx("div",{className:"clause-field-and-operator"},a.jsx("div",{className:"clause-field-container"},a.jsx(r.FieldSelector,{dataSources:[this.props.dataSource],getDefaultField:function(e){!d.fieldObj&&d.onFieldChange([e])},onChange:this.onFieldChange,selectedFields:this.fieldObj?a.Immutable([this.fieldObj.jimuName]):null,isDataSourceDropDownHidden:!0,isSearchInputHidden:!0,useDropdown:!0,dropdownProps:{size:"sm"}})),a.jsx("div",{className:"clause-operator-container"},a.jsx(l.OperatorSelector,{onChange:this.onOperatorChange,value:h.operator,list:this.operatorList}))),a.jsx("div",{className:"clause-style-container"},m&&a.jsx(p.default,{onSelect:this.onSourceTypeSelect,list:this.displayTypeList,sourceType:h.valueOptions.sourceType}),m&&a.jsx(c.InputEditorRender,{onChange:this.onValueOptsChange,dataSource:this.props.dataSource,codedValues:this.codedValues,valueOptions:this.getValueOptions(),fieldObj:this.fieldObj,runtime:!1,isSmallSize:this.props.sizeMode===c.SqlExpressionSizeMode.Small})),this.props.sizeMode===c.SqlExpressionSizeMode.Large&&this.getControllers(h,m))),this.state.isValueLabelPanelShown&&a.jsx("div",{className:"ask-for-value-container"},a.jsx("div",{className:"ask-for-value-radio d-flex mr-4"},a.jsx(i.Radio,{style:{cursor:"pointer"},onChange:function(e){return d.setValueLabelStatus(a.ClauseDisplayType.None)},checked:h.displayType!==a.ClauseDisplayType.UseAskForValue}),a.jsx("label",{className:"m-0 ml-2",style:{cursor:"pointer"}},this.i18nMessage("unAskForValues"))),h.displayType!==a.ClauseDisplayType.UseAskForValue&&a.jsx("div",{className:"ask-for-value-options d-flex mt-2"},a.jsx(i.Checkbox,{className:"mt-1",checked:h.displayType===a.ClauseDisplayType.UseLabel,onChange:function(e){return d.setValueLabelStatus(e.target.checked?a.ClauseDisplayType.UseLabel:a.ClauseDisplayType.None)}}),a.jsx(i.Label,{className:"m-0 ml-2 mt-1",style:{cursor:"pointer"}},this.i18nMessage("displayLabel")),h.displayType===a.ClauseDisplayType.UseLabel&&a.jsx("div",{className:"ml-2 w-25"},a.jsx(i.TextInput,{type:"text",value:g,ref:function(e){return d.labelRef=e},onChange:function(e){return d.onLabelChange(e.target.value)},size:"sm",onBlur:function(e){return d.onLabelBlur(e.target.value,!0)}}))),a.jsx("div",{className:"d-flex align-items-center"},this.state.supportAskForValue&&a.jsx("div",{className:"ask-for-value-radio d-flex"},a.jsx(i.Radio,{style:{cursor:"pointer"},onChange:function(){return d.setValueLabelStatus(a.ClauseDisplayType.UseAskForValue)},checked:h.displayType===a.ClauseDisplayType.UseAskForValue}),a.jsx("label",{className:"m-0 ml-2 text-nowrap",style:{cursor:"pointer"}},this.i18nMessage("askForValues"))),this.state.supportAskForValue&&h.displayType===a.ClauseDisplayType.UseAskForValue&&this.displayTypeList&&this.displayTypeList[h.valueOptions.sourceType].length>1&&a.jsx("div",{className:"ask-for-value-item ask-for-value-middle-item ml-5"},a.jsx(u.default,{onSelect:this.onInputTypeSelect,inputEditorType:h.valueOptions.inputEditor,list:this.displayTypeList[h.valueOptions.sourceType],fieldName:null===(t=this.fieldObj)||void 0===t?void 0:t.name,codedValues:this.codedValues,dataSource:this.props.dataSource}))),this.state.supportAskForValue&&h.displayType===a.ClauseDisplayType.UseAskForValue&&a.jsx("div",{className:"ask-for-value-options d-flex"},a.jsx("div",{className:"ask-for-value-item col-md-3 p-1"},a.jsx("div",{className:"ask-for-value-item-label"},this.i18nMessage("label")),a.jsx("div",{className:"d-flex"},a.jsx(i.TextInput,{type:"text",value:f,size:"sm",onChange:function(e){d.onLabelBlur(e.target.value)}}),a.jsx(i.ButtonGroup,{className:"label-display-buttons pl-1"},a.jsx(i.Button,{onClick:function(){d.onAskForValueOptsChange({display:a.ClauseLabelDisplay.Block})},icon:!0,size:"sm",title:this.i18nMessage("inlineLabel"),type:(null===(n=h.askForValueOptions)||void 0===n?void 0:n.display)===a.ClauseLabelDisplay.Block?"primary":"default"},a.jsx(i.Icon,{size:16,icon:x})),a.jsx(i.Button,{onClick:function(){d.onAskForValueOptsChange({display:a.ClauseLabelDisplay.Inline})},icon:!0,size:"sm",title:this.i18nMessage("separateLabel"),type:(null===(s=h.askForValueOptions)||void 0===s?void 0:s.display)&&(null===(o=h.askForValueOptions)||void 0===o?void 0:o.display)!==a.ClauseLabelDisplay.Inline?"default":"primary"},a.jsx(i.Icon,{size:16,icon:v}))))),a.jsx("div",{className:"ask-for-value-item ask-for-value-middle-item col-md-3 p-1"},a.jsx("div",{className:"ask-for-value-item-label"},this.i18nMessage("hint")),a.jsx(i.TextInput,{type:"text",value:h.askForValueOptions?h.askForValueOptions.hint:"",size:"sm",onBlur:function(e){d.onAskForValueOptsChange({hint:e.target.value})}})),this.isCascadeSupported()&&a.jsx("div",{className:"ask-for-value-item col-md-5 p-1"},a.jsx("div",{className:"ask-for-value-item-label",title:this.i18nMessage("cascade")},this.i18nMessage("cascade")),a.jsx(i.Select,{size:"sm",value:h.askForValueOptions?h.askForValueOptions.cascade:a.ClauseCascade.None,onChange:function(e){d.onAskForValueOptsChange({cascade:e.target.value})}},a.jsx("option",{key:0,value:a.ClauseCascade.None},this.i18nMessage("noneCascadeTip")),a.jsx("option",{key:1,value:a.ClauseCascade.Previous},this.i18nMessage("previousCascadeTip")),a.jsx("option",{key:2,value:a.ClauseCascade.All},this.i18nMessage("allCascadeTip"))))))))},t}(a.React.PureComponent);t._SqlExprClause=b;var M=a.themeUtils.withStyles(a.injectIntl(b),"SqlExpressionClause");t.default=M}})}));